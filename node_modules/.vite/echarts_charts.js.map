{
  "version": 3,
  "sources": ["../echarts/lib/chart/line/LineSeries.js", "../echarts/lib/chart/line/helper.js", "../echarts/lib/util/vendor.js", "../echarts/lib/chart/line/lineAnimationDiff.js", "../echarts/lib/chart/line/poly.js", "../echarts/lib/chart/helper/createClipPathFromCoordSys.js", "../echarts/lib/chart/line/LineView.js", "../echarts/lib/layout/points.js", "../echarts/lib/processor/dataSample.js", "../echarts/lib/chart/line/install.js", "../echarts/lib/chart/bar/BaseBarSeries.js", "../echarts/lib/chart/bar/BarSeries.js", "../echarts/lib/util/shape/sausage.js", "../echarts/lib/chart/bar/BarView.js", "../echarts/lib/chart/bar/install.js", "../echarts/lib/chart/pie/pieLayout.js", "../echarts/lib/processor/dataFilter.js", "../echarts/lib/chart/pie/labelLayout.js", "../echarts/lib/chart/helper/pieHelper.js", "../echarts/lib/chart/pie/PieView.js", "../echarts/lib/chart/helper/createListSimply.js", "../echarts/lib/visual/LegendVisualProvider.js", "../echarts/lib/chart/pie/PieSeries.js", "../echarts/lib/chart/pie/install.js", "../echarts/lib/chart/scatter/ScatterSeries.js", "../echarts/lib/chart/helper/LargeSymbolDraw.js", "../echarts/lib/chart/scatter/ScatterView.js", "../echarts/lib/chart/scatter/install.js", "../echarts/lib/chart/radar/radarLayout.js", "../echarts/lib/chart/radar/backwardCompat.js", "../echarts/lib/chart/radar/RadarView.js", "../echarts/lib/chart/radar/RadarSeries.js", "../echarts/lib/chart/radar/install.js", "../echarts/lib/chart/map/MapView.js", "../echarts/lib/chart/map/MapSeries.js", "../echarts/lib/chart/map/mapDataStatistic.js", "../echarts/lib/chart/map/mapSymbolLayout.js", "../echarts/lib/chart/map/install.js", "../echarts/lib/chart/tree/layoutHelper.js", "../echarts/lib/chart/tree/TreeView.js", "../echarts/lib/data/helper/linkList.js", "../echarts/lib/data/Tree.js", "../echarts/lib/chart/helper/treeHelper.js", "../echarts/lib/chart/tree/TreeSeries.js", "../echarts/lib/chart/tree/traversalHelper.js", "../echarts/lib/chart/tree/treeLayout.js", "../echarts/lib/chart/tree/treeVisual.js", "../echarts/lib/chart/tree/treeAction.js", "../echarts/lib/chart/tree/install.js", "../echarts/lib/chart/treemap/treemapAction.js", "../echarts/lib/chart/helper/enableAriaDecalForTree.js", "../echarts/lib/chart/treemap/TreemapSeries.js", "../echarts/lib/chart/treemap/Breadcrumb.js", "../echarts/lib/util/animation.js", "../echarts/lib/chart/treemap/TreemapView.js", "../echarts/lib/chart/treemap/treemapVisual.js", "../echarts/lib/chart/treemap/treemapLayout.js", "../echarts/lib/chart/treemap/install.js", "../echarts/lib/chart/graph/categoryFilter.js", "../echarts/lib/chart/graph/categoryVisual.js", "../echarts/lib/chart/graph/edgeVisual.js", "../echarts/lib/chart/helper/multipleGraphEdgeHelper.js", "../echarts/lib/chart/graph/simpleLayoutHelper.js", "../echarts/lib/chart/graph/simpleLayout.js", "../echarts/lib/chart/graph/graphHelper.js", "../echarts/lib/chart/graph/circularLayoutHelper.js", "../echarts/lib/chart/graph/circularLayout.js", "../echarts/lib/chart/graph/forceHelper.js", "../echarts/lib/chart/graph/forceLayout.js", "../echarts/lib/chart/graph/createView.js", "../echarts/lib/chart/graph/adjustEdge.js", "../echarts/lib/chart/graph/GraphView.js", "../echarts/lib/data/Graph.js", "../echarts/lib/chart/helper/createGraphFromNodeEdge.js", "../echarts/lib/chart/graph/GraphSeries.js", "../echarts/lib/chart/graph/install.js", "../echarts/lib/chart/gauge/PointerPath.js", "../echarts/lib/chart/gauge/GaugeView.js", "../echarts/lib/chart/gauge/GaugeSeries.js", "../echarts/lib/chart/gauge/install.js", "../echarts/lib/chart/funnel/FunnelView.js", "../echarts/lib/chart/funnel/FunnelSeries.js", "../echarts/lib/chart/funnel/funnelLayout.js", "../echarts/lib/chart/funnel/install.js", "../echarts/lib/chart/parallel/ParallelView.js", "../echarts/lib/chart/parallel/ParallelSeries.js", "../echarts/lib/chart/parallel/parallelVisual.js", "../echarts/lib/chart/parallel/install.js", "../echarts/lib/chart/sankey/SankeyView.js", "../echarts/lib/chart/sankey/SankeySeries.js", "../echarts/lib/chart/sankey/sankeyLayout.js", "../echarts/lib/chart/sankey/sankeyVisual.js", "../echarts/lib/chart/sankey/install.js", "../echarts/lib/chart/helper/whiskerBoxCommon.js", "../echarts/lib/chart/boxplot/BoxplotSeries.js", "../echarts/lib/chart/boxplot/BoxplotView.js", "../echarts/lib/chart/boxplot/boxplotVisual.js", "../echarts/lib/chart/boxplot/boxplotLayout.js", "../echarts/lib/chart/boxplot/prepareBoxplotData.js", "../echarts/lib/chart/boxplot/boxplotTransform.js", "../echarts/lib/chart/boxplot/install.js", "../echarts/lib/chart/candlestick/CandlestickView.js", "../echarts/lib/chart/candlestick/CandlestickSeries.js", "../echarts/lib/chart/candlestick/preprocessor.js", "../echarts/lib/chart/candlestick/candlestickVisual.js", "../echarts/lib/chart/candlestick/candlestickLayout.js", "../echarts/lib/chart/candlestick/install.js", "../echarts/lib/chart/helper/EffectSymbol.js", "../echarts/lib/chart/effectScatter/EffectScatterView.js", "../echarts/lib/chart/effectScatter/EffectScatterSeries.js", "../echarts/lib/chart/effectScatter/install.js", "../echarts/lib/chart/helper/EffectLine.js", "../echarts/lib/chart/helper/Polyline.js", "../echarts/lib/chart/helper/EffectPolyline.js", "../echarts/lib/chart/helper/LargeLineDraw.js", "../echarts/lib/chart/lines/linesLayout.js", "../echarts/lib/chart/lines/LinesView.js", "../echarts/lib/chart/lines/LinesSeries.js", "../echarts/lib/chart/lines/linesVisual.js", "../echarts/lib/chart/lines/install.js", "../echarts/lib/chart/heatmap/HeatmapLayer.js", "../echarts/lib/chart/heatmap/HeatmapView.js", "../echarts/lib/chart/heatmap/HeatmapSeries.js", "../echarts/lib/chart/heatmap/install.js", "../echarts/lib/chart/bar/PictorialBarView.js", "../echarts/lib/chart/bar/PictorialBarSeries.js", "../echarts/lib/chart/bar/installPictorialBar.js", "../echarts/lib/chart/themeRiver/ThemeRiverView.js", "../echarts/lib/chart/themeRiver/ThemeRiverSeries.js", "../echarts/lib/chart/themeRiver/themeRiverLayout.js", "../echarts/lib/chart/themeRiver/install.js", "../echarts/lib/chart/sunburst/SunburstPiece.js", "../echarts/lib/chart/sunburst/sunburstAction.js", "../echarts/lib/chart/sunburst/SunburstView.js", "../echarts/lib/chart/sunburst/SunburstSeries.js", "../echarts/lib/chart/sunburst/sunburstLayout.js", "../echarts/lib/chart/sunburst/sunburstVisual.js", "../echarts/lib/chart/sunburst/install.js", "../echarts/lib/coord/cartesian/prepareCustom.js", "../echarts/lib/coord/geo/prepareCustom.js", "../echarts/lib/coord/single/prepareCustom.js", "../echarts/lib/coord/polar/prepareCustom.js", "../echarts/lib/coord/calendar/prepareCustom.js", "../zrender/lib/tool/morphPath.js", "../echarts/lib/chart/custom/install.js"],
  "sourcesContent": ["\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { __extends } from \"tslib\";\nimport createListFromArray from '../helper/createListFromArray';\nimport SeriesModel from '../../model/Series';\nimport { createSymbol } from '../../util/symbol';\nimport { Group } from '../../util/graphic';\n\nvar LineSeriesModel =\n/** @class */\nfunction (_super) {\n  __extends(LineSeriesModel, _super);\n\n  function LineSeriesModel() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n\n    _this.type = LineSeriesModel.type;\n    _this.hasSymbolVisual = true;\n    return _this;\n  }\n\n  LineSeriesModel.prototype.getInitialData = function (option) {\n    if (process.env.NODE_ENV !== 'production') {\n      var coordSys = option.coordinateSystem;\n\n      if (coordSys !== 'polar' && coordSys !== 'cartesian2d') {\n        throw new Error('Line not support coordinateSystem besides cartesian and polar');\n      }\n    }\n\n    return createListFromArray(this.getSource(), this, {\n      useEncodeDefaulter: true\n    });\n  };\n\n  LineSeriesModel.prototype.getLegendIcon = function (opt) {\n    var group = new Group();\n    var line = createSymbol('line', 0, opt.itemHeight / 2, opt.itemWidth, 0, opt.lineStyle.stroke, false);\n    group.add(line);\n    line.setStyle(opt.lineStyle);\n    var visualType = this.getData().getVisual('symbol');\n    var visualRotate = this.getData().getVisual('symbolRotate');\n    var symbolType = visualType === 'none' ? 'circle' : visualType; // Symbol size is 80% when there is a line\n\n    var size = opt.itemHeight * 0.8;\n    var symbol = createSymbol(symbolType, (opt.itemWidth - size) / 2, (opt.itemHeight - size) / 2, size, size, opt.itemStyle.fill);\n    group.add(symbol);\n    symbol.setStyle(opt.itemStyle);\n    var symbolRotate = opt.iconRotate === 'inherit' ? visualRotate : opt.iconRotate || 0;\n    symbol.rotation = symbolRotate * Math.PI / 180;\n    symbol.setOrigin([opt.itemWidth / 2, opt.itemHeight / 2]);\n\n    if (symbolType.indexOf('empty') > -1) {\n      symbol.style.stroke = symbol.style.fill;\n      symbol.style.fill = '#fff';\n      symbol.style.lineWidth = 2;\n    }\n\n    return group;\n  };\n\n  LineSeriesModel.type = 'series.line';\n  LineSeriesModel.dependencies = ['grid', 'polar'];\n  LineSeriesModel.defaultOption = {\n    zlevel: 0,\n    z: 3,\n    coordinateSystem: 'cartesian2d',\n    legendHoverLink: true,\n    clip: true,\n    label: {\n      position: 'top'\n    },\n    // itemStyle: {\n    // },\n    endLabel: {\n      show: false,\n      valueAnimation: true,\n      distance: 8\n    },\n    lineStyle: {\n      width: 2,\n      type: 'solid'\n    },\n    emphasis: {\n      scale: true,\n      lineStyle: {\n        width: 'bolder'\n      }\n    },\n    // areaStyle: {\n    // origin of areaStyle. Valid values:\n    // `'auto'/null/undefined`: from axisLine to data\n    // `'start'`: from min to data\n    // `'end'`: from data to max\n    // origin: 'auto'\n    // },\n    // false, 'start', 'end', 'middle'\n    step: false,\n    // Disabled if step is true\n    smooth: false,\n    smoothMonotone: null,\n    symbol: 'emptyCircle',\n    symbolSize: 4,\n    symbolRotate: null,\n    showSymbol: true,\n    // `false`: follow the label interval strategy.\n    // `true`: show all symbols.\n    // `'auto'`: If possible, show all symbols, otherwise\n    //           follow the label interval strategy.\n    showAllSymbol: 'auto',\n    // Whether to connect break point.\n    connectNulls: false,\n    // Sampling for large data. Can be: 'average', 'max', 'min', 'sum', 'lttb'.\n    sampling: 'none',\n    animationEasing: 'linear',\n    // Disable progressive\n    progressive: 0,\n    hoverLayerThreshold: Infinity\n  };\n  return LineSeriesModel;\n}(SeriesModel);\n\nexport default LineSeriesModel;", "\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { isDimensionStacked } from '../../data/helper/dataStackHelper';\nimport { map } from 'zrender/lib/core/util';\nexport function prepareDataCoordInfo(coordSys, data, valueOrigin) {\n  var baseAxis = coordSys.getBaseAxis();\n  var valueAxis = coordSys.getOtherAxis(baseAxis);\n  var valueStart = getValueStart(valueAxis, valueOrigin);\n  var baseAxisDim = baseAxis.dim;\n  var valueAxisDim = valueAxis.dim;\n  var valueDim = data.mapDimension(valueAxisDim);\n  var baseDim = data.mapDimension(baseAxisDim);\n  var baseDataOffset = valueAxisDim === 'x' || valueAxisDim === 'radius' ? 1 : 0;\n  var dims = map(coordSys.dimensions, function (coordDim) {\n    return data.mapDimension(coordDim);\n  });\n  var stacked = false;\n  var stackResultDim = data.getCalculationInfo('stackResultDimension');\n\n  if (isDimensionStacked(data, dims[0]\n  /*, dims[1]*/\n  )) {\n    // jshint ignore:line\n    stacked = true;\n    dims[0] = stackResultDim;\n  }\n\n  if (isDimensionStacked(data, dims[1]\n  /*, dims[0]*/\n  )) {\n    // jshint ignore:line\n    stacked = true;\n    dims[1] = stackResultDim;\n  }\n\n  return {\n    dataDimsForPoint: dims,\n    valueStart: valueStart,\n    valueAxisDim: valueAxisDim,\n    baseAxisDim: baseAxisDim,\n    stacked: !!stacked,\n    valueDim: valueDim,\n    baseDim: baseDim,\n    baseDataOffset: baseDataOffset,\n    stackedOverDimension: data.getCalculationInfo('stackedOverDimension')\n  };\n}\n\nfunction getValueStart(valueAxis, valueOrigin) {\n  var valueStart = 0;\n  var extent = valueAxis.scale.getExtent();\n\n  if (valueOrigin === 'start') {\n    valueStart = extent[0];\n  } else if (valueOrigin === 'end') {\n    valueStart = extent[1];\n  } // auto\n  else {\n      // Both positive\n      if (extent[0] > 0) {\n        valueStart = extent[0];\n      } // Both negative\n      else if (extent[1] < 0) {\n          valueStart = extent[1];\n        } // If is one positive, and one negative, onZero shall be true\n\n    }\n\n  return valueStart;\n}\n\nexport function getStackedOnPoint(dataCoordInfo, coordSys, data, idx) {\n  var value = NaN;\n\n  if (dataCoordInfo.stacked) {\n    value = data.get(data.getCalculationInfo('stackedOverDimension'), idx);\n  }\n\n  if (isNaN(value)) {\n    value = dataCoordInfo.valueStart;\n  }\n\n  var baseDataOffset = dataCoordInfo.baseDataOffset;\n  var stackedData = [];\n  stackedData[baseDataOffset] = data.get(dataCoordInfo.baseDim, idx);\n  stackedData[1 - baseDataOffset] = value;\n  return coordSys.dataToPoint(stackedData);\n}", "\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { isArray } from 'zrender/lib/core/util';\n/* global Float32Array */\n\nvar supportFloat32Array = typeof Float32Array !== 'undefined';\nvar Float32ArrayCtor = !supportFloat32Array ? Array : Float32Array;\nexport function createFloat32Array(arg) {\n  if (isArray(arg)) {\n    // Return self directly if don't support TypedArray.\n    return supportFloat32Array ? new Float32Array(arg) : arg;\n  } // Else is number\n\n\n  return new Float32ArrayCtor(arg);\n}", "\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { prepareDataCoordInfo, getStackedOnPoint } from './helper';\nimport { createFloat32Array } from '../../util/vendor';\n\nfunction diffData(oldData, newData) {\n  var diffResult = [];\n  newData.diff(oldData).add(function (idx) {\n    diffResult.push({\n      cmd: '+',\n      idx: idx\n    });\n  }).update(function (newIdx, oldIdx) {\n    diffResult.push({\n      cmd: '=',\n      idx: oldIdx,\n      idx1: newIdx\n    });\n  }).remove(function (idx) {\n    diffResult.push({\n      cmd: '-',\n      idx: idx\n    });\n  }).execute();\n  return diffResult;\n}\n\nexport default function lineAnimationDiff(oldData, newData, oldStackedOnPoints, newStackedOnPoints, oldCoordSys, newCoordSys, oldValueOrigin, newValueOrigin) {\n  var diff = diffData(oldData, newData); // let newIdList = newData.mapArray(newData.getId);\n  // let oldIdList = oldData.mapArray(oldData.getId);\n  // convertToIntId(newIdList, oldIdList);\n  // // FIXME One data ?\n  // diff = arrayDiff(oldIdList, newIdList);\n\n  var currPoints = [];\n  var nextPoints = []; // Points for stacking base line\n\n  var currStackedPoints = [];\n  var nextStackedPoints = [];\n  var status = [];\n  var sortedIndices = [];\n  var rawIndices = [];\n  var newDataOldCoordInfo = prepareDataCoordInfo(oldCoordSys, newData, oldValueOrigin); // const oldDataNewCoordInfo = prepareDataCoordInfo(newCoordSys, oldData, newValueOrigin);\n\n  var oldPoints = oldData.getLayout('points') || [];\n  var newPoints = newData.getLayout('points') || [];\n\n  for (var i = 0; i < diff.length; i++) {\n    var diffItem = diff[i];\n    var pointAdded = true;\n    var oldIdx2 = void 0;\n    var newIdx2 = void 0; // FIXME, animation is not so perfect when dataZoom window moves fast\n    // Which is in case remvoing or add more than one data in the tail or head\n\n    switch (diffItem.cmd) {\n      case '=':\n        oldIdx2 = diffItem.idx * 2;\n        newIdx2 = diffItem.idx1 * 2;\n        var currentX = oldPoints[oldIdx2];\n        var currentY = oldPoints[oldIdx2 + 1];\n        var nextX = newPoints[newIdx2];\n        var nextY = newPoints[newIdx2 + 1]; // If previous data is NaN, use next point directly\n\n        if (isNaN(currentX) || isNaN(currentY)) {\n          currentX = nextX;\n          currentY = nextY;\n        }\n\n        currPoints.push(currentX, currentY);\n        nextPoints.push(nextX, nextY);\n        currStackedPoints.push(oldStackedOnPoints[oldIdx2], oldStackedOnPoints[oldIdx2 + 1]);\n        nextStackedPoints.push(newStackedOnPoints[newIdx2], newStackedOnPoints[newIdx2 + 1]);\n        rawIndices.push(newData.getRawIndex(diffItem.idx1));\n        break;\n\n      case '+':\n        var newIdx = diffItem.idx;\n        var newDataDimsForPoint = newDataOldCoordInfo.dataDimsForPoint;\n        var oldPt = oldCoordSys.dataToPoint([newData.get(newDataDimsForPoint[0], newIdx), newData.get(newDataDimsForPoint[1], newIdx)]);\n        newIdx2 = newIdx * 2;\n        currPoints.push(oldPt[0], oldPt[1]);\n        nextPoints.push(newPoints[newIdx2], newPoints[newIdx2 + 1]);\n        var stackedOnPoint = getStackedOnPoint(newDataOldCoordInfo, oldCoordSys, newData, newIdx);\n        currStackedPoints.push(stackedOnPoint[0], stackedOnPoint[1]);\n        nextStackedPoints.push(newStackedOnPoints[newIdx2], newStackedOnPoints[newIdx2 + 1]);\n        rawIndices.push(newData.getRawIndex(newIdx));\n        break;\n\n      case '-':\n        pointAdded = false;\n    } // Original indices\n\n\n    if (pointAdded) {\n      status.push(diffItem);\n      sortedIndices.push(sortedIndices.length);\n    }\n  } // Diff result may be crossed if all items are changed\n  // Sort by data index\n\n\n  sortedIndices.sort(function (a, b) {\n    return rawIndices[a] - rawIndices[b];\n  });\n  var len = currPoints.length;\n  var sortedCurrPoints = createFloat32Array(len);\n  var sortedNextPoints = createFloat32Array(len);\n  var sortedCurrStackedPoints = createFloat32Array(len);\n  var sortedNextStackedPoints = createFloat32Array(len);\n  var sortedStatus = [];\n\n  for (var i = 0; i < sortedIndices.length; i++) {\n    var idx = sortedIndices[i];\n    var i2 = i * 2;\n    var idx2 = idx * 2;\n    sortedCurrPoints[i2] = currPoints[idx2];\n    sortedCurrPoints[i2 + 1] = currPoints[idx2 + 1];\n    sortedNextPoints[i2] = nextPoints[idx2];\n    sortedNextPoints[i2 + 1] = nextPoints[idx2 + 1];\n    sortedCurrStackedPoints[i2] = currStackedPoints[idx2];\n    sortedCurrStackedPoints[i2 + 1] = currStackedPoints[idx2 + 1];\n    sortedNextStackedPoints[i2] = nextStackedPoints[idx2];\n    sortedNextStackedPoints[i2 + 1] = nextStackedPoints[idx2 + 1];\n    sortedStatus[i] = status[idx];\n  }\n\n  return {\n    current: sortedCurrPoints,\n    next: sortedNextPoints,\n    stackedOnCurrent: sortedCurrStackedPoints,\n    stackedOnNext: sortedNextStackedPoints,\n    status: sortedStatus\n  };\n}", "\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { __extends } from \"tslib\"; // Poly path support NaN point\n\nimport Path from 'zrender/lib/graphic/Path';\nimport PathProxy from 'zrender/lib/core/PathProxy';\nimport { cubicRootAt, cubicAt } from 'zrender/lib/core/curve';\nvar mathMin = Math.min;\nvar mathMax = Math.max;\n\nfunction isPointNull(x, y) {\n  return isNaN(x) || isNaN(y);\n}\n/**\n * Draw smoothed line in non-monotone, in may cause undesired curve in extreme\n * situations. This should be used when points are non-monotone neither in x or\n * y dimension.\n */\n\n\nfunction drawSegment(ctx, points, start, segLen, allLen, dir, smooth, smoothMonotone, connectNulls) {\n  var prevX;\n  var prevY;\n  var cpx0;\n  var cpy0;\n  var cpx1;\n  var cpy1;\n  var idx = start;\n  var k = 0;\n\n  for (; k < segLen; k++) {\n    var x = points[idx * 2];\n    var y = points[idx * 2 + 1];\n\n    if (idx >= allLen || idx < 0) {\n      break;\n    }\n\n    if (isPointNull(x, y)) {\n      if (connectNulls) {\n        idx += dir;\n        continue;\n      }\n\n      break;\n    }\n\n    if (idx === start) {\n      ctx[dir > 0 ? 'moveTo' : 'lineTo'](x, y);\n      cpx0 = x;\n      cpy0 = y;\n    } else {\n      var dx = x - prevX;\n      var dy = y - prevY; // Ignore tiny segment.\n\n      if (dx * dx + dy * dy < 0.5) {\n        idx += dir;\n        continue;\n      }\n\n      if (smooth > 0) {\n        var nextIdx = idx + dir;\n        var nextX = points[nextIdx * 2];\n        var nextY = points[nextIdx * 2 + 1];\n        var tmpK = k + 1;\n\n        if (connectNulls) {\n          // Find next point not null\n          while (isPointNull(nextX, nextY) && tmpK < segLen) {\n            tmpK++;\n            nextIdx += dir;\n            nextX = points[nextIdx * 2];\n            nextY = points[nextIdx * 2 + 1];\n          }\n        }\n\n        var ratioNextSeg = 0.5;\n        var vx = 0;\n        var vy = 0;\n        var nextCpx0 = void 0;\n        var nextCpy0 = void 0; // Is last point\n\n        if (tmpK >= segLen || isPointNull(nextX, nextY)) {\n          cpx1 = x;\n          cpy1 = y;\n        } else {\n          vx = nextX - prevX;\n          vy = nextY - prevY;\n          var dx0 = x - prevX;\n          var dx1 = nextX - x;\n          var dy0 = y - prevY;\n          var dy1 = nextY - y;\n          var lenPrevSeg = void 0;\n          var lenNextSeg = void 0;\n\n          if (smoothMonotone === 'x') {\n            lenPrevSeg = Math.abs(dx0);\n            lenNextSeg = Math.abs(dx1);\n            cpx1 = x - lenPrevSeg * smooth;\n            cpy1 = y;\n            nextCpx0 = x + lenPrevSeg * smooth;\n            nextCpy0 = y;\n          } else if (smoothMonotone === 'y') {\n            lenPrevSeg = Math.abs(dy0);\n            lenNextSeg = Math.abs(dy1);\n            cpx1 = x;\n            cpy1 = y - lenPrevSeg * smooth;\n            nextCpx0 = x;\n            nextCpy0 = y + lenPrevSeg * smooth;\n          } else {\n            lenPrevSeg = Math.sqrt(dx0 * dx0 + dy0 * dy0);\n            lenNextSeg = Math.sqrt(dx1 * dx1 + dy1 * dy1); // Use ratio of seg length\n\n            ratioNextSeg = lenNextSeg / (lenNextSeg + lenPrevSeg);\n            cpx1 = x - vx * smooth * (1 - ratioNextSeg);\n            cpy1 = y - vy * smooth * (1 - ratioNextSeg); // cp0 of next segment\n\n            nextCpx0 = x + vx * smooth * ratioNextSeg;\n            nextCpy0 = y + vy * smooth * ratioNextSeg; // Smooth constraint between point and next point.\n            // Avoid exceeding extreme after smoothing.\n\n            nextCpx0 = mathMin(nextCpx0, mathMax(nextX, x));\n            nextCpy0 = mathMin(nextCpy0, mathMax(nextY, y));\n            nextCpx0 = mathMax(nextCpx0, mathMin(nextX, x));\n            nextCpy0 = mathMax(nextCpy0, mathMin(nextY, y)); // Reclaculate cp1 based on the adjusted cp0 of next seg.\n\n            vx = nextCpx0 - x;\n            vy = nextCpy0 - y;\n            cpx1 = x - vx * lenPrevSeg / lenNextSeg;\n            cpy1 = y - vy * lenPrevSeg / lenNextSeg; // Smooth constraint between point and prev point.\n            // Avoid exceeding extreme after smoothing.\n\n            cpx1 = mathMin(cpx1, mathMax(prevX, x));\n            cpy1 = mathMin(cpy1, mathMax(prevY, y));\n            cpx1 = mathMax(cpx1, mathMin(prevX, x));\n            cpy1 = mathMax(cpy1, mathMin(prevY, y)); // Adjust next cp0 again.\n\n            vx = x - cpx1;\n            vy = y - cpy1;\n            nextCpx0 = x + vx * lenNextSeg / lenPrevSeg;\n            nextCpy0 = y + vy * lenNextSeg / lenPrevSeg;\n          }\n        }\n\n        ctx.bezierCurveTo(cpx0, cpy0, cpx1, cpy1, x, y);\n        cpx0 = nextCpx0;\n        cpy0 = nextCpy0;\n      } else {\n        ctx.lineTo(x, y);\n      }\n    }\n\n    prevX = x;\n    prevY = y;\n    idx += dir;\n  }\n\n  return k;\n}\n\nvar ECPolylineShape =\n/** @class */\nfunction () {\n  function ECPolylineShape() {\n    this.smooth = 0;\n    this.smoothConstraint = true;\n  }\n\n  return ECPolylineShape;\n}();\n\nvar ECPolyline =\n/** @class */\nfunction (_super) {\n  __extends(ECPolyline, _super);\n\n  function ECPolyline(opts) {\n    var _this = _super.call(this, opts) || this;\n\n    _this.type = 'ec-polyline';\n    return _this;\n  }\n\n  ECPolyline.prototype.getDefaultStyle = function () {\n    return {\n      stroke: '#000',\n      fill: null\n    };\n  };\n\n  ECPolyline.prototype.getDefaultShape = function () {\n    return new ECPolylineShape();\n  };\n\n  ECPolyline.prototype.buildPath = function (ctx, shape) {\n    var points = shape.points;\n    var i = 0;\n    var len = points.length / 2; // const result = getBoundingBox(points, shape.smoothConstraint);\n\n    if (shape.connectNulls) {\n      // Must remove first and last null values avoid draw error in polygon\n      for (; len > 0; len--) {\n        if (!isPointNull(points[len * 2 - 2], points[len * 2 - 1])) {\n          break;\n        }\n      }\n\n      for (; i < len; i++) {\n        if (!isPointNull(points[i * 2], points[i * 2 + 1])) {\n          break;\n        }\n      }\n    }\n\n    while (i < len) {\n      i += drawSegment(ctx, points, i, len, len, 1, shape.smooth, shape.smoothMonotone, shape.connectNulls) + 1;\n    }\n  };\n\n  ECPolyline.prototype.getPointOn = function (xOrY, dim) {\n    if (!this.path) {\n      this.createPathProxy();\n      this.buildPath(this.path, this.shape);\n    }\n\n    var path = this.path;\n    var data = path.data;\n    var CMD = PathProxy.CMD;\n    var x0;\n    var y0;\n    var isDimX = dim === 'x';\n    var roots = [];\n\n    for (var i = 0; i < data.length;) {\n      var cmd = data[i++];\n      var x = void 0;\n      var y = void 0;\n      var x2 = void 0;\n      var y2 = void 0;\n      var x3 = void 0;\n      var y3 = void 0;\n      var t = void 0;\n\n      switch (cmd) {\n        case CMD.M:\n          x0 = data[i++];\n          y0 = data[i++];\n          break;\n\n        case CMD.L:\n          x = data[i++];\n          y = data[i++];\n          t = isDimX ? (xOrY - x0) / (x - x0) : (xOrY - y0) / (y - y0);\n\n          if (t <= 1 && t >= 0) {\n            var val = isDimX ? (y - y0) * t + y0 : (x - x0) * t + x0;\n            return isDimX ? [xOrY, val] : [val, xOrY];\n          }\n\n          x0 = x;\n          y0 = y;\n          break;\n\n        case CMD.C:\n          x = data[i++];\n          y = data[i++];\n          x2 = data[i++];\n          y2 = data[i++];\n          x3 = data[i++];\n          y3 = data[i++];\n          var nRoot = isDimX ? cubicRootAt(x0, x, x2, x3, xOrY, roots) : cubicRootAt(y0, y, y2, y3, xOrY, roots);\n\n          if (nRoot > 0) {\n            for (var i_1 = 0; i_1 < nRoot; i_1++) {\n              var t_1 = roots[i_1];\n\n              if (t_1 <= 1 && t_1 >= 0) {\n                var val = isDimX ? cubicAt(y0, y, y2, y3, t_1) : cubicAt(x0, x, x2, x3, t_1);\n                return isDimX ? [xOrY, val] : [val, xOrY];\n              }\n            }\n          }\n\n          x0 = x3;\n          y0 = y3;\n          break;\n      }\n    }\n  };\n\n  return ECPolyline;\n}(Path);\n\nexport { ECPolyline };\n\nvar ECPolygonShape =\n/** @class */\nfunction (_super) {\n  __extends(ECPolygonShape, _super);\n\n  function ECPolygonShape() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n\n  return ECPolygonShape;\n}(ECPolylineShape);\n\nvar ECPolygon =\n/** @class */\nfunction (_super) {\n  __extends(ECPolygon, _super);\n\n  function ECPolygon(opts) {\n    var _this = _super.call(this, opts) || this;\n\n    _this.type = 'ec-polygon';\n    return _this;\n  }\n\n  ECPolygon.prototype.getDefaultShape = function () {\n    return new ECPolygonShape();\n  };\n\n  ECPolygon.prototype.buildPath = function (ctx, shape) {\n    var points = shape.points;\n    var stackedOnPoints = shape.stackedOnPoints;\n    var i = 0;\n    var len = points.length / 2;\n    var smoothMonotone = shape.smoothMonotone;\n\n    if (shape.connectNulls) {\n      // Must remove first and last null values avoid draw error in polygon\n      for (; len > 0; len--) {\n        if (!isPointNull(points[len * 2 - 2], points[len * 2 - 1])) {\n          break;\n        }\n      }\n\n      for (; i < len; i++) {\n        if (!isPointNull(points[i * 2], points[i * 2 + 1])) {\n          break;\n        }\n      }\n    }\n\n    while (i < len) {\n      var k = drawSegment(ctx, points, i, len, len, 1, shape.smooth, smoothMonotone, shape.connectNulls);\n      drawSegment(ctx, stackedOnPoints, i + k - 1, k, len, -1, shape.stackedOnSmooth, smoothMonotone, shape.connectNulls);\n      i += k + 1;\n      ctx.closePath();\n    }\n  };\n\n  return ECPolygon;\n}(Path);\n\nexport { ECPolygon };", "\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport * as graphic from '../../util/graphic';\nimport { round } from '../../util/number';\n\nfunction createGridClipPath(cartesian, hasAnimation, seriesModel, done, during) {\n  var rect = cartesian.getArea();\n  var x = rect.x;\n  var y = rect.y;\n  var width = rect.width;\n  var height = rect.height;\n  var lineWidth = seriesModel.get(['lineStyle', 'width']) || 2; // Expand the clip path a bit to avoid the border is clipped and looks thinner\n\n  x -= lineWidth / 2;\n  y -= lineWidth / 2;\n  width += lineWidth;\n  height += lineWidth; // fix: https://github.com/apache/incubator-echarts/issues/11369\n\n  x = Math.floor(x);\n  width = Math.round(width);\n  var clipPath = new graphic.Rect({\n    shape: {\n      x: x,\n      y: y,\n      width: width,\n      height: height\n    }\n  });\n\n  if (hasAnimation) {\n    var baseAxis = cartesian.getBaseAxis();\n    var isHorizontal = baseAxis.isHorizontal();\n    var isAxisInversed = baseAxis.inverse;\n\n    if (isHorizontal) {\n      if (isAxisInversed) {\n        clipPath.shape.x += width;\n      }\n\n      clipPath.shape.width = 0;\n    } else {\n      if (!isAxisInversed) {\n        clipPath.shape.y += height;\n      }\n\n      clipPath.shape.height = 0;\n    }\n\n    var duringCb = typeof during === 'function' ? function (percent) {\n      during(percent, clipPath);\n    } : null;\n    graphic.initProps(clipPath, {\n      shape: {\n        width: width,\n        height: height,\n        x: x,\n        y: y\n      }\n    }, seriesModel, null, done, duringCb);\n  }\n\n  return clipPath;\n}\n\nfunction createPolarClipPath(polar, hasAnimation, seriesModel) {\n  var sectorArea = polar.getArea(); // Avoid float number rounding error for symbol on the edge of axis extent.\n\n  var r0 = round(sectorArea.r0, 1);\n  var r = round(sectorArea.r, 1);\n  var clipPath = new graphic.Sector({\n    shape: {\n      cx: round(polar.cx, 1),\n      cy: round(polar.cy, 1),\n      r0: r0,\n      r: r,\n      startAngle: sectorArea.startAngle,\n      endAngle: sectorArea.endAngle,\n      clockwise: sectorArea.clockwise\n    }\n  });\n\n  if (hasAnimation) {\n    var isRadial = polar.getBaseAxis().dim === 'angle';\n\n    if (isRadial) {\n      clipPath.shape.endAngle = sectorArea.startAngle;\n    } else {\n      clipPath.shape.r = r0;\n    }\n\n    graphic.initProps(clipPath, {\n      shape: {\n        endAngle: sectorArea.endAngle,\n        r: r\n      }\n    }, seriesModel);\n  }\n\n  return clipPath;\n}\n\nfunction createClipPath(coordSys, hasAnimation, seriesModel, done, during) {\n  if (!coordSys) {\n    return null;\n  } else if (coordSys.type === 'polar') {\n    return createPolarClipPath(coordSys, hasAnimation, seriesModel);\n  } else if (coordSys.type === 'cartesian2d') {\n    return createGridClipPath(coordSys, hasAnimation, seriesModel, done, during);\n  }\n\n  return null;\n}\n\nexport { createGridClipPath, createPolarClipPath, createClipPath };", "\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { __extends } from \"tslib\"; // FIXME step not support polar\n\nimport * as zrUtil from 'zrender/lib/core/util';\nimport SymbolDraw from '../helper/SymbolDraw';\nimport SymbolClz from '../helper/Symbol';\nimport lineAnimationDiff from './lineAnimationDiff';\nimport * as graphic from '../../util/graphic';\nimport * as modelUtil from '../../util/model';\nimport { ECPolyline, ECPolygon } from './poly';\nimport ChartView from '../../view/Chart';\nimport { prepareDataCoordInfo, getStackedOnPoint } from './helper';\nimport { createGridClipPath, createPolarClipPath } from '../helper/createClipPathFromCoordSys';\nimport { isCoordinateSystemType } from '../../coord/CoordinateSystem';\nimport { setStatesStylesFromModel, setStatesFlag, enableHoverEmphasis } from '../../util/states';\nimport { setLabelStyle, getLabelStatesModels, labelInner } from '../../label/labelStyle';\nimport { getDefaultLabel, getDefaultInterpolatedLabel } from '../helper/labelHelper';\nimport { getECData } from '../../util/innerStore';\nimport { createFloat32Array } from '../../util/vendor';\nimport { convertToColorString } from '../../util/format';\n\nfunction isPointsSame(points1, points2) {\n  if (points1.length !== points2.length) {\n    return;\n  }\n\n  for (var i = 0; i < points1.length; i++) {\n    if (points1[i] !== points2[i]) {\n      return;\n    }\n  }\n\n  return true;\n}\n\nfunction bboxFromPoints(points) {\n  var minX = Infinity;\n  var minY = Infinity;\n  var maxX = -Infinity;\n  var maxY = -Infinity;\n\n  for (var i = 0; i < points.length;) {\n    var x = points[i++];\n    var y = points[i++];\n\n    if (!isNaN(x)) {\n      minX = Math.min(x, minX);\n      maxX = Math.max(x, maxX);\n    }\n\n    if (!isNaN(y)) {\n      minY = Math.min(y, minY);\n      maxY = Math.max(y, maxY);\n    }\n  }\n\n  return [[minX, minY], [maxX, maxY]];\n}\n\nfunction getBoundingDiff(points1, points2) {\n  var _a = bboxFromPoints(points1),\n      min1 = _a[0],\n      max1 = _a[1];\n\n  var _b = bboxFromPoints(points2),\n      min2 = _b[0],\n      max2 = _b[1]; // Get a max value from each corner of two boundings.\n\n\n  return Math.max(Math.abs(min1[0] - min2[0]), Math.abs(min1[1] - min2[1]), Math.abs(max1[0] - max2[0]), Math.abs(max1[1] - max2[1]));\n}\n\nfunction getSmooth(smooth) {\n  return typeof smooth === 'number' ? smooth : smooth ? 0.5 : 0;\n}\n\nfunction getStackedOnPoints(coordSys, data, dataCoordInfo) {\n  if (!dataCoordInfo.valueDim) {\n    return [];\n  }\n\n  var len = data.count();\n  var points = createFloat32Array(len * 2);\n\n  for (var idx = 0; idx < len; idx++) {\n    var pt = getStackedOnPoint(dataCoordInfo, coordSys, data, idx);\n    points[idx * 2] = pt[0];\n    points[idx * 2 + 1] = pt[1];\n  }\n\n  return points;\n}\n\nfunction turnPointsIntoStep(points, coordSys, stepTurnAt) {\n  var baseAxis = coordSys.getBaseAxis();\n  var baseIndex = baseAxis.dim === 'x' || baseAxis.dim === 'radius' ? 0 : 1;\n  var stepPoints = [];\n  var i = 0;\n  var stepPt = [];\n  var pt = [];\n  var nextPt = [];\n\n  for (; i < points.length - 2; i += 2) {\n    nextPt[0] = points[i + 2];\n    nextPt[1] = points[i + 3];\n    pt[0] = points[i];\n    pt[1] = points[i + 1];\n    stepPoints.push(pt[0], pt[1]);\n\n    switch (stepTurnAt) {\n      case 'end':\n        stepPt[baseIndex] = nextPt[baseIndex];\n        stepPt[1 - baseIndex] = pt[1 - baseIndex];\n        stepPoints.push(stepPt[0], stepPt[1]);\n        break;\n\n      case 'middle':\n        var middle = (pt[baseIndex] + nextPt[baseIndex]) / 2;\n        var stepPt2 = [];\n        stepPt[baseIndex] = stepPt2[baseIndex] = middle;\n        stepPt[1 - baseIndex] = pt[1 - baseIndex];\n        stepPt2[1 - baseIndex] = nextPt[1 - baseIndex];\n        stepPoints.push(stepPt[0], stepPt[1]);\n        stepPoints.push(stepPt2[0], stepPt2[1]);\n        break;\n\n      default:\n        // default is start\n        stepPt[baseIndex] = pt[baseIndex];\n        stepPt[1 - baseIndex] = nextPt[1 - baseIndex];\n        stepPoints.push(stepPt[0], stepPt[1]);\n    }\n  } // Last points\n\n\n  stepPoints.push(points[i++], points[i++]);\n  return stepPoints;\n}\n\nfunction getVisualGradient(data, coordSys) {\n  var visualMetaList = data.getVisual('visualMeta');\n\n  if (!visualMetaList || !visualMetaList.length || !data.count()) {\n    // When data.count() is 0, gradient range can not be calculated.\n    return;\n  }\n\n  if (coordSys.type !== 'cartesian2d') {\n    if (process.env.NODE_ENV !== 'production') {\n      console.warn('Visual map on line style is only supported on cartesian2d.');\n    }\n\n    return;\n  }\n\n  var coordDim;\n  var visualMeta;\n\n  for (var i = visualMetaList.length - 1; i >= 0; i--) {\n    var dimIndex = visualMetaList[i].dimension;\n    var dimName = data.dimensions[dimIndex];\n    var dimInfo = data.getDimensionInfo(dimName);\n    coordDim = dimInfo && dimInfo.coordDim; // Can only be x or y\n\n    if (coordDim === 'x' || coordDim === 'y') {\n      visualMeta = visualMetaList[i];\n      break;\n    }\n  }\n\n  if (!visualMeta) {\n    if (process.env.NODE_ENV !== 'production') {\n      console.warn('Visual map on line style only support x or y dimension.');\n    }\n\n    return;\n  } // If the area to be rendered is bigger than area defined by LinearGradient,\n  // the canvas spec prescribes that the color of the first stop and the last\n  // stop should be used. But if two stops are added at offset 0, in effect\n  // browsers use the color of the second stop to render area outside\n  // LinearGradient. So we can only infinitesimally extend area defined in\n  // LinearGradient to render `outerColors`.\n\n\n  var axis = coordSys.getAxis(coordDim); // dataToCoord mapping may not be linear, but must be monotonic.\n\n  var colorStops = zrUtil.map(visualMeta.stops, function (stop) {\n    return {\n      offset: 0,\n      coord: axis.toGlobalCoord(axis.dataToCoord(stop.value, true)),\n      color: stop.color\n    };\n  });\n  var stopLen = colorStops.length;\n  var outerColors = visualMeta.outerColors.slice();\n\n  if (stopLen && colorStops[0].coord > colorStops[stopLen - 1].coord) {\n    colorStops.reverse();\n    outerColors.reverse();\n  }\n\n  var tinyExtent = 10; // Arbitrary value: 10px\n\n  var minCoord = colorStops[0].coord - tinyExtent;\n  var maxCoord = colorStops[stopLen - 1].coord + tinyExtent;\n  var coordSpan = maxCoord - minCoord;\n\n  if (coordSpan < 1e-3) {\n    return 'transparent';\n  }\n\n  zrUtil.each(colorStops, function (stop) {\n    stop.offset = (stop.coord - minCoord) / coordSpan;\n  });\n  colorStops.push({\n    offset: stopLen ? colorStops[stopLen - 1].offset : 0.5,\n    color: outerColors[1] || 'transparent'\n  });\n  colorStops.unshift({\n    offset: stopLen ? colorStops[0].offset : 0.5,\n    color: outerColors[0] || 'transparent'\n  }); // zrUtil.each(colorStops, function (colorStop) {\n  //     // Make sure each offset has rounded px to avoid not sharp edge\n  //     colorStop.offset = (Math.round(colorStop.offset * (end - start) + start) - start) / (end - start);\n  // });\n\n  var gradient = new graphic.LinearGradient(0, 0, 0, 0, colorStops, true);\n  gradient[coordDim] = minCoord;\n  gradient[coordDim + '2'] = maxCoord;\n  return gradient;\n}\n\nfunction getIsIgnoreFunc(seriesModel, data, coordSys) {\n  var showAllSymbol = seriesModel.get('showAllSymbol');\n  var isAuto = showAllSymbol === 'auto';\n\n  if (showAllSymbol && !isAuto) {\n    return;\n  }\n\n  var categoryAxis = coordSys.getAxesByScale('ordinal')[0];\n\n  if (!categoryAxis) {\n    return;\n  } // Note that category label interval strategy might bring some weird effect\n  // in some scenario: users may wonder why some of the symbols are not\n  // displayed. So we show all symbols as possible as we can.\n\n\n  if (isAuto // Simplify the logic, do not determine label overlap here.\n  && canShowAllSymbolForCategory(categoryAxis, data)) {\n    return;\n  } // Otherwise follow the label interval strategy on category axis.\n\n\n  var categoryDataDim = data.mapDimension(categoryAxis.dim);\n  var labelMap = {};\n  zrUtil.each(categoryAxis.getViewLabels(), function (labelItem) {\n    var ordinalNumber = categoryAxis.scale.getRawOrdinalNumber(labelItem.tickValue);\n    labelMap[ordinalNumber] = 1;\n  });\n  return function (dataIndex) {\n    return !labelMap.hasOwnProperty(data.get(categoryDataDim, dataIndex));\n  };\n}\n\nfunction canShowAllSymbolForCategory(categoryAxis, data) {\n  // In mose cases, line is monotonous on category axis, and the label size\n  // is close with each other. So we check the symbol size and some of the\n  // label size alone with the category axis to estimate whether all symbol\n  // can be shown without overlap.\n  var axisExtent = categoryAxis.getExtent();\n  var availSize = Math.abs(axisExtent[1] - axisExtent[0]) / categoryAxis.scale.count();\n  isNaN(availSize) && (availSize = 0); // 0/0 is NaN.\n  // Sampling some points, max 5.\n\n  var dataLen = data.count();\n  var step = Math.max(1, Math.round(dataLen / 5));\n\n  for (var dataIndex = 0; dataIndex < dataLen; dataIndex += step) {\n    if (SymbolClz.getSymbolSize(data, dataIndex // Only for cartesian, where `isHorizontal` exists.\n    )[categoryAxis.isHorizontal() ? 1 : 0] // Empirical number\n    * 1.5 > availSize) {\n      return false;\n    }\n  }\n\n  return true;\n}\n\nfunction isPointNull(x, y) {\n  return isNaN(x) || isNaN(y);\n}\n\nfunction getLastIndexNotNull(points) {\n  var len = points.length / 2;\n\n  for (; len > 0; len--) {\n    if (!isPointNull(points[len * 2 - 2], points[len * 2 - 1])) {\n      break;\n    }\n  }\n\n  return len - 1;\n}\n\nfunction getPointAtIndex(points, idx) {\n  return [points[idx * 2], points[idx * 2 + 1]];\n}\n\nfunction getIndexRange(points, xOrY, dim) {\n  var len = points.length / 2;\n  var dimIdx = dim === 'x' ? 0 : 1;\n  var a;\n  var b;\n  var prevIndex = 0;\n  var nextIndex = -1;\n\n  for (var i = 0; i < len; i++) {\n    b = points[i * 2 + dimIdx];\n\n    if (isNaN(b) || isNaN(points[i * 2 + 1 - dimIdx])) {\n      continue;\n    }\n\n    if (i === 0) {\n      a = b;\n      continue;\n    }\n\n    if (a <= xOrY && b >= xOrY || a >= xOrY && b <= xOrY) {\n      nextIndex = i;\n      break;\n    }\n\n    prevIndex = i;\n    a = b;\n  }\n\n  return {\n    range: [prevIndex, nextIndex],\n    t: (xOrY - a) / (b - a)\n  };\n}\n\nfunction createLineClipPath(lineView, coordSys, hasAnimation, seriesModel) {\n  if (isCoordinateSystemType(coordSys, 'cartesian2d')) {\n    var endLabelModel_1 = seriesModel.getModel('endLabel');\n    var showEndLabel = endLabelModel_1.get('show');\n    var valueAnimation_1 = endLabelModel_1.get('valueAnimation');\n    var data_1 = seriesModel.getData();\n    var labelAnimationRecord_1 = {\n      lastFrameIndex: 0\n    };\n    var during = showEndLabel ? function (percent, clipRect) {\n      lineView._endLabelOnDuring(percent, clipRect, data_1, labelAnimationRecord_1, valueAnimation_1, endLabelModel_1, coordSys);\n    } : null;\n    var isHorizontal = coordSys.getBaseAxis().isHorizontal();\n    var clipPath = createGridClipPath(coordSys, hasAnimation, seriesModel, function () {\n      var endLabel = lineView._endLabel;\n\n      if (endLabel && hasAnimation) {\n        if (labelAnimationRecord_1.originalX != null) {\n          endLabel.attr({\n            x: labelAnimationRecord_1.originalX,\n            y: labelAnimationRecord_1.originalY\n          });\n        }\n      }\n    }, during); // Expand clip shape to avoid clipping when line value exceeds axis\n\n    if (!seriesModel.get('clip', true)) {\n      var rectShape = clipPath.shape;\n      var expandSize = Math.max(rectShape.width, rectShape.height);\n\n      if (isHorizontal) {\n        rectShape.y -= expandSize;\n        rectShape.height += expandSize * 2;\n      } else {\n        rectShape.x -= expandSize;\n        rectShape.width += expandSize * 2;\n      }\n    } // Set to the final frame. To make sure label layout is right.\n\n\n    if (during) {\n      during(1, clipPath);\n    }\n\n    return clipPath;\n  } else {\n    if (process.env.NODE_ENV !== 'production') {\n      if (seriesModel.get(['endLabel', 'show'])) {\n        console.warn('endLabel is not supported for lines in polar systems.');\n      }\n    }\n\n    return createPolarClipPath(coordSys, hasAnimation, seriesModel);\n  }\n}\n\nfunction getEndLabelStateSpecified(endLabelModel, coordSys) {\n  var baseAxis = coordSys.getBaseAxis();\n  var isHorizontal = baseAxis.isHorizontal();\n  var isBaseInversed = baseAxis.inverse;\n  var align = isHorizontal ? isBaseInversed ? 'right' : 'left' : 'center';\n  var verticalAlign = isHorizontal ? 'middle' : isBaseInversed ? 'top' : 'bottom';\n  return {\n    normal: {\n      align: endLabelModel.get('align') || align,\n      verticalAlign: endLabelModel.get('verticalAlign') || verticalAlign\n    }\n  };\n}\n\nvar LineView =\n/** @class */\nfunction (_super) {\n  __extends(LineView, _super);\n\n  function LineView() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n\n  LineView.prototype.init = function () {\n    var lineGroup = new graphic.Group();\n    var symbolDraw = new SymbolDraw();\n    this.group.add(symbolDraw.group);\n    this._symbolDraw = symbolDraw;\n    this._lineGroup = lineGroup;\n  };\n\n  LineView.prototype.render = function (seriesModel, ecModel, api) {\n    var _this = this;\n\n    var coordSys = seriesModel.coordinateSystem;\n    var group = this.group;\n    var data = seriesModel.getData();\n    var lineStyleModel = seriesModel.getModel('lineStyle');\n    var areaStyleModel = seriesModel.getModel('areaStyle');\n    var points = data.getLayout('points') || [];\n    var isCoordSysPolar = coordSys.type === 'polar';\n    var prevCoordSys = this._coordSys;\n    var symbolDraw = this._symbolDraw;\n    var polyline = this._polyline;\n    var polygon = this._polygon;\n    var lineGroup = this._lineGroup;\n    var hasAnimation = seriesModel.get('animation');\n    var isAreaChart = !areaStyleModel.isEmpty();\n    var valueOrigin = areaStyleModel.get('origin');\n    var dataCoordInfo = prepareDataCoordInfo(coordSys, data, valueOrigin);\n    var stackedOnPoints = isAreaChart && getStackedOnPoints(coordSys, data, dataCoordInfo);\n    var showSymbol = seriesModel.get('showSymbol');\n    var isIgnoreFunc = showSymbol && !isCoordSysPolar && getIsIgnoreFunc(seriesModel, data, coordSys); // Remove temporary symbols\n\n    var oldData = this._data;\n    oldData && oldData.eachItemGraphicEl(function (el, idx) {\n      if (el.__temp) {\n        group.remove(el);\n        oldData.setItemGraphicEl(idx, null);\n      }\n    }); // Remove previous created symbols if showSymbol changed to false\n\n    if (!showSymbol) {\n      symbolDraw.remove();\n    }\n\n    group.add(lineGroup); // FIXME step not support polar\n\n    var step = !isCoordSysPolar ? seriesModel.get('step') : false;\n    var clipShapeForSymbol;\n\n    if (coordSys && coordSys.getArea && seriesModel.get('clip', true)) {\n      clipShapeForSymbol = coordSys.getArea(); // Avoid float number rounding error for symbol on the edge of axis extent.\n      // See #7913 and `test/dataZoom-clip.html`.\n\n      if (clipShapeForSymbol.width != null) {\n        clipShapeForSymbol.x -= 0.1;\n        clipShapeForSymbol.y -= 0.1;\n        clipShapeForSymbol.width += 0.2;\n        clipShapeForSymbol.height += 0.2;\n      } else if (clipShapeForSymbol.r0) {\n        clipShapeForSymbol.r0 -= 0.5;\n        clipShapeForSymbol.r += 0.5;\n      }\n    }\n\n    this._clipShapeForSymbol = clipShapeForSymbol;\n    var visualColor = getVisualGradient(data, coordSys) || data.getVisual('style')[data.getVisual('drawType')]; // Initialization animation or coordinate system changed\n\n    if (!(polyline && prevCoordSys.type === coordSys.type && step === this._step)) {\n      showSymbol && symbolDraw.updateData(data, {\n        isIgnore: isIgnoreFunc,\n        clipShape: clipShapeForSymbol,\n        disableAnimation: true,\n        getSymbolPoint: function (idx) {\n          return [points[idx * 2], points[idx * 2 + 1]];\n        }\n      });\n      hasAnimation && this._initSymbolLabelAnimation(data, coordSys, clipShapeForSymbol);\n\n      if (step) {\n        // TODO If stacked series is not step\n        points = turnPointsIntoStep(points, coordSys, step);\n\n        if (stackedOnPoints) {\n          stackedOnPoints = turnPointsIntoStep(stackedOnPoints, coordSys, step);\n        }\n      }\n\n      polyline = this._newPolyline(points);\n\n      if (isAreaChart) {\n        polygon = this._newPolygon(points, stackedOnPoints);\n      } // NOTE: Must update _endLabel before setClipPath.\n\n\n      if (!isCoordSysPolar) {\n        this._initOrUpdateEndLabel(seriesModel, coordSys, convertToColorString(visualColor));\n      }\n\n      lineGroup.setClipPath(createLineClipPath(this, coordSys, true, seriesModel));\n    } else {\n      if (isAreaChart && !polygon) {\n        // If areaStyle is added\n        polygon = this._newPolygon(points, stackedOnPoints);\n      } else if (polygon && !isAreaChart) {\n        // If areaStyle is removed\n        lineGroup.remove(polygon);\n        polygon = this._polygon = null;\n      } // NOTE: Must update _endLabel before setClipPath.\n\n\n      if (!isCoordSysPolar) {\n        this._initOrUpdateEndLabel(seriesModel, coordSys, convertToColorString(visualColor));\n      } // Update clipPath\n\n\n      lineGroup.setClipPath(createLineClipPath(this, coordSys, false, seriesModel)); // Always update, or it is wrong in the case turning on legend\n      // because points are not changed\n\n      showSymbol && symbolDraw.updateData(data, {\n        isIgnore: isIgnoreFunc,\n        clipShape: clipShapeForSymbol,\n        disableAnimation: true,\n        getSymbolPoint: function (idx) {\n          return [points[idx * 2], points[idx * 2 + 1]];\n        }\n      }); // In the case data zoom triggerred refreshing frequently\n      // Data may not change if line has a category axis. So it should animate nothing\n\n      if (!isPointsSame(this._stackedOnPoints, stackedOnPoints) || !isPointsSame(this._points, points)) {\n        if (hasAnimation) {\n          this._doUpdateAnimation(data, stackedOnPoints, coordSys, api, step, valueOrigin);\n        } else {\n          // Not do it in update with animation\n          if (step) {\n            // TODO If stacked series is not step\n            points = turnPointsIntoStep(points, coordSys, step);\n\n            if (stackedOnPoints) {\n              stackedOnPoints = turnPointsIntoStep(stackedOnPoints, coordSys, step);\n            }\n          }\n\n          polyline.setShape({\n            points: points\n          });\n          polygon && polygon.setShape({\n            points: points,\n            stackedOnPoints: stackedOnPoints\n          });\n        }\n      }\n    }\n\n    var focus = seriesModel.get(['emphasis', 'focus']);\n    var blurScope = seriesModel.get(['emphasis', 'blurScope']);\n    polyline.useStyle(zrUtil.defaults( // Use color in lineStyle first\n    lineStyleModel.getLineStyle(), {\n      fill: 'none',\n      stroke: visualColor,\n      lineJoin: 'bevel'\n    }));\n    setStatesStylesFromModel(polyline, seriesModel, 'lineStyle');\n\n    if (polyline.style.lineWidth > 0 && seriesModel.get(['emphasis', 'lineStyle', 'width']) === 'bolder') {\n      var emphasisLineStyle = polyline.getState('emphasis').style;\n      emphasisLineStyle.lineWidth = +polyline.style.lineWidth + 1;\n    } // Needs seriesIndex for focus\n\n\n    getECData(polyline).seriesIndex = seriesModel.seriesIndex;\n    enableHoverEmphasis(polyline, focus, blurScope);\n    var smooth = getSmooth(seriesModel.get('smooth'));\n    var smoothMonotone = seriesModel.get('smoothMonotone');\n    var connectNulls = seriesModel.get('connectNulls');\n    polyline.setShape({\n      smooth: smooth,\n      smoothMonotone: smoothMonotone,\n      connectNulls: connectNulls\n    });\n\n    if (polygon) {\n      var stackedOnSeries = data.getCalculationInfo('stackedOnSeries');\n      var stackedOnSmooth = 0;\n      polygon.useStyle(zrUtil.defaults(areaStyleModel.getAreaStyle(), {\n        fill: visualColor,\n        opacity: 0.7,\n        lineJoin: 'bevel',\n        decal: data.getVisual('style').decal\n      }));\n\n      if (stackedOnSeries) {\n        stackedOnSmooth = getSmooth(stackedOnSeries.get('smooth'));\n      }\n\n      polygon.setShape({\n        smooth: smooth,\n        stackedOnSmooth: stackedOnSmooth,\n        smoothMonotone: smoothMonotone,\n        connectNulls: connectNulls\n      });\n      setStatesStylesFromModel(polygon, seriesModel, 'areaStyle'); // Needs seriesIndex for focus\n\n      getECData(polygon).seriesIndex = seriesModel.seriesIndex;\n      enableHoverEmphasis(polygon, focus, blurScope);\n    }\n\n    var changePolyState = function (toState) {\n      _this._changePolyState(toState);\n    };\n\n    data.eachItemGraphicEl(function (el) {\n      // Switch polyline / polygon state if element changed its state.\n      el && (el.onHoverStateChange = changePolyState);\n    });\n    this._polyline.onHoverStateChange = changePolyState;\n    this._data = data; // Save the coordinate system for transition animation when data changed\n\n    this._coordSys = coordSys;\n    this._stackedOnPoints = stackedOnPoints;\n    this._points = points;\n    this._step = step;\n    this._valueOrigin = valueOrigin;\n  };\n\n  LineView.prototype.dispose = function () {};\n\n  LineView.prototype.highlight = function (seriesModel, ecModel, api, payload) {\n    var data = seriesModel.getData();\n    var dataIndex = modelUtil.queryDataIndex(data, payload);\n\n    this._changePolyState('emphasis');\n\n    if (!(dataIndex instanceof Array) && dataIndex != null && dataIndex >= 0) {\n      var points = data.getLayout('points');\n      var symbol = data.getItemGraphicEl(dataIndex);\n\n      if (!symbol) {\n        // Create a temporary symbol if it is not exists\n        var x = points[dataIndex * 2];\n        var y = points[dataIndex * 2 + 1];\n\n        if (isNaN(x) || isNaN(y)) {\n          // Null data\n          return;\n        } // fix #11360: should't draw symbol outside clipShapeForSymbol\n\n\n        if (this._clipShapeForSymbol && !this._clipShapeForSymbol.contain(x, y)) {\n          return;\n        }\n\n        var zlevel = seriesModel.get('zlevel');\n        var z = seriesModel.get('z');\n        symbol = new SymbolClz(data, dataIndex);\n        symbol.x = x;\n        symbol.y = y;\n        symbol.setZ(zlevel, z); // ensure label text of the temporary symbol is in front of line and area polygon\n\n        var symbolLabel = symbol.getSymbolPath().getTextContent();\n\n        if (symbolLabel) {\n          symbolLabel.zlevel = zlevel;\n          symbolLabel.z = z;\n          symbolLabel.z2 = this._polyline.z2 + 1;\n        }\n\n        symbol.__temp = true;\n        data.setItemGraphicEl(dataIndex, symbol); // Stop scale animation\n\n        symbol.stopSymbolAnimation(true);\n        this.group.add(symbol);\n      }\n\n      symbol.highlight();\n    } else {\n      // Highlight whole series\n      ChartView.prototype.highlight.call(this, seriesModel, ecModel, api, payload);\n    }\n  };\n\n  LineView.prototype.downplay = function (seriesModel, ecModel, api, payload) {\n    var data = seriesModel.getData();\n    var dataIndex = modelUtil.queryDataIndex(data, payload);\n\n    this._changePolyState('normal');\n\n    if (dataIndex != null && dataIndex >= 0) {\n      var symbol = data.getItemGraphicEl(dataIndex);\n\n      if (symbol) {\n        if (symbol.__temp) {\n          data.setItemGraphicEl(dataIndex, null);\n          this.group.remove(symbol);\n        } else {\n          symbol.downplay();\n        }\n      }\n    } else {\n      // FIXME\n      // can not downplay completely.\n      // Downplay whole series\n      ChartView.prototype.downplay.call(this, seriesModel, ecModel, api, payload);\n    }\n  };\n\n  LineView.prototype._changePolyState = function (toState) {\n    var polygon = this._polygon;\n    setStatesFlag(this._polyline, toState);\n    polygon && setStatesFlag(polygon, toState);\n  };\n\n  LineView.prototype._newPolyline = function (points) {\n    var polyline = this._polyline; // Remove previous created polyline\n\n    if (polyline) {\n      this._lineGroup.remove(polyline);\n    }\n\n    polyline = new ECPolyline({\n      shape: {\n        points: points\n      },\n      segmentIgnoreThreshold: 2,\n      z2: 10\n    });\n\n    this._lineGroup.add(polyline);\n\n    this._polyline = polyline;\n    return polyline;\n  };\n\n  LineView.prototype._newPolygon = function (points, stackedOnPoints) {\n    var polygon = this._polygon; // Remove previous created polygon\n\n    if (polygon) {\n      this._lineGroup.remove(polygon);\n    }\n\n    polygon = new ECPolygon({\n      shape: {\n        points: points,\n        stackedOnPoints: stackedOnPoints\n      },\n      segmentIgnoreThreshold: 2\n    });\n\n    this._lineGroup.add(polygon);\n\n    this._polygon = polygon;\n    return polygon;\n  };\n\n  LineView.prototype._initSymbolLabelAnimation = function (data, coordSys, clipShape) {\n    var isHorizontalOrRadial;\n    var isCoordSysPolar;\n    var baseAxis = coordSys.getBaseAxis();\n    var isAxisInverse = baseAxis.inverse;\n\n    if (coordSys.type === 'cartesian2d') {\n      isHorizontalOrRadial = baseAxis.isHorizontal();\n      isCoordSysPolar = false;\n    } else if (coordSys.type === 'polar') {\n      isHorizontalOrRadial = baseAxis.dim === 'angle';\n      isCoordSysPolar = true;\n    }\n\n    var seriesModel = data.hostModel;\n    var seriesDuration = seriesModel.get('animationDuration');\n\n    if (typeof seriesDuration === 'function') {\n      seriesDuration = seriesDuration(null);\n    }\n\n    var seriesDalay = seriesModel.get('animationDelay') || 0;\n    var seriesDalayValue = typeof seriesDalay === 'function' ? seriesDalay(null) : seriesDalay;\n    data.eachItemGraphicEl(function (symbol, idx) {\n      var el = symbol;\n\n      if (el) {\n        var point = [symbol.x, symbol.y];\n        var start = void 0;\n        var end = void 0;\n        var current = void 0;\n\n        if (clipShape) {\n          if (isCoordSysPolar) {\n            var polarClip = clipShape;\n            var coord = coordSys.pointToCoord(point);\n\n            if (isHorizontalOrRadial) {\n              start = polarClip.startAngle;\n              end = polarClip.endAngle;\n              current = -coord[1] / 180 * Math.PI;\n            } else {\n              start = polarClip.r0;\n              end = polarClip.r;\n              current = coord[0];\n            }\n          } else {\n            var gridClip = clipShape;\n\n            if (isHorizontalOrRadial) {\n              start = gridClip.x;\n              end = gridClip.x + gridClip.width;\n              current = symbol.x;\n            } else {\n              start = gridClip.y + gridClip.height;\n              end = gridClip.y;\n              current = symbol.y;\n            }\n          }\n        }\n\n        var ratio = end === start ? 0 : (current - start) / (end - start);\n\n        if (isAxisInverse) {\n          ratio = 1 - ratio;\n        }\n\n        var delay = typeof seriesDalay === 'function' ? seriesDalay(idx) : seriesDuration * ratio + seriesDalayValue;\n        var symbolPath = el.getSymbolPath();\n        var text = symbolPath.getTextContent();\n        el.attr({\n          scaleX: 0,\n          scaleY: 0\n        });\n        el.animateTo({\n          scaleX: 1,\n          scaleY: 1\n        }, {\n          duration: 200,\n          delay: delay\n        });\n\n        if (text) {\n          text.animateFrom({\n            style: {\n              opacity: 0\n            }\n          }, {\n            duration: 300,\n            delay: delay\n          });\n        }\n\n        symbolPath.disableLabelAnimation = true;\n      }\n    });\n  };\n\n  LineView.prototype._initOrUpdateEndLabel = function (seriesModel, coordSys, inheritColor) {\n    var endLabelModel = seriesModel.getModel('endLabel');\n\n    if (endLabelModel.get('show')) {\n      var data_2 = seriesModel.getData();\n      var polyline = this._polyline;\n      var endLabel = this._endLabel;\n\n      if (!endLabel) {\n        endLabel = this._endLabel = new graphic.Text({\n          z2: 200 // should be higher than item symbol\n\n        });\n        endLabel.ignoreClip = true;\n        polyline.setTextContent(this._endLabel);\n        polyline.disableLabelAnimation = true;\n      } // Find last non-NaN data to display data\n\n\n      var dataIndex = getLastIndexNotNull(data_2.getLayout('points'));\n\n      if (dataIndex >= 0) {\n        setLabelStyle(polyline, getLabelStatesModels(seriesModel, 'endLabel'), {\n          inheritColor: inheritColor,\n          labelFetcher: seriesModel,\n          labelDataIndex: dataIndex,\n          defaultText: function (dataIndex, opt, interpolatedValue) {\n            return interpolatedValue != null ? getDefaultInterpolatedLabel(data_2, interpolatedValue) : getDefaultLabel(data_2, dataIndex);\n          },\n          enableTextSetter: true\n        }, getEndLabelStateSpecified(endLabelModel, coordSys));\n        polyline.textConfig.position = null;\n      }\n    } else if (this._endLabel) {\n      this._polyline.removeTextContent();\n\n      this._endLabel = null;\n    }\n  };\n\n  LineView.prototype._endLabelOnDuring = function (percent, clipRect, data, animationRecord, valueAnimation, endLabelModel, coordSys) {\n    var endLabel = this._endLabel;\n    var polyline = this._polyline;\n\n    if (endLabel) {\n      // NOTE: Don't remove percent < 1. percent === 1 means the first frame during render.\n      // The label is not prepared at this time.\n      if (percent < 1 && animationRecord.originalX == null) {\n        animationRecord.originalX = endLabel.x;\n        animationRecord.originalY = endLabel.y;\n      }\n\n      var points = data.getLayout('points');\n      var seriesModel = data.hostModel;\n      var connectNulls = seriesModel.get('connectNulls');\n      var precision = endLabelModel.get('precision');\n      var distance = endLabelModel.get('distance') || 0;\n      var baseAxis = coordSys.getBaseAxis();\n      var isHorizontal = baseAxis.isHorizontal();\n      var isBaseInversed = baseAxis.inverse;\n      var clipShape = clipRect.shape;\n      var xOrY = isBaseInversed ? isHorizontal ? clipShape.x : clipShape.y + clipShape.height : isHorizontal ? clipShape.x + clipShape.width : clipShape.y;\n      var distanceX = (isHorizontal ? distance : 0) * (isBaseInversed ? -1 : 1);\n      var distanceY = (isHorizontal ? 0 : -distance) * (isBaseInversed ? -1 : 1);\n      var dim = isHorizontal ? 'x' : 'y';\n      var dataIndexRange = getIndexRange(points, xOrY, dim);\n      var indices = dataIndexRange.range;\n      var diff = indices[1] - indices[0];\n      var value = void 0;\n\n      if (diff >= 1) {\n        // diff > 1 && connectNulls, which is on the null data.\n        if (diff > 1 && !connectNulls) {\n          var pt = getPointAtIndex(points, indices[0]);\n          endLabel.attr({\n            x: pt[0] + distanceX,\n            y: pt[1] + distanceY\n          });\n          valueAnimation && (value = seriesModel.getRawValue(indices[0]));\n        } else {\n          var pt = polyline.getPointOn(xOrY, dim);\n          pt && endLabel.attr({\n            x: pt[0] + distanceX,\n            y: pt[1] + distanceY\n          });\n          var startValue = seriesModel.getRawValue(indices[0]);\n          var endValue = seriesModel.getRawValue(indices[1]);\n          valueAnimation && (value = modelUtil.interpolateRawValues(data, precision, startValue, endValue, dataIndexRange.t));\n        }\n\n        animationRecord.lastFrameIndex = indices[0];\n      } else {\n        // If diff <= 0, which is the range is not found(Include NaN)\n        // Choose the first point or last point.\n        var idx = percent === 1 || animationRecord.lastFrameIndex > 0 ? indices[0] : 0;\n        var pt = getPointAtIndex(points, idx);\n        valueAnimation && (value = seriesModel.getRawValue(idx));\n        endLabel.attr({\n          x: pt[0] + distanceX,\n          y: pt[1] + distanceY\n        });\n      }\n\n      if (valueAnimation) {\n        labelInner(endLabel).setLabelText(value);\n      }\n    }\n  };\n  /**\n   * @private\n   */\n  // FIXME Two value axis\n\n\n  LineView.prototype._doUpdateAnimation = function (data, stackedOnPoints, coordSys, api, step, valueOrigin) {\n    var polyline = this._polyline;\n    var polygon = this._polygon;\n    var seriesModel = data.hostModel;\n    var diff = lineAnimationDiff(this._data, data, this._stackedOnPoints, stackedOnPoints, this._coordSys, coordSys, this._valueOrigin, valueOrigin);\n    var current = diff.current;\n    var stackedOnCurrent = diff.stackedOnCurrent;\n    var next = diff.next;\n    var stackedOnNext = diff.stackedOnNext;\n\n    if (step) {\n      // TODO If stacked series is not step\n      current = turnPointsIntoStep(diff.current, coordSys, step);\n      stackedOnCurrent = turnPointsIntoStep(diff.stackedOnCurrent, coordSys, step);\n      next = turnPointsIntoStep(diff.next, coordSys, step);\n      stackedOnNext = turnPointsIntoStep(diff.stackedOnNext, coordSys, step);\n    } // Don't apply animation if diff is large.\n    // For better result and avoid memory explosion problems like\n    // https://github.com/apache/incubator-echarts/issues/12229\n\n\n    if (getBoundingDiff(current, next) > 3000 || polygon && getBoundingDiff(stackedOnCurrent, stackedOnNext) > 3000) {\n      polyline.setShape({\n        points: next\n      });\n\n      if (polygon) {\n        polygon.setShape({\n          points: next,\n          stackedOnPoints: stackedOnNext\n        });\n      }\n\n      return;\n    }\n\n    polyline.shape.__points = diff.current;\n    polyline.shape.points = current;\n    var target = {\n      shape: {\n        points: next\n      }\n    }; // Also animate the original points.\n    // If points reference is changed when turning into step line.\n\n    if (diff.current !== current) {\n      target.shape.__points = diff.next;\n    } // Stop previous animation.\n\n\n    polyline.stopAnimation();\n    graphic.updateProps(polyline, target, seriesModel);\n\n    if (polygon) {\n      polygon.setShape({\n        // Reuse the points with polyline.\n        points: current,\n        stackedOnPoints: stackedOnCurrent\n      });\n      polygon.stopAnimation();\n      graphic.updateProps(polygon, {\n        shape: {\n          stackedOnPoints: stackedOnNext\n        }\n      }, seriesModel); // If use attr directly in updateProps.\n\n      if (polyline.shape.points !== polygon.shape.points) {\n        polygon.shape.points = polyline.shape.points;\n      }\n    }\n\n    var updatedDataInfo = [];\n    var diffStatus = diff.status;\n\n    for (var i = 0; i < diffStatus.length; i++) {\n      var cmd = diffStatus[i].cmd;\n\n      if (cmd === '=') {\n        var el = data.getItemGraphicEl(diffStatus[i].idx1);\n\n        if (el) {\n          updatedDataInfo.push({\n            el: el,\n            ptIdx: i // Index of points\n\n          });\n        }\n      }\n    }\n\n    if (polyline.animators && polyline.animators.length) {\n      polyline.animators[0].during(function () {\n        polygon && polygon.dirtyShape();\n        var points = polyline.shape.__points;\n\n        for (var i = 0; i < updatedDataInfo.length; i++) {\n          var el = updatedDataInfo[i].el;\n          var offset = updatedDataInfo[i].ptIdx * 2;\n          el.x = points[offset];\n          el.y = points[offset + 1];\n          el.markRedraw();\n        }\n      });\n    }\n  };\n\n  LineView.prototype.remove = function (ecModel) {\n    var group = this.group;\n    var oldData = this._data;\n\n    this._lineGroup.removeAll();\n\n    this._symbolDraw.remove(true); // Remove temporary created elements when highlighting\n\n\n    oldData && oldData.eachItemGraphicEl(function (el, idx) {\n      if (el.__temp) {\n        group.remove(el);\n        oldData.setItemGraphicEl(idx, null);\n      }\n    });\n    this._polyline = this._polygon = this._coordSys = this._points = this._stackedOnPoints = this._endLabel = this._data = null;\n  };\n\n  LineView.type = 'line';\n  return LineView;\n}(ChartView);\n\nexport default LineView;", "\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n/* global Float32Array */\nimport { map } from 'zrender/lib/core/util';\nimport createRenderPlanner from '../chart/helper/createRenderPlanner';\nimport { isDimensionStacked } from '../data/helper/dataStackHelper';\nimport { createFloat32Array } from '../util/vendor';\nexport default function pointsLayout(seriesType, forceStoreInTypedArray) {\n  return {\n    seriesType: seriesType,\n    plan: createRenderPlanner(),\n    reset: function (seriesModel) {\n      var data = seriesModel.getData();\n      var coordSys = seriesModel.coordinateSystem;\n      var pipelineContext = seriesModel.pipelineContext;\n      var useTypedArray = forceStoreInTypedArray || pipelineContext.large;\n\n      if (!coordSys) {\n        return;\n      }\n\n      var dims = map(coordSys.dimensions, function (dim) {\n        return data.mapDimension(dim);\n      }).slice(0, 2);\n      var dimLen = dims.length;\n      var stackResultDim = data.getCalculationInfo('stackResultDimension');\n\n      if (isDimensionStacked(data, dims[0]\n      /*, dims[1]*/\n      )) {\n        dims[0] = stackResultDim;\n      }\n\n      if (isDimensionStacked(data, dims[1]\n      /*, dims[0]*/\n      )) {\n        dims[1] = stackResultDim;\n      }\n\n      var dimInfo0 = data.getDimensionInfo(dims[0]);\n      var dimInfo1 = data.getDimensionInfo(dims[1]);\n      var dimIdx0 = dimInfo0 && dimInfo0.index;\n      var dimIdx1 = dimInfo1 && dimInfo1.index;\n      return dimLen && {\n        progress: function (params, data) {\n          var segCount = params.end - params.start;\n          var points = useTypedArray && createFloat32Array(segCount * dimLen);\n          var tmpIn = [];\n          var tmpOut = [];\n\n          for (var i = params.start, offset = 0; i < params.end; i++) {\n            var point = void 0;\n\n            if (dimLen === 1) {\n              var x = data.getByDimIdx(dimIdx0, i); // NOTE: Make sure the second parameter is null to use default strategy.\n\n              point = coordSys.dataToPoint(x, null, tmpOut);\n            } else {\n              tmpIn[0] = data.getByDimIdx(dimIdx0, i);\n              tmpIn[1] = data.getByDimIdx(dimIdx1, i); // Let coordinate system to handle the NaN data.\n\n              point = coordSys.dataToPoint(tmpIn, null, tmpOut);\n            }\n\n            if (useTypedArray) {\n              points[offset++] = point[0];\n              points[offset++] = point[1];\n            } else {\n              data.setItemLayout(i, point.slice());\n            }\n          }\n\n          useTypedArray && data.setLayout('points', points);\n        }\n      };\n    }\n  };\n}\n;", "\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nvar samplers = {\n  average: function (frame) {\n    var sum = 0;\n    var count = 0;\n\n    for (var i = 0; i < frame.length; i++) {\n      if (!isNaN(frame[i])) {\n        sum += frame[i];\n        count++;\n      }\n    } // Return NaN if count is 0\n\n\n    return count === 0 ? NaN : sum / count;\n  },\n  sum: function (frame) {\n    var sum = 0;\n\n    for (var i = 0; i < frame.length; i++) {\n      // Ignore NaN\n      sum += frame[i] || 0;\n    }\n\n    return sum;\n  },\n  max: function (frame) {\n    var max = -Infinity;\n\n    for (var i = 0; i < frame.length; i++) {\n      frame[i] > max && (max = frame[i]);\n    } // NaN will cause illegal axis extent.\n\n\n    return isFinite(max) ? max : NaN;\n  },\n  min: function (frame) {\n    var min = Infinity;\n\n    for (var i = 0; i < frame.length; i++) {\n      frame[i] < min && (min = frame[i]);\n    } // NaN will cause illegal axis extent.\n\n\n    return isFinite(min) ? min : NaN;\n  },\n  // TODO\n  // Median\n  nearest: function (frame) {\n    return frame[0];\n  }\n};\n\nvar indexSampler = function (frame) {\n  return Math.round(frame.length / 2);\n};\n\nexport default function dataSample(seriesType) {\n  return {\n    seriesType: seriesType,\n    // FIXME:TS never used, so comment it\n    // modifyOutputEnd: true,\n    reset: function (seriesModel, ecModel, api) {\n      var data = seriesModel.getData();\n      var sampling = seriesModel.get('sampling');\n      var coordSys = seriesModel.coordinateSystem;\n      var count = data.count(); // Only cartesian2d support down sampling. Disable it when there is few data.\n\n      if (count > 10 && coordSys.type === 'cartesian2d' && sampling) {\n        var baseAxis = coordSys.getBaseAxis();\n        var valueAxis = coordSys.getOtherAxis(baseAxis);\n        var extent = baseAxis.getExtent();\n        var dpr = api.getDevicePixelRatio(); // Coordinste system has been resized\n\n        var size = Math.abs(extent[1] - extent[0]) * (dpr || 1);\n        var rate = Math.round(count / size);\n\n        if (rate > 1) {\n          if (sampling === 'lttb') {\n            seriesModel.setData(data.lttbDownSample(data.mapDimension(valueAxis.dim), 1 / rate));\n          }\n\n          var sampler = void 0;\n\n          if (typeof sampling === 'string') {\n            sampler = samplers[sampling];\n          } else if (typeof sampling === 'function') {\n            sampler = sampling;\n          }\n\n          if (sampler) {\n            // Only support sample the first dim mapped from value axis.\n            seriesModel.setData(data.downSample(data.mapDimension(valueAxis.dim), 1 / rate, sampler, indexSampler));\n          }\n        }\n      }\n    }\n  };\n}", "\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport LineSeries from './LineSeries';\nimport LineView from './LineView'; // In case developer forget to include grid component\n\nimport layoutPoints from '../../layout/points';\nimport dataSample from '../../processor/dataSample';\nexport function install(registers) {\n  registers.registerChartView(LineView);\n  registers.registerSeriesModel(LineSeries);\n  registers.registerLayout(layoutPoints('line', true));\n  registers.registerVisual({\n    seriesType: 'line',\n    reset: function (seriesModel) {\n      var data = seriesModel.getData(); // Visual coding for legend\n\n      var lineStyle = seriesModel.getModel('lineStyle').getLineStyle();\n\n      if (lineStyle && !lineStyle.stroke) {\n        // Fill in visual should be palette color if\n        // has color callback\n        lineStyle.stroke = data.getVisual('style').fill;\n      }\n\n      data.setVisual('legendLineStyle', lineStyle);\n    }\n  }); // Down sample after filter\n\n  registers.registerProcessor(registers.PRIORITY.PROCESSOR.STATISTIC, dataSample('line'));\n}", "\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { __extends } from \"tslib\";\nimport SeriesModel from '../../model/Series';\nimport createListFromArray from '../helper/createListFromArray';\n\nvar BaseBarSeriesModel =\n/** @class */\nfunction (_super) {\n  __extends(BaseBarSeriesModel, _super);\n\n  function BaseBarSeriesModel() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n\n    _this.type = BaseBarSeriesModel.type;\n    return _this;\n  }\n\n  BaseBarSeriesModel.prototype.getInitialData = function (option, ecModel) {\n    return createListFromArray(this.getSource(), this, {\n      useEncodeDefaulter: true\n    });\n  };\n\n  BaseBarSeriesModel.prototype.getMarkerPosition = function (value) {\n    var coordSys = this.coordinateSystem;\n\n    if (coordSys) {\n      // PENDING if clamp ?\n      var pt = coordSys.dataToPoint(coordSys.clampData(value));\n      var data = this.getData();\n      var offset = data.getLayout('offset');\n      var size = data.getLayout('size');\n      var offsetIndex = coordSys.getBaseAxis().isHorizontal() ? 0 : 1;\n      pt[offsetIndex] += offset + size / 2;\n      return pt;\n    }\n\n    return [NaN, NaN];\n  };\n\n  BaseBarSeriesModel.type = 'series.__base_bar__';\n  BaseBarSeriesModel.defaultOption = {\n    zlevel: 0,\n    z: 2,\n    coordinateSystem: 'cartesian2d',\n    legendHoverLink: true,\n    // stack: null\n    // Cartesian coordinate system\n    // xAxisIndex: 0,\n    // yAxisIndex: 0,\n    barMinHeight: 0,\n    barMinAngle: 0,\n    // cursor: null,\n    large: false,\n    largeThreshold: 400,\n    progressive: 3e3,\n    progressiveChunkMode: 'mod'\n  };\n  return BaseBarSeriesModel;\n}(SeriesModel);\n\nSeriesModel.registerClass(BaseBarSeriesModel);\nexport default BaseBarSeriesModel;", "\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { __extends } from \"tslib\";\nimport BaseBarSeriesModel from './BaseBarSeries';\nimport createListFromArray from '../helper/createListFromArray';\nimport { inheritDefaultOption } from '../../util/component';\n\nvar BarSeriesModel =\n/** @class */\nfunction (_super) {\n  __extends(BarSeriesModel, _super);\n\n  function BarSeriesModel() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n\n    _this.type = BarSeriesModel.type;\n    return _this;\n  }\n\n  BarSeriesModel.prototype.getInitialData = function () {\n    return createListFromArray(this.getSource(), this, {\n      useEncodeDefaulter: true,\n      createInvertedIndices: !!this.get('realtimeSort', true) || null\n    });\n  };\n  /**\n   * @override\n   */\n\n\n  BarSeriesModel.prototype.getProgressive = function () {\n    // Do not support progressive in normal mode.\n    return this.get('large') ? this.get('progressive') : false;\n  };\n  /**\n   * @override\n   */\n\n\n  BarSeriesModel.prototype.getProgressiveThreshold = function () {\n    // Do not support progressive in normal mode.\n    var progressiveThreshold = this.get('progressiveThreshold');\n    var largeThreshold = this.get('largeThreshold');\n\n    if (largeThreshold > progressiveThreshold) {\n      progressiveThreshold = largeThreshold;\n    }\n\n    return progressiveThreshold;\n  };\n\n  BarSeriesModel.prototype.brushSelector = function (dataIndex, data, selectors) {\n    return selectors.rect(data.getItemLayout(dataIndex));\n  };\n\n  BarSeriesModel.type = 'series.bar';\n  BarSeriesModel.dependencies = ['grid', 'polar'];\n  BarSeriesModel.defaultOption = inheritDefaultOption(BaseBarSeriesModel.defaultOption, {\n    // If clipped\n    // Only available on cartesian2d\n    clip: true,\n    roundCap: false,\n    showBackground: false,\n    backgroundStyle: {\n      color: 'rgba(180, 180, 180, 0.2)',\n      borderColor: null,\n      borderWidth: 0,\n      borderType: 'solid',\n      borderRadius: 0,\n      shadowBlur: 0,\n      shadowColor: null,\n      shadowOffsetX: 0,\n      shadowOffsetY: 0,\n      opacity: 1\n    },\n    select: {\n      itemStyle: {\n        borderColor: '#212121'\n      }\n    },\n    realtimeSort: false\n  });\n  return BarSeriesModel;\n}(BaseBarSeriesModel);\n\nexport default BarSeriesModel;", "\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { __extends } from \"tslib\";\nimport { Path } from '../graphic';\n/**\n * Sausage: similar to sector, but have half circle on both sides\n */\n\nvar SausageShape =\n/** @class */\nfunction () {\n  function SausageShape() {\n    this.cx = 0;\n    this.cy = 0;\n    this.r0 = 0;\n    this.r = 0;\n    this.startAngle = 0;\n    this.endAngle = Math.PI * 2;\n    this.clockwise = true;\n  }\n\n  return SausageShape;\n}();\n\nvar SausagePath =\n/** @class */\nfunction (_super) {\n  __extends(SausagePath, _super);\n\n  function SausagePath(opts) {\n    var _this = _super.call(this, opts) || this;\n\n    _this.type = 'sausage';\n    return _this;\n  }\n\n  SausagePath.prototype.getDefaultShape = function () {\n    return new SausageShape();\n  };\n\n  SausagePath.prototype.buildPath = function (ctx, shape) {\n    var x = shape.cx;\n    var y = shape.cy;\n    var r0 = Math.max(shape.r0 || 0, 0);\n    var r = Math.max(shape.r, 0);\n    var dr = (r - r0) * 0.5;\n    var rCenter = r0 + dr;\n    var startAngle = shape.startAngle;\n    var endAngle = shape.endAngle;\n    var clockwise = shape.clockwise;\n    var unitStartX = Math.cos(startAngle);\n    var unitStartY = Math.sin(startAngle);\n    var unitEndX = Math.cos(endAngle);\n    var unitEndY = Math.sin(endAngle);\n    var lessThanCircle = clockwise ? endAngle - startAngle < Math.PI * 2 : startAngle - endAngle < Math.PI * 2;\n\n    if (lessThanCircle) {\n      ctx.moveTo(unitStartX * r0 + x, unitStartY * r0 + y);\n      ctx.arc(unitStartX * rCenter + x, unitStartY * rCenter + y, dr, -Math.PI + startAngle, startAngle, !clockwise);\n    }\n\n    ctx.arc(x, y, r, startAngle, endAngle, !clockwise);\n    ctx.moveTo(unitEndX * r + x, unitEndY * r + y);\n    ctx.arc(unitEndX * rCenter + x, unitEndY * rCenter + y, dr, endAngle - Math.PI * 2, endAngle - Math.PI, !clockwise);\n\n    if (r0 !== 0) {\n      ctx.arc(x, y, r0, endAngle, startAngle, clockwise);\n      ctx.moveTo(unitStartX * r0 + x, unitEndY * r0 + y);\n    }\n\n    ctx.closePath();\n  };\n\n  return SausagePath;\n}(Path);\n\nexport default SausagePath;", "\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { __extends } from \"tslib\";\nimport Path from 'zrender/lib/graphic/Path';\nimport Group from 'zrender/lib/graphic/Group';\nimport { extend, defaults, each, map } from 'zrender/lib/core/util';\nimport { Rect, Sector, updateProps, initProps, removeElementWithFadeOut } from '../../util/graphic';\nimport { getECData } from '../../util/innerStore';\nimport { enableHoverEmphasis, setStatesStylesFromModel } from '../../util/states';\nimport { setLabelStyle, getLabelStatesModels, setLabelValueAnimation } from '../../label/labelStyle';\nimport { throttle } from '../../util/throttle';\nimport { createClipPath } from '../helper/createClipPathFromCoordSys';\nimport Sausage from '../../util/shape/sausage';\nimport ChartView from '../../view/Chart';\nimport { isCoordinateSystemType } from '../../coord/CoordinateSystem';\nimport { getDefaultLabel, getDefaultInterpolatedLabel } from '../helper/labelHelper';\nimport { warn } from '../../util/log';\nvar _eventPos = [0, 0];\nvar mathMax = Math.max;\nvar mathMin = Math.min;\n\nfunction getClipArea(coord, data) {\n  var coordSysClipArea = coord.getArea && coord.getArea();\n\n  if (isCoordinateSystemType(coord, 'cartesian2d')) {\n    var baseAxis = coord.getBaseAxis(); // When boundaryGap is false or using time axis. bar may exceed the grid.\n    // We should not clip this part.\n    // See test/bar2.html\n\n    if (baseAxis.type !== 'category' || !baseAxis.onBand) {\n      var expandWidth = data.getLayout('bandWidth');\n\n      if (baseAxis.isHorizontal()) {\n        coordSysClipArea.x -= expandWidth;\n        coordSysClipArea.width += expandWidth * 2;\n      } else {\n        coordSysClipArea.y -= expandWidth;\n        coordSysClipArea.height += expandWidth * 2;\n      }\n    }\n  }\n\n  return coordSysClipArea;\n}\n\nvar BarView =\n/** @class */\nfunction (_super) {\n  __extends(BarView, _super);\n\n  function BarView() {\n    var _this = _super.call(this) || this;\n\n    _this.type = BarView.type;\n    _this._isFirstFrame = true;\n    return _this;\n  }\n\n  BarView.prototype.render = function (seriesModel, ecModel, api, payload) {\n    this._model = seriesModel;\n\n    this._removeOnRenderedListener(api);\n\n    this._updateDrawMode(seriesModel);\n\n    var coordinateSystemType = seriesModel.get('coordinateSystem');\n\n    if (coordinateSystemType === 'cartesian2d' || coordinateSystemType === 'polar') {\n      this._isLargeDraw ? this._renderLarge(seriesModel, ecModel, api) : this._renderNormal(seriesModel, ecModel, api, payload);\n    } else if (process.env.NODE_ENV !== 'production') {\n      warn('Only cartesian2d and polar supported for bar.');\n    }\n  };\n\n  BarView.prototype.incrementalPrepareRender = function (seriesModel) {\n    this._clear();\n\n    this._updateDrawMode(seriesModel); // incremental also need to clip, otherwise might be overlow.\n    // But must not set clip in each frame, otherwise all of the children will be marked redraw.\n\n\n    this._updateLargeClip(seriesModel);\n  };\n\n  BarView.prototype.incrementalRender = function (params, seriesModel) {\n    // Do not support progressive in normal mode.\n    this._incrementalRenderLarge(params, seriesModel);\n  };\n\n  BarView.prototype._updateDrawMode = function (seriesModel) {\n    var isLargeDraw = seriesModel.pipelineContext.large;\n\n    if (this._isLargeDraw == null || isLargeDraw !== this._isLargeDraw) {\n      this._isLargeDraw = isLargeDraw;\n\n      this._clear();\n    }\n  };\n\n  BarView.prototype._renderNormal = function (seriesModel, ecModel, api, payload) {\n    var group = this.group;\n    var data = seriesModel.getData();\n    var oldData = this._data;\n    var coord = seriesModel.coordinateSystem;\n    var baseAxis = coord.getBaseAxis();\n    var isHorizontalOrRadial;\n\n    if (coord.type === 'cartesian2d') {\n      isHorizontalOrRadial = baseAxis.isHorizontal();\n    } else if (coord.type === 'polar') {\n      isHorizontalOrRadial = baseAxis.dim === 'angle';\n    }\n\n    var animationModel = seriesModel.isAnimationEnabled() ? seriesModel : null;\n    var realtimeSortCfg = shouldRealtimeSort(seriesModel, coord);\n\n    if (realtimeSortCfg) {\n      this._enableRealtimeSort(realtimeSortCfg, data, api);\n    }\n\n    var needsClip = seriesModel.get('clip', true) || realtimeSortCfg;\n    var coordSysClipArea = getClipArea(coord, data); // If there is clipPath created in large mode. Remove it.\n\n    group.removeClipPath(); // We don't use clipPath in normal mode because we needs a perfect animation\n    // And don't want the label are clipped.\n\n    var roundCap = seriesModel.get('roundCap', true);\n    var drawBackground = seriesModel.get('showBackground', true);\n    var backgroundModel = seriesModel.getModel('backgroundStyle');\n    var barBorderRadius = backgroundModel.get('borderRadius') || 0;\n    var bgEls = [];\n    var oldBgEls = this._backgroundEls;\n    var isInitSort = payload && payload.isInitSort;\n    var isChangeOrder = payload && payload.type === 'changeAxisOrder';\n\n    function createBackground(dataIndex) {\n      var bgLayout = getLayout[coord.type](data, dataIndex);\n      var bgEl = createBackgroundEl(coord, isHorizontalOrRadial, bgLayout);\n      bgEl.useStyle(backgroundModel.getItemStyle()); // Only cartesian2d support borderRadius.\n\n      if (coord.type === 'cartesian2d') {\n        bgEl.setShape('r', barBorderRadius);\n      }\n\n      bgEls[dataIndex] = bgEl;\n      return bgEl;\n    }\n\n    ;\n    data.diff(oldData).add(function (dataIndex) {\n      var itemModel = data.getItemModel(dataIndex);\n      var layout = getLayout[coord.type](data, dataIndex, itemModel);\n\n      if (drawBackground) {\n        createBackground(dataIndex);\n      } // If dataZoom in filteMode: 'empty', the baseValue can be set as NaN in \"axisProxy\".\n\n\n      if (!data.hasValue(dataIndex)) {\n        return;\n      }\n\n      var isClipped = false;\n\n      if (needsClip) {\n        // Clip will modify the layout params.\n        // And return a boolean to determine if the shape are fully clipped.\n        isClipped = clip[coord.type](coordSysClipArea, layout);\n      }\n\n      var el = elementCreator[coord.type](seriesModel, data, dataIndex, layout, isHorizontalOrRadial, animationModel, baseAxis.model, false, roundCap);\n      updateStyle(el, data, dataIndex, itemModel, layout, seriesModel, isHorizontalOrRadial, coord.type === 'polar');\n\n      if (isInitSort) {\n        el.attr({\n          shape: layout\n        });\n      } else if (realtimeSortCfg) {\n        updateRealtimeAnimation(realtimeSortCfg, animationModel, el, layout, dataIndex, isHorizontalOrRadial, false, false);\n      } else {\n        initProps(el, {\n          shape: layout\n        }, seriesModel, dataIndex);\n      }\n\n      data.setItemGraphicEl(dataIndex, el);\n      group.add(el);\n      el.ignore = isClipped;\n    }).update(function (newIndex, oldIndex) {\n      var itemModel = data.getItemModel(newIndex);\n      var layout = getLayout[coord.type](data, newIndex, itemModel);\n\n      if (drawBackground) {\n        var bgEl = void 0;\n\n        if (oldBgEls.length === 0) {\n          bgEl = createBackground(oldIndex);\n        } else {\n          bgEl = oldBgEls[oldIndex];\n          bgEl.useStyle(backgroundModel.getItemStyle()); // Only cartesian2d support borderRadius.\n\n          if (coord.type === 'cartesian2d') {\n            bgEl.setShape('r', barBorderRadius);\n          }\n\n          bgEls[newIndex] = bgEl;\n        }\n\n        var bgLayout = getLayout[coord.type](data, newIndex);\n        var shape = createBackgroundShape(isHorizontalOrRadial, bgLayout, coord);\n        updateProps(bgEl, {\n          shape: shape\n        }, animationModel, newIndex);\n      }\n\n      var el = oldData.getItemGraphicEl(oldIndex);\n\n      if (!data.hasValue(newIndex)) {\n        group.remove(el);\n        el = null;\n        return;\n      }\n\n      var isClipped = false;\n\n      if (needsClip) {\n        isClipped = clip[coord.type](coordSysClipArea, layout);\n\n        if (isClipped) {\n          group.remove(el);\n        }\n      }\n\n      if (!el) {\n        el = elementCreator[coord.type](seriesModel, data, newIndex, layout, isHorizontalOrRadial, animationModel, baseAxis.model, !!el, roundCap);\n      } // Not change anything if only order changed.\n      // Especially not change label.\n\n\n      if (!isChangeOrder) {\n        updateStyle(el, data, newIndex, itemModel, layout, seriesModel, isHorizontalOrRadial, coord.type === 'polar');\n      }\n\n      if (isInitSort) {\n        el.attr({\n          shape: layout\n        });\n      } else if (realtimeSortCfg) {\n        updateRealtimeAnimation(realtimeSortCfg, animationModel, el, layout, newIndex, isHorizontalOrRadial, true, isChangeOrder);\n      } else {\n        updateProps(el, {\n          shape: layout\n        }, seriesModel, newIndex, null);\n      }\n\n      data.setItemGraphicEl(newIndex, el);\n      el.ignore = isClipped;\n      group.add(el);\n    }).remove(function (dataIndex) {\n      var el = oldData.getItemGraphicEl(dataIndex);\n      el && removeElementWithFadeOut(el, seriesModel, dataIndex);\n    }).execute();\n    var bgGroup = this._backgroundGroup || (this._backgroundGroup = new Group());\n    bgGroup.removeAll();\n\n    for (var i = 0; i < bgEls.length; ++i) {\n      bgGroup.add(bgEls[i]);\n    }\n\n    group.add(bgGroup);\n    this._backgroundEls = bgEls;\n    this._data = data;\n  };\n\n  BarView.prototype._renderLarge = function (seriesModel, ecModel, api) {\n    this._clear();\n\n    createLarge(seriesModel, this.group);\n\n    this._updateLargeClip(seriesModel);\n  };\n\n  BarView.prototype._incrementalRenderLarge = function (params, seriesModel) {\n    this._removeBackground();\n\n    createLarge(seriesModel, this.group, true);\n  };\n\n  BarView.prototype._updateLargeClip = function (seriesModel) {\n    // Use clipPath in large mode.\n    var clipPath = seriesModel.get('clip', true) ? createClipPath(seriesModel.coordinateSystem, false, seriesModel) : null;\n\n    if (clipPath) {\n      this.group.setClipPath(clipPath);\n    } else {\n      this.group.removeClipPath();\n    }\n  };\n\n  BarView.prototype._enableRealtimeSort = function (realtimeSortCfg, data, api) {\n    var _this = this; // If no data in the first frame, wait for data to initSort\n\n\n    if (!data.count()) {\n      return;\n    }\n\n    var baseAxis = realtimeSortCfg.baseAxis;\n\n    if (this._isFirstFrame) {\n      this._dispatchInitSort(data, realtimeSortCfg, api);\n\n      this._isFirstFrame = false;\n    } else {\n      var orderMapping_1 = function (idx) {\n        var el = data.getItemGraphicEl(idx);\n\n        if (el) {\n          var shape = el.shape; // If data is NaN, shape.xxx may be NaN, so use || 0 here in case\n\n          return (baseAxis.isHorizontal() // The result should be consistent with the initial sort by data value.\n          // Do not support the case that both positive and negative exist.\n          ? Math.abs(shape.height) : Math.abs(shape.width)) || 0;\n        } else {\n          return 0;\n        }\n      };\n\n      this._onRendered = function () {\n        _this._updateSortWithinSameData(data, orderMapping_1, baseAxis, api);\n      };\n\n      api.getZr().on('rendered', this._onRendered);\n    }\n  };\n\n  BarView.prototype._dataSort = function (data, baseAxis, orderMapping) {\n    var info = [];\n    data.each(data.mapDimension(baseAxis.dim), function (ordinalNumber, dataIdx) {\n      var mappedValue = orderMapping(dataIdx);\n      mappedValue = mappedValue == null ? NaN : mappedValue;\n      info.push({\n        dataIndex: dataIdx,\n        mappedValue: mappedValue,\n        ordinalNumber: ordinalNumber\n      });\n    });\n    info.sort(function (a, b) {\n      // If NaN, it will be treated as min val.\n      return b.mappedValue - a.mappedValue;\n    });\n    return {\n      ordinalNumbers: map(info, function (item) {\n        return item.ordinalNumber;\n      })\n    };\n  };\n\n  BarView.prototype._isOrderChangedWithinSameData = function (data, orderMapping, baseAxis) {\n    var scale = baseAxis.scale;\n    var ordinalDataDim = data.mapDimension(baseAxis.dim);\n    var lastValue = Number.MAX_VALUE;\n\n    for (var tickNum = 0, len = scale.getOrdinalMeta().categories.length; tickNum < len; ++tickNum) {\n      var rawIdx = data.rawIndexOf(ordinalDataDim, scale.getRawOrdinalNumber(tickNum));\n      var value = rawIdx < 0 // If some tick have no bar, the tick will be treated as min.\n      ? Number.MIN_VALUE // PENDING: if dataZoom on baseAxis exits, is it a performance issue?\n      : orderMapping(data.indexOfRawIndex(rawIdx));\n\n      if (value > lastValue) {\n        return true;\n      }\n\n      lastValue = value;\n    }\n\n    return false;\n  };\n  /*\n   * Consider the case when A and B changed order, whose representing\n   * bars are both out of sight, we don't wish to trigger reorder action\n   * as long as the order in the view doesn't change.\n   */\n\n\n  BarView.prototype._isOrderDifferentInView = function (orderInfo, baseAxis) {\n    var scale = baseAxis.scale;\n    var extent = scale.getExtent();\n    var tickNum = Math.max(0, extent[0]);\n    var tickMax = Math.min(extent[1], scale.getOrdinalMeta().categories.length - 1);\n\n    for (; tickNum <= tickMax; ++tickNum) {\n      if (orderInfo.ordinalNumbers[tickNum] !== scale.getRawOrdinalNumber(tickNum)) {\n        return true;\n      }\n    }\n  };\n\n  BarView.prototype._updateSortWithinSameData = function (data, orderMapping, baseAxis, api) {\n    if (!this._isOrderChangedWithinSameData(data, orderMapping, baseAxis)) {\n      return;\n    }\n\n    var sortInfo = this._dataSort(data, baseAxis, orderMapping);\n\n    if (this._isOrderDifferentInView(sortInfo, baseAxis)) {\n      this._removeOnRenderedListener(api);\n\n      api.dispatchAction({\n        type: 'changeAxisOrder',\n        componentType: baseAxis.dim + 'Axis',\n        axisId: baseAxis.index,\n        sortInfo: sortInfo\n      });\n    }\n  };\n\n  BarView.prototype._dispatchInitSort = function (data, realtimeSortCfg, api) {\n    var baseAxis = realtimeSortCfg.baseAxis;\n\n    var sortResult = this._dataSort(data, baseAxis, function (dataIdx) {\n      return data.get(data.mapDimension(realtimeSortCfg.otherAxis.dim), dataIdx);\n    });\n\n    api.dispatchAction({\n      type: 'changeAxisOrder',\n      componentType: baseAxis.dim + 'Axis',\n      isInitSort: true,\n      axisId: baseAxis.index,\n      sortInfo: sortResult,\n      animation: {\n        // Update the axis label from the natural initial layout to\n        // sorted layout should has no animation.\n        duration: 0\n      }\n    });\n  };\n\n  BarView.prototype.remove = function (ecModel, api) {\n    this._clear(this._model);\n\n    this._removeOnRenderedListener(api);\n  };\n\n  BarView.prototype.dispose = function (ecModel, api) {\n    this._removeOnRenderedListener(api);\n  };\n\n  BarView.prototype._removeOnRenderedListener = function (api) {\n    if (this._onRendered) {\n      api.getZr().off('rendered', this._onRendered);\n      this._onRendered = null;\n    }\n  };\n\n  BarView.prototype._clear = function (model) {\n    var group = this.group;\n    var data = this._data;\n\n    if (model && model.isAnimationEnabled() && data && !this._isLargeDraw) {\n      this._removeBackground();\n\n      this._backgroundEls = [];\n      data.eachItemGraphicEl(function (el) {\n        removeElementWithFadeOut(el, model, getECData(el).dataIndex);\n      });\n    } else {\n      group.removeAll();\n    }\n\n    this._data = null;\n    this._isFirstFrame = true;\n  };\n\n  BarView.prototype._removeBackground = function () {\n    this.group.remove(this._backgroundGroup);\n    this._backgroundGroup = null;\n  };\n\n  BarView.type = 'bar';\n  return BarView;\n}(ChartView);\n\nvar clip = {\n  cartesian2d: function (coordSysBoundingRect, layout) {\n    var signWidth = layout.width < 0 ? -1 : 1;\n    var signHeight = layout.height < 0 ? -1 : 1; // Needs positive width and height\n\n    if (signWidth < 0) {\n      layout.x += layout.width;\n      layout.width = -layout.width;\n    }\n\n    if (signHeight < 0) {\n      layout.y += layout.height;\n      layout.height = -layout.height;\n    }\n\n    var coordSysX2 = coordSysBoundingRect.x + coordSysBoundingRect.width;\n    var coordSysY2 = coordSysBoundingRect.y + coordSysBoundingRect.height;\n    var x = mathMax(layout.x, coordSysBoundingRect.x);\n    var x2 = mathMin(layout.x + layout.width, coordSysX2);\n    var y = mathMax(layout.y, coordSysBoundingRect.y);\n    var y2 = mathMin(layout.y + layout.height, coordSysY2);\n    var xClipped = x2 < x;\n    var yClipped = y2 < y; // When xClipped or yClipped, the element will be marked as `ignore`.\n    // But we should also place the element at the edge of the coord sys bounding rect.\n    // Beause if data changed and the bar show again, its transition animaiton\n    // will begin at this place.\n\n    layout.x = xClipped && x > coordSysX2 ? x2 : x;\n    layout.y = yClipped && y > coordSysY2 ? y2 : y;\n    layout.width = xClipped ? 0 : x2 - x;\n    layout.height = yClipped ? 0 : y2 - y; // Reverse back\n\n    if (signWidth < 0) {\n      layout.x += layout.width;\n      layout.width = -layout.width;\n    }\n\n    if (signHeight < 0) {\n      layout.y += layout.height;\n      layout.height = -layout.height;\n    }\n\n    return xClipped || yClipped;\n  },\n  polar: function (coordSysClipArea, layout) {\n    var signR = layout.r0 <= layout.r ? 1 : -1; // Make sure r is larger than r0\n\n    if (signR < 0) {\n      var tmp = layout.r;\n      layout.r = layout.r0;\n      layout.r0 = tmp;\n    }\n\n    var r = mathMin(layout.r, coordSysClipArea.r);\n    var r0 = mathMax(layout.r0, coordSysClipArea.r0);\n    layout.r = r;\n    layout.r0 = r0;\n    var clipped = r - r0 < 0; // Reverse back\n\n    if (signR < 0) {\n      var tmp = layout.r;\n      layout.r = layout.r0;\n      layout.r0 = tmp;\n    }\n\n    return clipped;\n  }\n};\nvar elementCreator = {\n  cartesian2d: function (seriesModel, data, newIndex, layout, isHorizontal, animationModel, axisModel, isUpdate, roundCap) {\n    var rect = new Rect({\n      shape: extend({}, layout),\n      z2: 1\n    });\n    rect.__dataIndex = newIndex;\n    rect.name = 'item';\n\n    if (animationModel) {\n      var rectShape = rect.shape;\n      var animateProperty = isHorizontal ? 'height' : 'width';\n      rectShape[animateProperty] = 0;\n    }\n\n    return rect;\n  },\n  polar: function (seriesModel, data, newIndex, layout, isRadial, animationModel, axisModel, isUpdate, roundCap) {\n    // Keep the same logic with bar in catesion: use end value to control\n    // direction. Notice that if clockwise is true (by default), the sector\n    // will always draw clockwisely, no matter whether endAngle is greater\n    // or less than startAngle.\n    var clockwise = layout.startAngle < layout.endAngle;\n    var ShapeClass = !isRadial && roundCap ? Sausage : Sector;\n    var sector = new ShapeClass({\n      shape: defaults({\n        clockwise: clockwise\n      }, layout),\n      z2: 1\n    });\n    sector.name = 'item'; // Animation\n\n    if (animationModel) {\n      var sectorShape = sector.shape;\n      var animateProperty = isRadial ? 'r' : 'endAngle';\n      var animateTarget = {};\n      sectorShape[animateProperty] = isRadial ? 0 : layout.startAngle;\n      animateTarget[animateProperty] = layout[animateProperty];\n      (isUpdate ? updateProps : initProps)(sector, {\n        shape: animateTarget // __value: typeof dataValue === 'string' ? parseInt(dataValue, 10) : dataValue\n\n      }, animationModel);\n    }\n\n    return sector;\n  }\n};\n\nfunction shouldRealtimeSort(seriesModel, coordSys) {\n  var realtimeSortOption = seriesModel.get('realtimeSort', true);\n  var baseAxis = coordSys.getBaseAxis();\n\n  if (process.env.NODE_ENV !== 'production') {\n    if (realtimeSortOption) {\n      if (baseAxis.type !== 'category') {\n        warn('`realtimeSort` will not work because this bar series is not based on a category axis.');\n      }\n\n      if (coordSys.type !== 'cartesian2d') {\n        warn('`realtimeSort` will not work because this bar series is not on cartesian2d.');\n      }\n    }\n  }\n\n  if (realtimeSortOption && baseAxis.type === 'category' && coordSys.type === 'cartesian2d') {\n    return {\n      baseAxis: baseAxis,\n      otherAxis: coordSys.getOtherAxis(baseAxis)\n    };\n  }\n}\n\nfunction updateRealtimeAnimation(realtimeSortCfg, seriesAnimationModel, el, layout, newIndex, isHorizontal, isUpdate, isChangeOrder) {\n  var seriesTarget;\n  var axisTarget;\n\n  if (isHorizontal) {\n    axisTarget = {\n      x: layout.x,\n      width: layout.width\n    };\n    seriesTarget = {\n      y: layout.y,\n      height: layout.height\n    };\n  } else {\n    axisTarget = {\n      y: layout.y,\n      height: layout.height\n    };\n    seriesTarget = {\n      x: layout.x,\n      width: layout.width\n    };\n  }\n\n  if (!isChangeOrder) {\n    // Keep the original growth animation if only axis order changed.\n    // Not start a new animation.\n    (isUpdate ? updateProps : initProps)(el, {\n      shape: seriesTarget\n    }, seriesAnimationModel, newIndex, null);\n  }\n\n  var axisAnimationModel = seriesAnimationModel ? realtimeSortCfg.baseAxis.model : null;\n  (isUpdate ? updateProps : initProps)(el, {\n    shape: axisTarget\n  }, axisAnimationModel, newIndex);\n}\n\nvar getLayout = {\n  // itemModel is only used to get borderWidth, which is not needed\n  // when calculating bar background layout.\n  cartesian2d: function (data, dataIndex, itemModel) {\n    var layout = data.getItemLayout(dataIndex);\n    var fixedLineWidth = itemModel ? getLineWidth(itemModel, layout) : 0; // fix layout with lineWidth\n\n    var signX = layout.width > 0 ? 1 : -1;\n    var signY = layout.height > 0 ? 1 : -1;\n    return {\n      x: layout.x + signX * fixedLineWidth / 2,\n      y: layout.y + signY * fixedLineWidth / 2,\n      width: layout.width - signX * fixedLineWidth,\n      height: layout.height - signY * fixedLineWidth\n    };\n  },\n  polar: function (data, dataIndex, itemModel) {\n    var layout = data.getItemLayout(dataIndex);\n    return {\n      cx: layout.cx,\n      cy: layout.cy,\n      r0: layout.r0,\n      r: layout.r,\n      startAngle: layout.startAngle,\n      endAngle: layout.endAngle\n    };\n  }\n};\n\nfunction isZeroOnPolar(layout) {\n  return layout.startAngle != null && layout.endAngle != null && layout.startAngle === layout.endAngle;\n}\n\nfunction updateStyle(el, data, dataIndex, itemModel, layout, seriesModel, isHorizontal, isPolar) {\n  var style = data.getItemVisual(dataIndex, 'style');\n\n  if (!isPolar) {\n    el.setShape('r', itemModel.get(['itemStyle', 'borderRadius']) || 0);\n  }\n\n  el.useStyle(style);\n  var cursorStyle = itemModel.getShallow('cursor');\n  cursorStyle && el.attr('cursor', cursorStyle);\n\n  if (!isPolar) {\n    var labelPositionOutside = isHorizontal ? layout.height > 0 ? 'bottom' : 'top' : layout.width > 0 ? 'left' : 'right';\n    var labelStatesModels = getLabelStatesModels(itemModel);\n    setLabelStyle(el, labelStatesModels, {\n      labelFetcher: seriesModel,\n      labelDataIndex: dataIndex,\n      defaultText: getDefaultLabel(seriesModel.getData(), dataIndex),\n      inheritColor: style.fill,\n      defaultOpacity: style.opacity,\n      defaultOutsidePosition: labelPositionOutside\n    });\n    var label = el.getTextContent();\n    setLabelValueAnimation(label, labelStatesModels, seriesModel.getRawValue(dataIndex), function (value) {\n      return getDefaultInterpolatedLabel(data, value);\n    });\n  }\n\n  var emphasisModel = itemModel.getModel(['emphasis']);\n  enableHoverEmphasis(el, emphasisModel.get('focus'), emphasisModel.get('blurScope'));\n  setStatesStylesFromModel(el, itemModel);\n\n  if (isZeroOnPolar(layout)) {\n    el.style.fill = 'none';\n    el.style.stroke = 'none';\n    each(el.states, function (state) {\n      if (state.style) {\n        state.style.fill = state.style.stroke = 'none';\n      }\n    });\n  }\n} // In case width or height are too small.\n\n\nfunction getLineWidth(itemModel, rawLayout) {\n  // Has no border.\n  var borderColor = itemModel.get(['itemStyle', 'borderColor']);\n\n  if (!borderColor || borderColor === 'none') {\n    return 0;\n  }\n\n  var lineWidth = itemModel.get(['itemStyle', 'borderWidth']) || 0; // width or height may be NaN for empty data\n\n  var width = isNaN(rawLayout.width) ? Number.MAX_VALUE : Math.abs(rawLayout.width);\n  var height = isNaN(rawLayout.height) ? Number.MAX_VALUE : Math.abs(rawLayout.height);\n  return Math.min(lineWidth, width, height);\n}\n\nvar LagePathShape =\n/** @class */\nfunction () {\n  function LagePathShape() {}\n\n  return LagePathShape;\n}();\n\nvar LargePath =\n/** @class */\nfunction (_super) {\n  __extends(LargePath, _super);\n\n  function LargePath(opts) {\n    var _this = _super.call(this, opts) || this;\n\n    _this.type = 'largeBar';\n    return _this;\n  }\n\n  ;\n\n  LargePath.prototype.getDefaultShape = function () {\n    return new LagePathShape();\n  };\n\n  LargePath.prototype.buildPath = function (ctx, shape) {\n    // Drawing lines is more efficient than drawing\n    // a whole line or drawing rects.\n    var points = shape.points;\n    var startPoint = this.__startPoint;\n    var baseDimIdx = this.__baseDimIdx;\n\n    for (var i = 0; i < points.length; i += 2) {\n      startPoint[baseDimIdx] = points[i + baseDimIdx];\n      ctx.moveTo(startPoint[0], startPoint[1]);\n      ctx.lineTo(points[i], points[i + 1]);\n    }\n  };\n\n  return LargePath;\n}(Path);\n\nfunction createLarge(seriesModel, group, incremental) {\n  // TODO support polar\n  var data = seriesModel.getData();\n  var startPoint = [];\n  var baseDimIdx = data.getLayout('valueAxisHorizontal') ? 1 : 0;\n  startPoint[1 - baseDimIdx] = data.getLayout('valueAxisStart');\n  var largeDataIndices = data.getLayout('largeDataIndices');\n  var barWidth = data.getLayout('barWidth');\n  var backgroundModel = seriesModel.getModel('backgroundStyle');\n  var drawBackground = seriesModel.get('showBackground', true);\n\n  if (drawBackground) {\n    var points = data.getLayout('largeBackgroundPoints');\n    var backgroundStartPoint = [];\n    backgroundStartPoint[1 - baseDimIdx] = data.getLayout('backgroundStart');\n    var bgEl = new LargePath({\n      shape: {\n        points: points\n      },\n      incremental: !!incremental,\n      silent: true,\n      z2: 0\n    });\n    bgEl.__startPoint = backgroundStartPoint;\n    bgEl.__baseDimIdx = baseDimIdx;\n    bgEl.__largeDataIndices = largeDataIndices;\n    bgEl.__barWidth = barWidth;\n    setLargeBackgroundStyle(bgEl, backgroundModel, data);\n    group.add(bgEl);\n  }\n\n  var el = new LargePath({\n    shape: {\n      points: data.getLayout('largePoints')\n    },\n    incremental: !!incremental\n  });\n  el.__startPoint = startPoint;\n  el.__baseDimIdx = baseDimIdx;\n  el.__largeDataIndices = largeDataIndices;\n  el.__barWidth = barWidth;\n  group.add(el);\n  setLargeStyle(el, seriesModel, data); // Enable tooltip and user mouse/touch event handlers.\n\n  getECData(el).seriesIndex = seriesModel.seriesIndex;\n\n  if (!seriesModel.get('silent')) {\n    el.on('mousedown', largePathUpdateDataIndex);\n    el.on('mousemove', largePathUpdateDataIndex);\n  }\n} // Use throttle to avoid frequently traverse to find dataIndex.\n\n\nvar largePathUpdateDataIndex = throttle(function (event) {\n  var largePath = this;\n  var dataIndex = largePathFindDataIndex(largePath, event.offsetX, event.offsetY);\n  getECData(largePath).dataIndex = dataIndex >= 0 ? dataIndex : null;\n}, 30, false);\n\nfunction largePathFindDataIndex(largePath, x, y) {\n  var baseDimIdx = largePath.__baseDimIdx;\n  var valueDimIdx = 1 - baseDimIdx;\n  var points = largePath.shape.points;\n  var largeDataIndices = largePath.__largeDataIndices;\n  var barWidthHalf = Math.abs(largePath.__barWidth / 2);\n  var startValueVal = largePath.__startPoint[valueDimIdx];\n  _eventPos[0] = x;\n  _eventPos[1] = y;\n  var pointerBaseVal = _eventPos[baseDimIdx];\n  var pointerValueVal = _eventPos[1 - baseDimIdx];\n  var baseLowerBound = pointerBaseVal - barWidthHalf;\n  var baseUpperBound = pointerBaseVal + barWidthHalf;\n\n  for (var i = 0, len = points.length / 2; i < len; i++) {\n    var ii = i * 2;\n    var barBaseVal = points[ii + baseDimIdx];\n    var barValueVal = points[ii + valueDimIdx];\n\n    if (barBaseVal >= baseLowerBound && barBaseVal <= baseUpperBound && (startValueVal <= barValueVal ? pointerValueVal >= startValueVal && pointerValueVal <= barValueVal : pointerValueVal >= barValueVal && pointerValueVal <= startValueVal)) {\n      return largeDataIndices[i];\n    }\n  }\n\n  return -1;\n}\n\nfunction setLargeStyle(el, seriesModel, data) {\n  var globalStyle = data.getVisual('style');\n  el.useStyle(extend({}, globalStyle)); // Use stroke instead of fill.\n\n  el.style.fill = null;\n  el.style.stroke = globalStyle.fill;\n  el.style.lineWidth = data.getLayout('barWidth');\n}\n\nfunction setLargeBackgroundStyle(el, backgroundModel, data) {\n  var borderColor = backgroundModel.get('borderColor') || backgroundModel.get('color');\n  var itemStyle = backgroundModel.getItemStyle();\n  el.useStyle(itemStyle);\n  el.style.fill = null;\n  el.style.stroke = borderColor;\n  el.style.lineWidth = data.getLayout('barWidth');\n}\n\nfunction createBackgroundShape(isHorizontalOrRadial, layout, coord) {\n  if (isCoordinateSystemType(coord, 'cartesian2d')) {\n    var rectShape = layout;\n    var coordLayout = coord.getArea();\n    return {\n      x: isHorizontalOrRadial ? rectShape.x : coordLayout.x,\n      y: isHorizontalOrRadial ? coordLayout.y : rectShape.y,\n      width: isHorizontalOrRadial ? rectShape.width : coordLayout.width,\n      height: isHorizontalOrRadial ? coordLayout.height : rectShape.height\n    };\n  } else {\n    var coordLayout = coord.getArea();\n    var sectorShape = layout;\n    return {\n      cx: coordLayout.cx,\n      cy: coordLayout.cy,\n      r0: isHorizontalOrRadial ? coordLayout.r0 : sectorShape.r0,\n      r: isHorizontalOrRadial ? coordLayout.r : sectorShape.r,\n      startAngle: isHorizontalOrRadial ? sectorShape.startAngle : 0,\n      endAngle: isHorizontalOrRadial ? sectorShape.endAngle : Math.PI * 2\n    };\n  }\n}\n\nfunction createBackgroundEl(coord, isHorizontalOrRadial, layout) {\n  var ElementClz = coord.type === 'polar' ? Sector : Rect;\n  return new ElementClz({\n    shape: createBackgroundShape(isHorizontalOrRadial, layout, coord),\n    silent: true,\n    z2: 0\n  });\n}\n\nexport default BarView;", "\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport * as zrUtil from 'zrender/lib/core/util';\nimport { layout, largeLayout } from '../../layout/barGrid';\nimport dataSample from '../../processor/dataSample';\nimport BarSeries from './BarSeries';\nimport BarView from './BarView';\nexport function install(registers) {\n  registers.registerChartView(BarView);\n  registers.registerSeriesModel(BarSeries);\n  registers.registerLayout(registers.PRIORITY.VISUAL.LAYOUT, zrUtil.curry(layout, 'bar')); // Use higher prority to avoid to be blocked by other overall layout, which do not\n  // only exist in this module, but probably also exist in other modules, like `barPolar`.\n\n  registers.registerLayout(registers.PRIORITY.VISUAL.PROGRESSIVE_LAYOUT, largeLayout); // Down sample after filter\n\n  registers.registerProcessor(registers.PRIORITY.PROCESSOR.STATISTIC, dataSample('bar'));\n  /**\n   * @payload\n   * @property {string} [componentType=series]\n   * @property {number} [dx]\n   * @property {number} [dy]\n   * @property {number} [zoom]\n   * @property {number} [originX]\n   * @property {number} [originY]\n   */\n\n  registers.registerAction({\n    type: 'changeAxisOrder',\n    event: 'changeAxisOrder',\n    update: 'update'\n  }, function (payload, ecModel) {\n    var componentType = payload.componentType || 'series';\n    ecModel.eachComponent({\n      mainType: componentType,\n      query: payload\n    }, function (componentModel) {\n      if (payload.sortInfo) {\n        componentModel.axis.setCategorySortInfo(payload.sortInfo);\n      }\n    });\n  });\n}", "\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { parsePercent, linearMap } from '../../util/number';\nimport * as layout from '../../util/layout';\nimport * as zrUtil from 'zrender/lib/core/util';\nvar PI2 = Math.PI * 2;\nvar RADIAN = Math.PI / 180;\n\nfunction getViewRect(seriesModel, api) {\n  return layout.getLayoutRect(seriesModel.getBoxLayoutParams(), {\n    width: api.getWidth(),\n    height: api.getHeight()\n  });\n}\n\nexport default function pieLayout(seriesType, ecModel, api) {\n  ecModel.eachSeriesByType(seriesType, function (seriesModel) {\n    var data = seriesModel.getData();\n    var valueDim = data.mapDimension('value');\n    var viewRect = getViewRect(seriesModel, api);\n    var center = seriesModel.get('center');\n    var radius = seriesModel.get('radius');\n\n    if (!zrUtil.isArray(radius)) {\n      radius = [0, radius];\n    }\n\n    if (!zrUtil.isArray(center)) {\n      center = [center, center];\n    }\n\n    var width = parsePercent(viewRect.width, api.getWidth());\n    var height = parsePercent(viewRect.height, api.getHeight());\n    var size = Math.min(width, height);\n    var cx = parsePercent(center[0], width) + viewRect.x;\n    var cy = parsePercent(center[1], height) + viewRect.y;\n    var r0 = parsePercent(radius[0], size / 2);\n    var r = parsePercent(radius[1], size / 2);\n    var startAngle = -seriesModel.get('startAngle') * RADIAN;\n    var minAngle = seriesModel.get('minAngle') * RADIAN;\n    var validDataCount = 0;\n    data.each(valueDim, function (value) {\n      !isNaN(value) && validDataCount++;\n    });\n    var sum = data.getSum(valueDim); // Sum may be 0\n\n    var unitRadian = Math.PI / (sum || validDataCount) * 2;\n    var clockwise = seriesModel.get('clockwise');\n    var roseType = seriesModel.get('roseType');\n    var stillShowZeroSum = seriesModel.get('stillShowZeroSum'); // [0...max]\n\n    var extent = data.getDataExtent(valueDim);\n    extent[0] = 0; // In the case some sector angle is smaller than minAngle\n\n    var restAngle = PI2;\n    var valueSumLargerThanMinAngle = 0;\n    var currentAngle = startAngle;\n    var dir = clockwise ? 1 : -1;\n    data.setLayout({\n      viewRect: viewRect,\n      r: r\n    });\n    data.each(valueDim, function (value, idx) {\n      var angle;\n\n      if (isNaN(value)) {\n        data.setItemLayout(idx, {\n          angle: NaN,\n          startAngle: NaN,\n          endAngle: NaN,\n          clockwise: clockwise,\n          cx: cx,\n          cy: cy,\n          r0: r0,\n          r: roseType ? NaN : r\n        });\n        return;\n      } // FIXME \u517C\u5BB9 2.0 \u4F46\u662F roseType \u662F area \u7684\u65F6\u5019\u624D\u662F\u8FD9\u6837\uFF1F\n\n\n      if (roseType !== 'area') {\n        angle = sum === 0 && stillShowZeroSum ? unitRadian : value * unitRadian;\n      } else {\n        angle = PI2 / validDataCount;\n      }\n\n      if (angle < minAngle) {\n        angle = minAngle;\n        restAngle -= minAngle;\n      } else {\n        valueSumLargerThanMinAngle += value;\n      }\n\n      var endAngle = currentAngle + dir * angle;\n      data.setItemLayout(idx, {\n        angle: angle,\n        startAngle: currentAngle,\n        endAngle: endAngle,\n        clockwise: clockwise,\n        cx: cx,\n        cy: cy,\n        r0: r0,\n        r: roseType ? linearMap(value, extent, [r0, r]) : r\n      });\n      currentAngle = endAngle;\n    }); // Some sector is constrained by minAngle\n    // Rest sectors needs recalculate angle\n\n    if (restAngle < PI2 && validDataCount) {\n      // Average the angle if rest angle is not enough after all angles is\n      // Constrained by minAngle\n      if (restAngle <= 1e-3) {\n        var angle_1 = PI2 / validDataCount;\n        data.each(valueDim, function (value, idx) {\n          if (!isNaN(value)) {\n            var layout_1 = data.getItemLayout(idx);\n            layout_1.angle = angle_1;\n            layout_1.startAngle = startAngle + dir * idx * angle_1;\n            layout_1.endAngle = startAngle + dir * (idx + 1) * angle_1;\n          }\n        });\n      } else {\n        unitRadian = restAngle / valueSumLargerThanMinAngle;\n        currentAngle = startAngle;\n        data.each(valueDim, function (value, idx) {\n          if (!isNaN(value)) {\n            var layout_2 = data.getItemLayout(idx);\n            var angle = layout_2.angle === minAngle ? minAngle : value * unitRadian;\n            layout_2.startAngle = currentAngle;\n            layout_2.endAngle = currentAngle + dir * angle;\n            currentAngle += dir * angle;\n          }\n        });\n      }\n    }\n  });\n}", "\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nexport default function dataFilter(seriesType) {\n  return {\n    seriesType: seriesType,\n    reset: function (seriesModel, ecModel) {\n      var legendModels = ecModel.findComponents({\n        mainType: 'legend'\n      });\n\n      if (!legendModels || !legendModels.length) {\n        return;\n      }\n\n      var data = seriesModel.getData();\n      data.filterSelf(function (idx) {\n        var name = data.getName(idx); // If in any legend component the status is not selected.\n\n        for (var i = 0; i < legendModels.length; i++) {\n          // @ts-ignore FIXME: LegendModel\n          if (!legendModels[i].isSelected(name)) {\n            return false;\n          }\n        }\n\n        return true;\n      });\n    }\n  };\n}", "\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n// FIXME emphasis label position is not same with normal label position\nimport { parsePercent } from '../../util/number';\nimport { Point } from '../../util/graphic';\nimport { each } from 'zrender/lib/core/util';\nimport { limitTurnAngle, limitSurfaceAngle } from '../../label/labelGuideHelper';\nimport { shiftLayoutOnY } from '../../label/labelLayoutHelper';\nvar RADIAN = Math.PI / 180;\n\nfunction adjustSingleSide(list, cx, cy, r, dir, viewWidth, viewHeight, viewLeft, viewTop, farthestX) {\n  if (list.length < 2) {\n    return;\n  }\n\n  ;\n\n  function recalculateXOnSemiToAlignOnEllipseCurve(semi) {\n    var rB = semi.rB;\n    var rB2 = rB * rB;\n\n    for (var i = 0; i < semi.list.length; i++) {\n      var item = semi.list[i];\n      var dy = Math.abs(item.label.y - cy); // horizontal r is always same with original r because x is not changed.\n\n      var rA = r + item.len;\n      var rA2 = rA * rA; // Use ellipse implicit function to calculate x\n\n      var dx = Math.sqrt((1 - Math.abs(dy * dy / rB2)) * rA2);\n      item.label.x = cx + (dx + item.len2) * dir;\n    }\n  } // Adjust X based on the shifted y. Make tight labels aligned on an ellipse curve.\n\n\n  function recalculateX(items) {\n    // Extremes of\n    var topSemi = {\n      list: [],\n      maxY: 0\n    };\n    var bottomSemi = {\n      list: [],\n      maxY: 0\n    };\n\n    for (var i = 0; i < items.length; i++) {\n      if (items[i].labelAlignTo !== 'none') {\n        continue;\n      }\n\n      var item = items[i];\n      var semi = item.label.y > cy ? bottomSemi : topSemi;\n      var dy = Math.abs(item.label.y - cy);\n\n      if (dy > semi.maxY) {\n        var dx = item.label.x - cx - item.len2 * dir; // horizontal r is always same with original r because x is not changed.\n\n        var rA = r + item.len; // Canculate rB based on the topest / bottemest label.\n\n        var rB = Math.abs(dx) < rA ? Math.sqrt(dy * dy / (1 - dx * dx / rA / rA)) : rA;\n        semi.rB = rB;\n        semi.maxY = dy;\n      }\n\n      semi.list.push(item);\n    }\n\n    recalculateXOnSemiToAlignOnEllipseCurve(topSemi);\n    recalculateXOnSemiToAlignOnEllipseCurve(bottomSemi);\n  }\n\n  var len = list.length;\n\n  for (var i = 0; i < len; i++) {\n    if (list[i].position === 'outer' && list[i].labelAlignTo === 'labelLine') {\n      var dx = list[i].label.x - farthestX;\n      list[i].linePoints[1][0] += dx;\n      list[i].label.x = farthestX;\n    }\n  }\n\n  if (shiftLayoutOnY(list, viewTop, viewTop + viewHeight)) {\n    recalculateX(list);\n  }\n}\n\nfunction avoidOverlap(labelLayoutList, cx, cy, r, viewWidth, viewHeight, viewLeft, viewTop) {\n  var leftList = [];\n  var rightList = [];\n  var leftmostX = Number.MAX_VALUE;\n  var rightmostX = -Number.MAX_VALUE;\n\n  for (var i = 0; i < labelLayoutList.length; i++) {\n    var label = labelLayoutList[i].label;\n\n    if (isPositionCenter(labelLayoutList[i])) {\n      continue;\n    }\n\n    if (label.x < cx) {\n      leftmostX = Math.min(leftmostX, label.x);\n      leftList.push(labelLayoutList[i]);\n    } else {\n      rightmostX = Math.max(rightmostX, label.x);\n      rightList.push(labelLayoutList[i]);\n    }\n  }\n\n  adjustSingleSide(rightList, cx, cy, r, 1, viewWidth, viewHeight, viewLeft, viewTop, rightmostX);\n  adjustSingleSide(leftList, cx, cy, r, -1, viewWidth, viewHeight, viewLeft, viewTop, leftmostX);\n\n  for (var i = 0; i < labelLayoutList.length; i++) {\n    var layout = labelLayoutList[i];\n    var label = layout.label;\n\n    if (isPositionCenter(layout)) {\n      continue;\n    }\n\n    var linePoints = layout.linePoints;\n\n    if (linePoints) {\n      var isAlignToEdge = layout.labelAlignTo === 'edge';\n      var realTextWidth = layout.rect.width;\n      var targetTextWidth = void 0;\n\n      if (isAlignToEdge) {\n        if (label.x < cx) {\n          targetTextWidth = linePoints[2][0] - layout.labelDistance - viewLeft - layout.edgeDistance;\n        } else {\n          targetTextWidth = viewLeft + viewWidth - layout.edgeDistance - linePoints[2][0] - layout.labelDistance;\n        }\n      } else {\n        if (label.x < cx) {\n          targetTextWidth = label.x - viewLeft - layout.bleedMargin;\n        } else {\n          targetTextWidth = viewLeft + viewWidth - label.x - layout.bleedMargin;\n        }\n      }\n\n      if (targetTextWidth < layout.rect.width) {\n        // TODOTODO\n        // layout.text = textContain.truncateText(layout.text, targetTextWidth, layout.font);\n        layout.label.style.width = targetTextWidth;\n\n        if (layout.labelAlignTo === 'edge') {\n          realTextWidth = targetTextWidth; // realTextWidth = textContain.getWidth(layout.text, layout.font);\n        }\n      }\n\n      var dist = linePoints[1][0] - linePoints[2][0];\n\n      if (isAlignToEdge) {\n        if (label.x < cx) {\n          linePoints[2][0] = viewLeft + layout.edgeDistance + realTextWidth + layout.labelDistance;\n        } else {\n          linePoints[2][0] = viewLeft + viewWidth - layout.edgeDistance - realTextWidth - layout.labelDistance;\n        }\n      } else {\n        if (label.x < cx) {\n          linePoints[2][0] = label.x + layout.labelDistance;\n        } else {\n          linePoints[2][0] = label.x - layout.labelDistance;\n        }\n\n        linePoints[1][0] = linePoints[2][0] + dist;\n      }\n\n      linePoints[1][1] = linePoints[2][1] = label.y;\n    }\n  }\n}\n\nfunction isPositionCenter(sectorShape) {\n  // Not change x for center label\n  return sectorShape.position === 'center';\n}\n\nexport default function pieLabelLayout(seriesModel) {\n  var data = seriesModel.getData();\n  var labelLayoutList = [];\n  var cx;\n  var cy;\n  var hasLabelRotate = false;\n  var minShowLabelRadian = (seriesModel.get('minShowLabelAngle') || 0) * RADIAN;\n  var viewRect = data.getLayout('viewRect');\n  var r = data.getLayout('r');\n  var viewWidth = viewRect.width;\n  var viewLeft = viewRect.x;\n  var viewTop = viewRect.y;\n  var viewHeight = viewRect.height;\n\n  function setNotShow(el) {\n    el.ignore = true;\n  }\n\n  function isLabelShown(label) {\n    if (!label.ignore) {\n      return true;\n    }\n\n    for (var key in label.states) {\n      if (label.states[key].ignore === false) {\n        return true;\n      }\n    }\n\n    return false;\n  }\n\n  data.each(function (idx) {\n    var sector = data.getItemGraphicEl(idx);\n    var sectorShape = sector.shape;\n    var label = sector.getTextContent();\n    var labelLine = sector.getTextGuideLine();\n    var itemModel = data.getItemModel(idx);\n    var labelModel = itemModel.getModel('label'); // Use position in normal or emphasis\n\n    var labelPosition = labelModel.get('position') || itemModel.get(['emphasis', 'label', 'position']);\n    var labelDistance = labelModel.get('distanceToLabelLine');\n    var labelAlignTo = labelModel.get('alignTo');\n    var edgeDistance = parsePercent(labelModel.get('edgeDistance'), viewWidth);\n    var bleedMargin = labelModel.get('bleedMargin');\n    var labelLineModel = itemModel.getModel('labelLine');\n    var labelLineLen = labelLineModel.get('length');\n    labelLineLen = parsePercent(labelLineLen, viewWidth);\n    var labelLineLen2 = labelLineModel.get('length2');\n    labelLineLen2 = parsePercent(labelLineLen2, viewWidth);\n\n    if (Math.abs(sectorShape.endAngle - sectorShape.startAngle) < minShowLabelRadian) {\n      each(label.states, setNotShow);\n      label.ignore = true;\n      return;\n    }\n\n    if (!isLabelShown(label)) {\n      return;\n    }\n\n    var midAngle = (sectorShape.startAngle + sectorShape.endAngle) / 2;\n    var nx = Math.cos(midAngle);\n    var ny = Math.sin(midAngle);\n    var textX;\n    var textY;\n    var linePoints;\n    var textAlign;\n    cx = sectorShape.cx;\n    cy = sectorShape.cy;\n    var isLabelInside = labelPosition === 'inside' || labelPosition === 'inner';\n\n    if (labelPosition === 'center') {\n      textX = sectorShape.cx;\n      textY = sectorShape.cy;\n      textAlign = 'center';\n    } else {\n      var x1 = (isLabelInside ? (sectorShape.r + sectorShape.r0) / 2 * nx : sectorShape.r * nx) + cx;\n      var y1 = (isLabelInside ? (sectorShape.r + sectorShape.r0) / 2 * ny : sectorShape.r * ny) + cy;\n      textX = x1 + nx * 3;\n      textY = y1 + ny * 3;\n\n      if (!isLabelInside) {\n        // For roseType\n        var x2 = x1 + nx * (labelLineLen + r - sectorShape.r);\n        var y2 = y1 + ny * (labelLineLen + r - sectorShape.r);\n        var x3 = x2 + (nx < 0 ? -1 : 1) * labelLineLen2;\n        var y3 = y2;\n\n        if (labelAlignTo === 'edge') {\n          // Adjust textX because text align of edge is opposite\n          textX = nx < 0 ? viewLeft + edgeDistance : viewLeft + viewWidth - edgeDistance;\n        } else {\n          textX = x3 + (nx < 0 ? -labelDistance : labelDistance);\n        }\n\n        textY = y3;\n        linePoints = [[x1, y1], [x2, y2], [x3, y3]];\n      }\n\n      textAlign = isLabelInside ? 'center' : labelAlignTo === 'edge' ? nx > 0 ? 'right' : 'left' : nx > 0 ? 'left' : 'right';\n    }\n\n    var labelRotate;\n    var rotate = labelModel.get('rotate');\n\n    if (typeof rotate === 'number') {\n      labelRotate = rotate * (Math.PI / 180);\n    } else {\n      labelRotate = rotate ? nx < 0 ? -midAngle + Math.PI : -midAngle : 0;\n    }\n\n    hasLabelRotate = !!labelRotate;\n    label.x = textX;\n    label.y = textY;\n    label.rotation = labelRotate;\n    label.setStyle({\n      verticalAlign: 'middle'\n    }); // Not sectorShape the inside label\n\n    if (!isLabelInside) {\n      var textRect = label.getBoundingRect().clone();\n      textRect.applyTransform(label.getComputedTransform()); // Text has a default 1px stroke. Exclude this.\n\n      var margin = (label.style.margin || 0) + 2.1;\n      textRect.y -= margin / 2;\n      textRect.height += margin;\n      labelLayoutList.push({\n        label: label,\n        labelLine: labelLine,\n        position: labelPosition,\n        len: labelLineLen,\n        len2: labelLineLen2,\n        minTurnAngle: labelLineModel.get('minTurnAngle'),\n        maxSurfaceAngle: labelLineModel.get('maxSurfaceAngle'),\n        surfaceNormal: new Point(nx, ny),\n        linePoints: linePoints,\n        textAlign: textAlign,\n        labelDistance: labelDistance,\n        labelAlignTo: labelAlignTo,\n        edgeDistance: edgeDistance,\n        bleedMargin: bleedMargin,\n        rect: textRect\n      });\n    } else {\n      label.setStyle({\n        align: textAlign\n      });\n      var selectState = label.states.select;\n\n      if (selectState) {\n        selectState.x += label.x;\n        selectState.y += label.y;\n      }\n    }\n\n    sector.setTextConfig({\n      inside: isLabelInside\n    });\n  });\n\n  if (!hasLabelRotate && seriesModel.get('avoidLabelOverlap')) {\n    avoidOverlap(labelLayoutList, cx, cy, r, viewWidth, viewHeight, viewLeft, viewTop);\n  }\n\n  for (var i = 0; i < labelLayoutList.length; i++) {\n    var layout = labelLayoutList[i];\n    var label = layout.label;\n    var labelLine = layout.labelLine;\n    var notShowLabel = isNaN(label.x) || isNaN(label.y);\n\n    if (label) {\n      label.setStyle({\n        align: layout.textAlign\n      });\n\n      if (notShowLabel) {\n        each(label.states, setNotShow);\n        label.ignore = true;\n      }\n\n      var selectState = label.states.select;\n\n      if (selectState) {\n        selectState.x += label.x;\n        selectState.y += label.y;\n      }\n    }\n\n    if (labelLine) {\n      var linePoints = layout.linePoints;\n\n      if (notShowLabel || !linePoints) {\n        each(labelLine.states, setNotShow);\n        labelLine.ignore = true;\n      } else {\n        limitTurnAngle(linePoints, layout.minTurnAngle);\n        limitSurfaceAngle(linePoints, layout.surfaceNormal, layout.maxSurfaceAngle);\n        labelLine.setShape({\n          points: linePoints\n        }); // Set the anchor to the midpoint of sector\n\n        label.__hostTarget.textGuideLineConfig = {\n          anchor: new Point(linePoints[0][0], linePoints[0][1])\n        };\n      }\n    }\n  }\n}", "\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { isArray } from 'zrender/lib/core/util';\nimport { parsePercent } from 'zrender/lib/contain/text';\nexport function getSectorCornerRadius(model, shape) {\n  var cornerRadius = model.get('borderRadius');\n\n  if (cornerRadius == null) {\n    return null;\n  }\n\n  if (!isArray(cornerRadius)) {\n    cornerRadius = [cornerRadius, cornerRadius];\n  }\n\n  return {\n    innerCornerRadius: parsePercent(cornerRadius[0], shape.r0),\n    cornerRadius: parsePercent(cornerRadius[1], shape.r)\n  };\n}", "\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { __assign, __extends } from \"tslib\";\nimport { extend, retrieve3 } from 'zrender/lib/core/util';\nimport * as graphic from '../../util/graphic';\nimport { setStatesStylesFromModel, enableHoverEmphasis } from '../../util/states';\nimport ChartView from '../../view/Chart';\nimport labelLayout from './labelLayout';\nimport { setLabelLineStyle, getLabelLineStatesModels } from '../../label/labelGuideHelper';\nimport { setLabelStyle, getLabelStatesModels } from '../../label/labelStyle';\nimport { getSectorCornerRadius } from '../helper/pieHelper';\n/**\n * Piece of pie including Sector, Label, LabelLine\n */\n\nvar PiePiece =\n/** @class */\nfunction (_super) {\n  __extends(PiePiece, _super);\n\n  function PiePiece(data, idx, startAngle) {\n    var _this = _super.call(this) || this;\n\n    _this.z2 = 2;\n    var text = new graphic.Text();\n\n    _this.setTextContent(text);\n\n    _this.updateData(data, idx, startAngle, true);\n\n    return _this;\n  }\n\n  PiePiece.prototype.updateData = function (data, idx, startAngle, firstCreate) {\n    var sector = this;\n    var seriesModel = data.hostModel;\n    var itemModel = data.getItemModel(idx);\n    var emphasisModel = itemModel.getModel('emphasis');\n    var layout = data.getItemLayout(idx);\n    var sectorShape = extend(getSectorCornerRadius(itemModel.getModel('itemStyle'), layout) || {}, layout); // Ignore NaN data.\n\n    if (isNaN(sectorShape.startAngle)) {\n      // Use NaN shape to avoid drawing shape.\n      sector.setShape(sectorShape);\n      return;\n    }\n\n    if (firstCreate) {\n      sector.setShape(sectorShape);\n      var animationType = seriesModel.getShallow('animationType');\n\n      if (animationType === 'scale') {\n        sector.shape.r = layout.r0;\n        graphic.initProps(sector, {\n          shape: {\n            r: layout.r\n          }\n        }, seriesModel, idx);\n      } // Expansion\n      else {\n          if (startAngle != null) {\n            sector.setShape({\n              startAngle: startAngle,\n              endAngle: startAngle\n            });\n            graphic.initProps(sector, {\n              shape: {\n                startAngle: layout.startAngle,\n                endAngle: layout.endAngle\n              }\n            }, seriesModel, idx);\n          } else {\n            sector.shape.endAngle = layout.startAngle;\n            graphic.updateProps(sector, {\n              shape: {\n                endAngle: layout.endAngle\n              }\n            }, seriesModel, idx);\n          }\n        }\n    } else {\n      // Transition animation from the old shape\n      graphic.updateProps(sector, {\n        shape: sectorShape\n      }, seriesModel, idx);\n    }\n\n    sector.useStyle(data.getItemVisual(idx, 'style'));\n    setStatesStylesFromModel(sector, itemModel);\n    var midAngle = (layout.startAngle + layout.endAngle) / 2;\n    var offset = seriesModel.get('selectedOffset');\n    var dx = Math.cos(midAngle) * offset;\n    var dy = Math.sin(midAngle) * offset;\n    var cursorStyle = itemModel.getShallow('cursor');\n    cursorStyle && sector.attr('cursor', cursorStyle);\n\n    this._updateLabel(seriesModel, data, idx);\n\n    sector.ensureState('emphasis').shape = __assign({\n      r: layout.r + (emphasisModel.get('scale') ? emphasisModel.get('scaleSize') || 0 : 0)\n    }, getSectorCornerRadius(emphasisModel.getModel('itemStyle'), layout));\n    extend(sector.ensureState('select'), {\n      x: dx,\n      y: dy,\n      shape: getSectorCornerRadius(itemModel.getModel(['select', 'itemStyle']), layout)\n    });\n    extend(sector.ensureState('blur'), {\n      shape: getSectorCornerRadius(itemModel.getModel(['blur', 'itemStyle']), layout)\n    });\n    var labelLine = sector.getTextGuideLine();\n    var labelText = sector.getTextContent();\n    labelLine && extend(labelLine.ensureState('select'), {\n      x: dx,\n      y: dy\n    }); // TODO: needs dx, dy in zrender?\n\n    extend(labelText.ensureState('select'), {\n      x: dx,\n      y: dy\n    });\n    enableHoverEmphasis(this, emphasisModel.get('focus'), emphasisModel.get('blurScope'));\n  };\n\n  PiePiece.prototype._updateLabel = function (seriesModel, data, idx) {\n    var sector = this;\n    var itemModel = data.getItemModel(idx);\n    var labelLineModel = itemModel.getModel('labelLine');\n    var style = data.getItemVisual(idx, 'style');\n    var visualColor = style && style.fill;\n    var visualOpacity = style && style.opacity;\n    setLabelStyle(sector, getLabelStatesModels(itemModel), {\n      labelFetcher: data.hostModel,\n      labelDataIndex: idx,\n      inheritColor: visualColor,\n      defaultOpacity: visualOpacity,\n      defaultText: seriesModel.getFormattedLabel(idx, 'normal') || data.getName(idx)\n    });\n    var labelText = sector.getTextContent(); // Set textConfig on sector.\n\n    sector.setTextConfig({\n      // reset position, rotation\n      position: null,\n      rotation: null\n    }); // Make sure update style on labelText after setLabelStyle.\n    // Because setLabelStyle will replace a new style on it.\n\n    labelText.attr({\n      z2: 10\n    });\n    var labelPosition = seriesModel.get(['label', 'position']);\n\n    if (labelPosition !== 'outside' && labelPosition !== 'outer') {\n      sector.removeTextGuideLine();\n    } else {\n      var polyline = this.getTextGuideLine();\n\n      if (!polyline) {\n        polyline = new graphic.Polyline();\n        this.setTextGuideLine(polyline);\n      } // Default use item visual color\n\n\n      setLabelLineStyle(this, getLabelLineStatesModels(itemModel), {\n        stroke: visualColor,\n        opacity: retrieve3(labelLineModel.get(['lineStyle', 'opacity']), visualOpacity, 1)\n      });\n    }\n  };\n\n  return PiePiece;\n}(graphic.Sector); // Pie view\n\n\nvar PieView =\n/** @class */\nfunction (_super) {\n  __extends(PieView, _super);\n\n  function PieView() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n\n    _this.ignoreLabelLineUpdate = true;\n    return _this;\n  }\n\n  PieView.prototype.init = function () {\n    var sectorGroup = new graphic.Group();\n    this._sectorGroup = sectorGroup;\n  };\n\n  PieView.prototype.render = function (seriesModel, ecModel, api, payload) {\n    var data = seriesModel.getData();\n    var oldData = this._data;\n    var group = this.group;\n    var startAngle; // First render\n\n    if (!oldData && data.count() > 0) {\n      var shape = data.getItemLayout(0);\n\n      for (var s = 1; isNaN(shape && shape.startAngle) && s < data.count(); ++s) {\n        shape = data.getItemLayout(s);\n      }\n\n      if (shape) {\n        startAngle = shape.startAngle;\n      }\n    }\n\n    data.diff(oldData).add(function (idx) {\n      var piePiece = new PiePiece(data, idx, startAngle);\n      data.setItemGraphicEl(idx, piePiece);\n      group.add(piePiece);\n    }).update(function (newIdx, oldIdx) {\n      var piePiece = oldData.getItemGraphicEl(oldIdx);\n      piePiece.updateData(data, newIdx, startAngle);\n      piePiece.off('click');\n      group.add(piePiece);\n      data.setItemGraphicEl(newIdx, piePiece);\n    }).remove(function (idx) {\n      var piePiece = oldData.getItemGraphicEl(idx);\n      graphic.removeElementWithFadeOut(piePiece, seriesModel, idx);\n    }).execute();\n    labelLayout(seriesModel); // Always use initial animation.\n\n    if (seriesModel.get('animationTypeUpdate') !== 'expansion') {\n      this._data = data;\n    }\n  };\n\n  PieView.prototype.dispose = function () {};\n\n  PieView.prototype.containPoint = function (point, seriesModel) {\n    var data = seriesModel.getData();\n    var itemLayout = data.getItemLayout(0);\n\n    if (itemLayout) {\n      var dx = point[0] - itemLayout.cx;\n      var dy = point[1] - itemLayout.cy;\n      var radius = Math.sqrt(dx * dx + dy * dy);\n      return radius <= itemLayout.r && radius >= itemLayout.r0;\n    }\n  };\n\n  PieView.type = 'pie';\n  return PieView;\n}(ChartView);\n\nexport default PieView;", "\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport createDimensions from '../../data/helper/createDimensions';\nimport List from '../../data/List';\nimport { extend, isArray } from 'zrender/lib/core/util';\n/**\n * [Usage]:\n * (1)\n * createListSimply(seriesModel, ['value']);\n * (2)\n * createListSimply(seriesModel, {\n *     coordDimensions: ['value'],\n *     dimensionsCount: 5\n * });\n */\n\nexport default function createListSimply(seriesModel, opt, nameList) {\n  opt = isArray(opt) && {\n    coordDimensions: opt\n  } || extend({}, opt);\n  var source = seriesModel.getSource();\n  var dimensionsInfo = createDimensions(source, opt);\n  var list = new List(dimensionsInfo, seriesModel);\n  list.initData(source, nameList);\n  return list;\n}", "\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n/**\n * LegendVisualProvider is an bridge that pick encoded color from data and\n * provide to the legend component.\n */\nvar LegendVisualProvider =\n/** @class */\nfunction () {\n  function LegendVisualProvider( // Function to get data after filtered. It stores all the encoding info\n  getDataWithEncodedVisual, // Function to get raw data before filtered.\n  getRawData) {\n    this._getDataWithEncodedVisual = getDataWithEncodedVisual;\n    this._getRawData = getRawData;\n  }\n\n  LegendVisualProvider.prototype.getAllNames = function () {\n    var rawData = this._getRawData(); // We find the name from the raw data. In case it's filtered by the legend component.\n    // Normally, the name can be found in rawData, but can't be found in filtered data will display as gray.\n\n\n    return rawData.mapArray(rawData.getName);\n  };\n\n  LegendVisualProvider.prototype.containName = function (name) {\n    var rawData = this._getRawData();\n\n    return rawData.indexOfName(name) >= 0;\n  };\n\n  LegendVisualProvider.prototype.indexOfName = function (name) {\n    // Only get data when necessary.\n    // Because LegendVisualProvider constructor may be new in the stage that data is not prepared yet.\n    // Invoking Series#getData immediately will throw an error.\n    var dataWithEncodedVisual = this._getDataWithEncodedVisual();\n\n    return dataWithEncodedVisual.indexOfName(name);\n  };\n\n  LegendVisualProvider.prototype.getItemVisual = function (dataIndex, key) {\n    // Get encoded visual properties from final filtered data.\n    var dataWithEncodedVisual = this._getDataWithEncodedVisual();\n\n    return dataWithEncodedVisual.getItemVisual(dataIndex, key);\n  };\n\n  return LegendVisualProvider;\n}();\n\nexport default LegendVisualProvider;", "\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { __extends } from \"tslib\";\nimport createListSimply from '../helper/createListSimply';\nimport * as zrUtil from 'zrender/lib/core/util';\nimport * as modelUtil from '../../util/model';\nimport { getPercentWithPrecision } from '../../util/number';\nimport { makeSeriesEncodeForNameBased } from '../../data/helper/sourceHelper';\nimport LegendVisualProvider from '../../visual/LegendVisualProvider';\nimport SeriesModel from '../../model/Series';\n\nvar PieSeriesModel =\n/** @class */\nfunction (_super) {\n  __extends(PieSeriesModel, _super);\n\n  function PieSeriesModel() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n\n    _this.useColorPaletteOnData = true;\n    return _this;\n  }\n  /**\n   * @overwrite\n   */\n\n\n  PieSeriesModel.prototype.init = function (option) {\n    _super.prototype.init.apply(this, arguments); // Enable legend selection for each data item\n    // Use a function instead of direct access because data reference may changed\n\n\n    this.legendVisualProvider = new LegendVisualProvider(zrUtil.bind(this.getData, this), zrUtil.bind(this.getRawData, this));\n\n    this._defaultLabelLine(option);\n  };\n  /**\n   * @overwrite\n   */\n\n\n  PieSeriesModel.prototype.mergeOption = function () {\n    _super.prototype.mergeOption.apply(this, arguments);\n  };\n  /**\n   * @overwrite\n   */\n\n\n  PieSeriesModel.prototype.getInitialData = function () {\n    return createListSimply(this, {\n      coordDimensions: ['value'],\n      encodeDefaulter: zrUtil.curry(makeSeriesEncodeForNameBased, this)\n    });\n  };\n  /**\n   * @overwrite\n   */\n\n\n  PieSeriesModel.prototype.getDataParams = function (dataIndex) {\n    var data = this.getData();\n\n    var params = _super.prototype.getDataParams.call(this, dataIndex); // FIXME toFixed?\n\n\n    var valueList = [];\n    data.each(data.mapDimension('value'), function (value) {\n      valueList.push(value);\n    });\n    params.percent = getPercentWithPrecision(valueList, dataIndex, data.hostModel.get('percentPrecision'));\n    params.$vars.push('percent');\n    return params;\n  };\n\n  PieSeriesModel.prototype._defaultLabelLine = function (option) {\n    // Extend labelLine emphasis\n    modelUtil.defaultEmphasis(option, 'labelLine', ['show']);\n    var labelLineNormalOpt = option.labelLine;\n    var labelLineEmphasisOpt = option.emphasis.labelLine; // Not show label line if `label.normal.show = false`\n\n    labelLineNormalOpt.show = labelLineNormalOpt.show && option.label.show;\n    labelLineEmphasisOpt.show = labelLineEmphasisOpt.show && option.emphasis.label.show;\n  };\n\n  PieSeriesModel.type = 'series.pie';\n  PieSeriesModel.defaultOption = {\n    zlevel: 0,\n    z: 2,\n    legendHoverLink: true,\n    // \u9ED8\u8BA4\u5168\u5C40\u5C45\u4E2D\n    center: ['50%', '50%'],\n    radius: [0, '75%'],\n    // \u9ED8\u8BA4\u987A\u65F6\u9488\n    clockwise: true,\n    startAngle: 90,\n    // \u6700\u5C0F\u89D2\u5EA6\u6539\u4E3A0\n    minAngle: 0,\n    // If the angle of a sector less than `minShowLabelAngle`,\n    // the label will not be displayed.\n    minShowLabelAngle: 0,\n    // \u9009\u4E2D\u65F6\u6247\u533A\u504F\u79FB\u91CF\n    selectedOffset: 10,\n    // \u9009\u62E9\u6A21\u5F0F\uFF0C\u9ED8\u8BA4\u5173\u95ED\uFF0C\u53EF\u9009single\uFF0Cmultiple\n    // selectedMode: false,\n    // \u5357\u4E01\u683C\u5C14\u73AB\u7470\u56FE\u6A21\u5F0F\uFF0C'radius'\uFF08\u534A\u5F84\uFF09 | 'area'\uFF08\u9762\u79EF\uFF09\n    // roseType: null,\n    percentPrecision: 2,\n    // If still show when all data zero.\n    stillShowZeroSum: true,\n    // cursor: null,\n    left: 0,\n    top: 0,\n    right: 0,\n    bottom: 0,\n    width: null,\n    height: null,\n    label: {\n      // color: 'inherit',\n      // If rotate around circle\n      rotate: 0,\n      show: true,\n      overflow: 'truncate',\n      // 'outer', 'inside', 'center'\n      position: 'outer',\n      // 'none', 'labelLine', 'edge'. Works only when position is 'outer'\n      alignTo: 'none',\n      // Closest distance between label and chart edge.\n      // Works only position is 'outer' and alignTo is 'edge'.\n      edgeDistance: '25%',\n      // Works only position is 'outer' and alignTo is not 'edge'.\n      bleedMargin: 10,\n      // Distance between text and label line.\n      distanceToLabelLine: 5 // formatter: \u6807\u7B7E\u6587\u672C\u683C\u5F0F\u5668\uFF0C\u540CTooltip.formatter\uFF0C\u4E0D\u652F\u6301\u5F02\u6B65\u56DE\u8C03\n      // \u9ED8\u8BA4\u4F7F\u7528\u5168\u5C40\u6587\u672C\u6837\u5F0F\uFF0C\u8BE6\u89C1TEXTSTYLE\n      // distance: \u5F53position\u4E3Ainner\u65F6\u6709\u6548\uFF0C\u4E3Alabel\u4F4D\u7F6E\u5230\u5706\u5FC3\u7684\u8DDD\u79BB\u4E0E\u5706\u534A\u5F84(\u73AF\u72B6\u56FE\u4E3A\u5185\u5916\u534A\u5F84\u548C)\u7684\u6BD4\u4F8B\u7CFB\u6570\n\n    },\n    // Enabled when label.normal.position is 'outer'\n    labelLine: {\n      show: true,\n      // \u5F15\u5BFC\u7EBF\u4E24\u6BB5\u4E2D\u7684\u7B2C\u4E00\u6BB5\u957F\u5EA6\n      length: 15,\n      // \u5F15\u5BFC\u7EBF\u4E24\u6BB5\u4E2D\u7684\u7B2C\u4E8C\u6BB5\u957F\u5EA6\n      length2: 15,\n      smooth: false,\n      minTurnAngle: 90,\n      maxSurfaceAngle: 90,\n      lineStyle: {\n        // color: \u5404\u5F02,\n        width: 1,\n        type: 'solid'\n      }\n    },\n    itemStyle: {\n      borderWidth: 1\n    },\n    labelLayout: {\n      // Hide the overlapped label.\n      hideOverlap: true\n    },\n    emphasis: {\n      scale: true,\n      scaleSize: 5\n    },\n    // If use strategy to avoid label overlapping\n    avoidLabelOverlap: true,\n    // Animation type. Valid values: expansion, scale\n    animationType: 'expansion',\n    animationDuration: 1000,\n    // Animation type when update. Valid values: transition, expansion\n    animationTypeUpdate: 'transition',\n    animationEasingUpdate: 'cubicInOut',\n    animationDurationUpdate: 500,\n    animationEasing: 'cubicInOut'\n  };\n  return PieSeriesModel;\n}(SeriesModel);\n\nexport default PieSeriesModel;", "\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { createLegacyDataSelectAction } from '../../legacy/dataSelectAction';\nimport pieLayout from '../pie/pieLayout';\nimport dataFilter from '../../processor/dataFilter';\nimport { curry } from 'zrender/lib/core/util';\nimport PieView from './PieView';\nimport PieSeriesModel from './PieSeries';\nexport function install(registers) {\n  registers.registerChartView(PieView);\n  registers.registerSeriesModel(PieSeriesModel);\n  createLegacyDataSelectAction('pie', registers.registerAction);\n  registers.registerLayout(curry(pieLayout, 'pie'));\n  registers.registerProcessor(dataFilter('pie'));\n}", "\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { __extends } from \"tslib\";\nimport createListFromArray from '../helper/createListFromArray';\nimport SeriesModel from '../../model/Series';\n\nvar ScatterSeriesModel =\n/** @class */\nfunction (_super) {\n  __extends(ScatterSeriesModel, _super);\n\n  function ScatterSeriesModel() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n\n    _this.type = ScatterSeriesModel.type;\n    _this.hasSymbolVisual = true;\n    return _this;\n  }\n\n  ScatterSeriesModel.prototype.getInitialData = function (option, ecModel) {\n    return createListFromArray(this.getSource(), this, {\n      useEncodeDefaulter: true\n    });\n  };\n\n  ScatterSeriesModel.prototype.getProgressive = function () {\n    var progressive = this.option.progressive;\n\n    if (progressive == null) {\n      // PENDING\n      return this.option.large ? 5e3 : this.get('progressive');\n    }\n\n    return progressive;\n  };\n\n  ScatterSeriesModel.prototype.getProgressiveThreshold = function () {\n    var progressiveThreshold = this.option.progressiveThreshold;\n\n    if (progressiveThreshold == null) {\n      // PENDING\n      return this.option.large ? 1e4 : this.get('progressiveThreshold');\n    }\n\n    return progressiveThreshold;\n  };\n\n  ScatterSeriesModel.prototype.brushSelector = function (dataIndex, data, selectors) {\n    return selectors.point(data.getItemLayout(dataIndex));\n  };\n\n  ScatterSeriesModel.type = 'series.scatter';\n  ScatterSeriesModel.dependencies = ['grid', 'polar', 'geo', 'singleAxis', 'calendar'];\n  ScatterSeriesModel.defaultOption = {\n    coordinateSystem: 'cartesian2d',\n    zlevel: 0,\n    z: 2,\n    legendHoverLink: true,\n    symbolSize: 10,\n    // symbolRotate: null,  // \u56FE\u5F62\u65CB\u8F6C\u63A7\u5236\n    large: false,\n    // Available when large is true\n    largeThreshold: 2000,\n    // cursor: null,\n    itemStyle: {\n      opacity: 0.8 // color: \u5404\u5F02\n\n    },\n    emphasis: {\n      scale: true\n    },\n    // If clip the overflow graphics\n    // Works on cartesian / polar series\n    clip: true,\n    select: {\n      itemStyle: {\n        borderColor: '#212121'\n      }\n    } // progressive: null\n\n  };\n  return ScatterSeriesModel;\n}(SeriesModel);\n\nexport default ScatterSeriesModel;", "\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { __extends } from \"tslib\";\n/* global Float32Array */\n// TODO Batch by color\n\nimport * as graphic from '../../util/graphic';\nimport { createSymbol } from '../../util/symbol';\nimport IncrementalDisplayable from 'zrender/lib/graphic/IncrementalDisplayable';\nimport { getECData } from '../../util/innerStore';\nvar BOOST_SIZE_THRESHOLD = 4;\n\nvar LargeSymbolPathShape =\n/** @class */\nfunction () {\n  function LargeSymbolPathShape() {}\n\n  return LargeSymbolPathShape;\n}();\n\nvar LargeSymbolPath =\n/** @class */\nfunction (_super) {\n  __extends(LargeSymbolPath, _super);\n\n  function LargeSymbolPath(opts) {\n    return _super.call(this, opts) || this;\n  }\n\n  LargeSymbolPath.prototype.getDefaultShape = function () {\n    return new LargeSymbolPathShape();\n  };\n\n  LargeSymbolPath.prototype.buildPath = function (path, shape) {\n    var points = shape.points;\n    var size = shape.size;\n    var symbolProxy = this.symbolProxy;\n    var symbolProxyShape = symbolProxy.shape;\n    var ctx = path.getContext ? path.getContext() : path;\n    var canBoost = ctx && size[0] < BOOST_SIZE_THRESHOLD; // Do draw in afterBrush.\n\n    if (canBoost) {\n      this._ctx = ctx;\n      return;\n    }\n\n    this._ctx = null;\n\n    for (var i = 0; i < points.length;) {\n      var x = points[i++];\n      var y = points[i++];\n\n      if (isNaN(x) || isNaN(y)) {\n        continue;\n      }\n\n      if (this.softClipShape && !this.softClipShape.contain(x, y)) {\n        continue;\n      }\n\n      symbolProxyShape.x = x - size[0] / 2;\n      symbolProxyShape.y = y - size[1] / 2;\n      symbolProxyShape.width = size[0];\n      symbolProxyShape.height = size[1];\n      symbolProxy.buildPath(path, symbolProxyShape, true);\n    }\n  };\n\n  LargeSymbolPath.prototype.afterBrush = function () {\n    var shape = this.shape;\n    var points = shape.points;\n    var size = shape.size;\n    var ctx = this._ctx;\n\n    if (!ctx) {\n      return;\n    } // PENDING If style or other canvas status changed?\n\n\n    for (var i = 0; i < points.length;) {\n      var x = points[i++];\n      var y = points[i++];\n\n      if (isNaN(x) || isNaN(y)) {\n        continue;\n      }\n\n      if (this.softClipShape && !this.softClipShape.contain(x, y)) {\n        continue;\n      } // fillRect is faster than building a rect path and draw.\n      // And it support light globalCompositeOperation.\n\n\n      ctx.fillRect(x - size[0] / 2, y - size[1] / 2, size[0], size[1]);\n    }\n  };\n\n  LargeSymbolPath.prototype.findDataIndex = function (x, y) {\n    // TODO ???\n    // Consider transform\n    var shape = this.shape;\n    var points = shape.points;\n    var size = shape.size;\n    var w = Math.max(size[0], 4);\n    var h = Math.max(size[1], 4); // Not consider transform\n    // Treat each element as a rect\n    // top down traverse\n\n    for (var idx = points.length / 2 - 1; idx >= 0; idx--) {\n      var i = idx * 2;\n      var x0 = points[i] - w / 2;\n      var y0 = points[i + 1] - h / 2;\n\n      if (x >= x0 && y >= y0 && x <= x0 + w && y <= y0 + h) {\n        return idx;\n      }\n    }\n\n    return -1;\n  };\n\n  return LargeSymbolPath;\n}(graphic.Path);\n\nvar LargeSymbolDraw =\n/** @class */\nfunction () {\n  function LargeSymbolDraw() {\n    this.group = new graphic.Group();\n  }\n\n  LargeSymbolDraw.prototype.isPersistent = function () {\n    return !this._incremental;\n  };\n\n  ;\n  /**\n   * Update symbols draw by new data\n   */\n\n  LargeSymbolDraw.prototype.updateData = function (data, opt) {\n    this.group.removeAll();\n    var symbolEl = new LargeSymbolPath({\n      rectHover: true,\n      cursor: 'default'\n    });\n    symbolEl.setShape({\n      points: data.getLayout('points')\n    });\n\n    this._setCommon(symbolEl, data, false, opt);\n\n    this.group.add(symbolEl);\n    this._incremental = null;\n  };\n\n  LargeSymbolDraw.prototype.updateLayout = function (data) {\n    if (this._incremental) {\n      return;\n    }\n\n    var points = data.getLayout('points');\n    this.group.eachChild(function (child) {\n      if (child.startIndex != null) {\n        var len = (child.endIndex - child.startIndex) * 2;\n        var byteOffset = child.startIndex * 4 * 2;\n        points = new Float32Array(points.buffer, byteOffset, len);\n      }\n\n      child.setShape('points', points);\n    });\n  };\n\n  LargeSymbolDraw.prototype.incrementalPrepareUpdate = function (data) {\n    this.group.removeAll();\n\n    this._clearIncremental(); // Only use incremental displayables when data amount is larger than 2 million.\n    // PENDING Incremental data?\n\n\n    if (data.count() > 2e6) {\n      if (!this._incremental) {\n        this._incremental = new IncrementalDisplayable({\n          silent: true\n        });\n      }\n\n      this.group.add(this._incremental);\n    } else {\n      this._incremental = null;\n    }\n  };\n\n  LargeSymbolDraw.prototype.incrementalUpdate = function (taskParams, data, opt) {\n    var symbolEl;\n\n    if (this._incremental) {\n      symbolEl = new LargeSymbolPath();\n\n      this._incremental.addDisplayable(symbolEl, true);\n    } else {\n      symbolEl = new LargeSymbolPath({\n        rectHover: true,\n        cursor: 'default',\n        startIndex: taskParams.start,\n        endIndex: taskParams.end\n      });\n      symbolEl.incremental = true;\n      this.group.add(symbolEl);\n    }\n\n    symbolEl.setShape({\n      points: data.getLayout('points')\n    });\n\n    this._setCommon(symbolEl, data, !!this._incremental, opt);\n  };\n\n  LargeSymbolDraw.prototype._setCommon = function (symbolEl, data, isIncremental, opt) {\n    var hostModel = data.hostModel;\n    opt = opt || {};\n    var size = data.getVisual('symbolSize');\n    symbolEl.setShape('size', size instanceof Array ? size : [size, size]);\n    symbolEl.softClipShape = opt.clipShape || null; // Create symbolProxy to build path for each data\n\n    symbolEl.symbolProxy = createSymbol(data.getVisual('symbol'), 0, 0, 0, 0); // Use symbolProxy setColor method\n\n    symbolEl.setColor = symbolEl.symbolProxy.setColor;\n    var extrudeShadow = symbolEl.shape.size[0] < BOOST_SIZE_THRESHOLD;\n    symbolEl.useStyle( // Draw shadow when doing fillRect is extremely slow.\n    hostModel.getModel('itemStyle').getItemStyle(extrudeShadow ? ['color', 'shadowBlur', 'shadowColor'] : ['color']));\n    var globalStyle = data.getVisual('style');\n    var visualColor = globalStyle && globalStyle.fill;\n\n    if (visualColor) {\n      symbolEl.setColor(visualColor);\n    }\n\n    if (!isIncremental) {\n      var ecData_1 = getECData(symbolEl); // Enable tooltip\n      // PENDING May have performance issue when path is extremely large\n\n      ecData_1.seriesIndex = hostModel.seriesIndex;\n      symbolEl.on('mousemove', function (e) {\n        ecData_1.dataIndex = null;\n        var dataIndex = symbolEl.findDataIndex(e.offsetX, e.offsetY);\n\n        if (dataIndex >= 0) {\n          // Provide dataIndex for tooltip\n          ecData_1.dataIndex = dataIndex + (symbolEl.startIndex || 0);\n        }\n      });\n    }\n  };\n\n  LargeSymbolDraw.prototype.remove = function () {\n    this._clearIncremental();\n\n    this._incremental = null;\n    this.group.removeAll();\n  };\n\n  LargeSymbolDraw.prototype._clearIncremental = function () {\n    var incremental = this._incremental;\n\n    if (incremental) {\n      incremental.clearDisplaybles();\n    }\n  };\n\n  return LargeSymbolDraw;\n}();\n\nexport default LargeSymbolDraw;", "\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { __extends } from \"tslib\";\nimport SymbolDraw from '../helper/SymbolDraw';\nimport LargeSymbolDraw from '../helper/LargeSymbolDraw';\nimport pointsLayout from '../../layout/points';\nimport ChartView from '../../view/Chart';\n\nvar ScatterView =\n/** @class */\nfunction (_super) {\n  __extends(ScatterView, _super);\n\n  function ScatterView() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n\n    _this.type = ScatterView.type;\n    return _this;\n  }\n\n  ScatterView.prototype.render = function (seriesModel, ecModel, api) {\n    var data = seriesModel.getData();\n\n    var symbolDraw = this._updateSymbolDraw(data, seriesModel);\n\n    symbolDraw.updateData(data, {\n      // TODO\n      // If this parameter should be a shape or a bounding volume\n      // shape will be more general.\n      // But bounding volume like bounding rect will be much faster in the contain calculation\n      clipShape: this._getClipShape(seriesModel)\n    });\n    this._finished = true;\n  };\n\n  ScatterView.prototype.incrementalPrepareRender = function (seriesModel, ecModel, api) {\n    var data = seriesModel.getData();\n\n    var symbolDraw = this._updateSymbolDraw(data, seriesModel);\n\n    symbolDraw.incrementalPrepareUpdate(data);\n    this._finished = false;\n  };\n\n  ScatterView.prototype.incrementalRender = function (taskParams, seriesModel, ecModel) {\n    this._symbolDraw.incrementalUpdate(taskParams, seriesModel.getData(), {\n      clipShape: this._getClipShape(seriesModel)\n    });\n\n    this._finished = taskParams.end === seriesModel.getData().count();\n  };\n\n  ScatterView.prototype.updateTransform = function (seriesModel, ecModel, api) {\n    var data = seriesModel.getData(); // Must mark group dirty and make sure the incremental layer will be cleared\n    // PENDING\n\n    this.group.dirty();\n\n    if (!this._finished || data.count() > 1e4 || !this._symbolDraw.isPersistent()) {\n      return {\n        update: true\n      };\n    } else {\n      var res = pointsLayout('').reset(seriesModel, ecModel, api);\n\n      if (res.progress) {\n        res.progress({\n          start: 0,\n          end: data.count(),\n          count: data.count()\n        }, data);\n      }\n\n      this._symbolDraw.updateLayout(data);\n    }\n  };\n\n  ScatterView.prototype._getClipShape = function (seriesModel) {\n    var coordSys = seriesModel.coordinateSystem;\n    var clipArea = coordSys && coordSys.getArea && coordSys.getArea();\n    return seriesModel.get('clip', true) ? clipArea : null;\n  };\n\n  ScatterView.prototype._updateSymbolDraw = function (data, seriesModel) {\n    var symbolDraw = this._symbolDraw;\n    var pipelineContext = seriesModel.pipelineContext;\n    var isLargeDraw = pipelineContext.large;\n\n    if (!symbolDraw || isLargeDraw !== this._isLargeDraw) {\n      symbolDraw && symbolDraw.remove();\n      symbolDraw = this._symbolDraw = isLargeDraw ? new LargeSymbolDraw() : new SymbolDraw();\n      this._isLargeDraw = isLargeDraw;\n      this.group.removeAll();\n    }\n\n    this.group.add(symbolDraw.group);\n    return symbolDraw;\n  };\n\n  ScatterView.prototype.remove = function (ecModel, api) {\n    this._symbolDraw && this._symbolDraw.remove(true);\n    this._symbolDraw = null;\n  };\n\n  ScatterView.prototype.dispose = function () {};\n\n  ScatterView.type = 'scatter';\n  return ScatterView;\n}(ChartView);\n\nexport default ScatterView;", "\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { use } from '../../extension';\nimport ScatterSeriesModel from './ScatterSeries';\nimport ScatterView from './ScatterView';\nimport { install as installGridSimple } from '../../component/grid/installSimple';\nimport layoutPoints from '../../layout/points';\nexport function install(registers) {\n  // In case developer forget to include grid component\n  use(installGridSimple);\n  registers.registerSeriesModel(ScatterSeriesModel);\n  registers.registerChartView(ScatterView);\n  registers.registerLayout(layoutPoints('scatter'));\n}", "\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport * as zrUtil from 'zrender/lib/core/util';\nexport default function radarLayout(ecModel) {\n  ecModel.eachSeriesByType('radar', function (seriesModel) {\n    var data = seriesModel.getData();\n    var points = [];\n    var coordSys = seriesModel.coordinateSystem;\n\n    if (!coordSys) {\n      return;\n    }\n\n    var axes = coordSys.getIndicatorAxes();\n    zrUtil.each(axes, function (axis, axisIndex) {\n      data.each(data.mapDimension(axes[axisIndex].dim), function (val, dataIndex) {\n        points[dataIndex] = points[dataIndex] || [];\n        var point = coordSys.dataToPoint(val, axisIndex);\n        points[dataIndex][axisIndex] = isValidPoint(point) ? point : getValueMissingPoint(coordSys);\n      });\n    }); // Close polygon\n\n    data.each(function (idx) {\n      // TODO\n      // Is it appropriate to connect to the next data when some data is missing?\n      // Or, should trade it like `connectNull` in line chart?\n      var firstPoint = zrUtil.find(points[idx], function (point) {\n        return isValidPoint(point);\n      }) || getValueMissingPoint(coordSys); // Copy the first actual point to the end of the array\n\n      points[idx].push(firstPoint.slice());\n      data.setItemLayout(idx, points[idx]);\n    });\n  });\n}\n\nfunction isValidPoint(point) {\n  return !isNaN(point[0]) && !isNaN(point[1]);\n}\n\nfunction getValueMissingPoint(coordSys) {\n  // It is error-prone to input [NaN, NaN] into polygon, polygon.\n  // (probably cause problem when refreshing or animating)\n  return [coordSys.cx, coordSys.cy];\n}", "\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n// @ts-nocheck\n// Backward compat for radar chart in 2\nimport * as zrUtil from 'zrender/lib/core/util';\nexport default function radarBackwardCompat(option) {\n  var polarOptArr = option.polar;\n\n  if (polarOptArr) {\n    if (!zrUtil.isArray(polarOptArr)) {\n      polarOptArr = [polarOptArr];\n    }\n\n    var polarNotRadar_1 = [];\n    zrUtil.each(polarOptArr, function (polarOpt, idx) {\n      if (polarOpt.indicator) {\n        if (polarOpt.type && !polarOpt.shape) {\n          polarOpt.shape = polarOpt.type;\n        }\n\n        option.radar = option.radar || [];\n\n        if (!zrUtil.isArray(option.radar)) {\n          option.radar = [option.radar];\n        }\n\n        option.radar.push(polarOpt);\n      } else {\n        polarNotRadar_1.push(polarOpt);\n      }\n    });\n    option.polar = polarNotRadar_1;\n  }\n\n  zrUtil.each(option.series, function (seriesOpt) {\n    if (seriesOpt && seriesOpt.type === 'radar' && seriesOpt.polarIndex) {\n      seriesOpt.radarIndex = seriesOpt.polarIndex;\n    }\n  });\n}", "\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { __extends } from \"tslib\";\nimport * as graphic from '../../util/graphic';\nimport { setStatesStylesFromModel, enableHoverEmphasis } from '../../util/states';\nimport * as zrUtil from 'zrender/lib/core/util';\nimport * as symbolUtil from '../../util/symbol';\nimport ChartView from '../../view/Chart';\nimport { setLabelStyle, getLabelStatesModels } from '../../label/labelStyle';\nimport ZRImage from 'zrender/lib/graphic/Image';\n\nfunction normalizeSymbolSize(symbolSize) {\n  if (!zrUtil.isArray(symbolSize)) {\n    symbolSize = [+symbolSize, +symbolSize];\n  }\n\n  return symbolSize;\n}\n\nvar RadarView =\n/** @class */\nfunction (_super) {\n  __extends(RadarView, _super);\n\n  function RadarView() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n\n    _this.type = RadarView.type;\n    return _this;\n  }\n\n  RadarView.prototype.render = function (seriesModel, ecModel, api) {\n    var polar = seriesModel.coordinateSystem;\n    var group = this.group;\n    var data = seriesModel.getData();\n    var oldData = this._data;\n\n    function createSymbol(data, idx) {\n      var symbolType = data.getItemVisual(idx, 'symbol') || 'circle';\n\n      if (symbolType === 'none') {\n        return;\n      }\n\n      var symbolSize = normalizeSymbolSize(data.getItemVisual(idx, 'symbolSize'));\n      var symbolPath = symbolUtil.createSymbol(symbolType, -1, -1, 2, 2);\n      var symbolRotate = data.getItemVisual(idx, 'symbolRotate') || 0;\n      symbolPath.attr({\n        style: {\n          strokeNoScale: true\n        },\n        z2: 100,\n        scaleX: symbolSize[0] / 2,\n        scaleY: symbolSize[1] / 2,\n        rotation: symbolRotate * Math.PI / 180 || 0\n      });\n      return symbolPath;\n    }\n\n    function updateSymbols(oldPoints, newPoints, symbolGroup, data, idx, isInit) {\n      // Simply rerender all\n      symbolGroup.removeAll();\n\n      for (var i = 0; i < newPoints.length - 1; i++) {\n        var symbolPath = createSymbol(data, idx);\n\n        if (symbolPath) {\n          symbolPath.__dimIdx = i;\n\n          if (oldPoints[i]) {\n            symbolPath.setPosition(oldPoints[i]);\n            graphic[isInit ? 'initProps' : 'updateProps'](symbolPath, {\n              x: newPoints[i][0],\n              y: newPoints[i][1]\n            }, seriesModel, idx);\n          } else {\n            symbolPath.setPosition(newPoints[i]);\n          }\n\n          symbolGroup.add(symbolPath);\n        }\n      }\n    }\n\n    function getInitialPoints(points) {\n      return zrUtil.map(points, function (pt) {\n        return [polar.cx, polar.cy];\n      });\n    }\n\n    data.diff(oldData).add(function (idx) {\n      var points = data.getItemLayout(idx);\n\n      if (!points) {\n        return;\n      }\n\n      var polygon = new graphic.Polygon();\n      var polyline = new graphic.Polyline();\n      var target = {\n        shape: {\n          points: points\n        }\n      };\n      polygon.shape.points = getInitialPoints(points);\n      polyline.shape.points = getInitialPoints(points);\n      graphic.initProps(polygon, target, seriesModel, idx);\n      graphic.initProps(polyline, target, seriesModel, idx);\n      var itemGroup = new graphic.Group();\n      var symbolGroup = new graphic.Group();\n      itemGroup.add(polyline);\n      itemGroup.add(polygon);\n      itemGroup.add(symbolGroup);\n      updateSymbols(polyline.shape.points, points, symbolGroup, data, idx, true);\n      data.setItemGraphicEl(idx, itemGroup);\n    }).update(function (newIdx, oldIdx) {\n      var itemGroup = oldData.getItemGraphicEl(oldIdx);\n      var polyline = itemGroup.childAt(0);\n      var polygon = itemGroup.childAt(1);\n      var symbolGroup = itemGroup.childAt(2);\n      var target = {\n        shape: {\n          points: data.getItemLayout(newIdx)\n        }\n      };\n\n      if (!target.shape.points) {\n        return;\n      }\n\n      updateSymbols(polyline.shape.points, target.shape.points, symbolGroup, data, newIdx, false);\n      graphic.updateProps(polyline, target, seriesModel);\n      graphic.updateProps(polygon, target, seriesModel);\n      data.setItemGraphicEl(newIdx, itemGroup);\n    }).remove(function (idx) {\n      group.remove(oldData.getItemGraphicEl(idx));\n    }).execute();\n    data.eachItemGraphicEl(function (itemGroup, idx) {\n      var itemModel = data.getItemModel(idx);\n      var polyline = itemGroup.childAt(0);\n      var polygon = itemGroup.childAt(1);\n      var symbolGroup = itemGroup.childAt(2); // Radar uses the visual encoded from itemStyle.\n\n      var itemStyle = data.getItemVisual(idx, 'style');\n      var color = itemStyle.fill;\n      group.add(itemGroup);\n      polyline.useStyle(zrUtil.defaults(itemModel.getModel('lineStyle').getLineStyle(), {\n        fill: 'none',\n        stroke: color\n      }));\n      setStatesStylesFromModel(polyline, itemModel, 'lineStyle');\n      setStatesStylesFromModel(polygon, itemModel, 'areaStyle');\n      var areaStyleModel = itemModel.getModel('areaStyle');\n      var polygonIgnore = areaStyleModel.isEmpty() && areaStyleModel.parentModel.isEmpty();\n      polygon.ignore = polygonIgnore;\n      zrUtil.each(['emphasis', 'select', 'blur'], function (stateName) {\n        var stateModel = itemModel.getModel([stateName, 'areaStyle']);\n        var stateIgnore = stateModel.isEmpty() && stateModel.parentModel.isEmpty(); // Won't be ignore if normal state is not ignore.\n\n        polygon.ensureState(stateName).ignore = stateIgnore && polygonIgnore;\n      });\n      polygon.useStyle(zrUtil.defaults(areaStyleModel.getAreaStyle(), {\n        fill: color,\n        opacity: 0.7,\n        decal: itemStyle.decal\n      }));\n      var emphasisModel = itemModel.getModel('emphasis');\n      var itemHoverStyle = emphasisModel.getModel('itemStyle').getItemStyle();\n      symbolGroup.eachChild(function (symbolPath) {\n        if (symbolPath instanceof ZRImage) {\n          var pathStyle = symbolPath.style;\n          symbolPath.useStyle(zrUtil.extend({\n            // TODO other properties like x, y ?\n            image: pathStyle.image,\n            x: pathStyle.x,\n            y: pathStyle.y,\n            width: pathStyle.width,\n            height: pathStyle.height\n          }, itemStyle));\n        } else {\n          symbolPath.useStyle(itemStyle);\n          symbolPath.setColor(color);\n        }\n\n        var pathEmphasisState = symbolPath.ensureState('emphasis');\n        pathEmphasisState.style = zrUtil.clone(itemHoverStyle);\n        var defaultText = data.get(data.dimensions[symbolPath.__dimIdx], idx);\n        (defaultText == null || isNaN(defaultText)) && (defaultText = '');\n        setLabelStyle(symbolPath, getLabelStatesModels(itemModel), {\n          labelFetcher: data.hostModel,\n          labelDataIndex: idx,\n          labelDimIndex: symbolPath.__dimIdx,\n          defaultText: defaultText,\n          inheritColor: color,\n          defaultOpacity: itemStyle.opacity\n        });\n      });\n      enableHoverEmphasis(itemGroup, emphasisModel.get('focus'), emphasisModel.get('blurScope'));\n    });\n    this._data = data;\n  };\n\n  RadarView.prototype.remove = function () {\n    this.group.removeAll();\n    this._data = null;\n  };\n\n  RadarView.type = 'radar';\n  return RadarView;\n}(ChartView);\n\nexport default RadarView;", "\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { __extends } from \"tslib\";\nimport SeriesModel from '../../model/Series';\nimport createListSimply from '../helper/createListSimply';\nimport * as zrUtil from 'zrender/lib/core/util';\nimport LegendVisualProvider from '../../visual/LegendVisualProvider';\nimport { createTooltipMarkup, retrieveVisualColorForTooltipMarker } from '../../component/tooltip/tooltipMarkup';\n\nvar RadarSeriesModel =\n/** @class */\nfunction (_super) {\n  __extends(RadarSeriesModel, _super);\n\n  function RadarSeriesModel() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n\n    _this.type = RadarSeriesModel.type;\n    _this.useColorPaletteOnData = true;\n    _this.hasSymbolVisual = true;\n    return _this;\n  } // Overwrite\n\n\n  RadarSeriesModel.prototype.init = function (option) {\n    _super.prototype.init.apply(this, arguments); // Enable legend selection for each data item\n    // Use a function instead of direct access because data reference may changed\n\n\n    this.legendVisualProvider = new LegendVisualProvider(zrUtil.bind(this.getData, this), zrUtil.bind(this.getRawData, this));\n  };\n\n  RadarSeriesModel.prototype.getInitialData = function (option, ecModel) {\n    return createListSimply(this, {\n      generateCoord: 'indicator_',\n      generateCoordCount: Infinity\n    });\n  };\n\n  RadarSeriesModel.prototype.formatTooltip = function (dataIndex, multipleSeries, dataType) {\n    var data = this.getData();\n    var coordSys = this.coordinateSystem;\n    var indicatorAxes = coordSys.getIndicatorAxes();\n    var name = this.getData().getName(dataIndex);\n    var nameToDisplay = name === '' ? this.name : name;\n    var markerColor = retrieveVisualColorForTooltipMarker(this, dataIndex);\n    return createTooltipMarkup('section', {\n      header: nameToDisplay,\n      sortBlocks: true,\n      blocks: zrUtil.map(indicatorAxes, function (axis) {\n        var val = data.get(data.mapDimension(axis.dim), dataIndex);\n        return createTooltipMarkup('nameValue', {\n          markerType: 'subItem',\n          markerColor: markerColor,\n          name: axis.name,\n          value: val,\n          sortParam: val\n        });\n      })\n    });\n  };\n\n  RadarSeriesModel.prototype.getTooltipPosition = function (dataIndex) {\n    if (dataIndex != null) {\n      var data_1 = this.getData();\n      var coordSys = this.coordinateSystem;\n      var values = data_1.getValues(zrUtil.map(coordSys.dimensions, function (dim) {\n        return data_1.mapDimension(dim);\n      }), dataIndex);\n\n      for (var i = 0, len = values.length; i < len; i++) {\n        if (!isNaN(values[i])) {\n          var indicatorAxes = coordSys.getIndicatorAxes();\n          return coordSys.coordToPoint(indicatorAxes[i].dataToCoord(values[i]), i);\n        }\n      }\n    }\n  };\n\n  RadarSeriesModel.type = 'series.radar';\n  RadarSeriesModel.dependencies = ['radar'];\n  RadarSeriesModel.defaultOption = {\n    zlevel: 0,\n    z: 2,\n    coordinateSystem: 'radar',\n    legendHoverLink: true,\n    radarIndex: 0,\n    lineStyle: {\n      width: 2,\n      type: 'solid'\n    },\n    label: {\n      position: 'top'\n    },\n    // areaStyle: {\n    // },\n    // itemStyle: {}\n    symbolSize: 8 // symbolRotate: null\n\n  };\n  return RadarSeriesModel;\n}(SeriesModel);\n\nexport default RadarSeriesModel;", "\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { use } from '../../extension';\nimport radarLayout from '../radar/radarLayout';\nimport dataFilter from '../../processor/dataFilter';\nimport backwardCompat from '../radar/backwardCompat';\nimport RadarView from './RadarView';\nimport RadarSeriesModel from './RadarSeries';\nimport { install as installRadarComponent } from '../../component/radar/install';\nexport function install(registers) {\n  use(installRadarComponent);\n  registers.registerChartView(RadarView);\n  registers.registerSeriesModel(RadarSeriesModel);\n  registers.registerLayout(radarLayout);\n  registers.registerProcessor(dataFilter('radar'));\n  registers.registerPreprocessor(backwardCompat);\n}", "\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { __extends } from \"tslib\";\nimport * as graphic from '../../util/graphic';\nimport MapDraw from '../../component/helper/MapDraw';\nimport ChartView from '../../view/Chart';\nimport { setLabelStyle, getLabelStatesModels } from '../../label/labelStyle';\nimport { setStatesFlag, Z2_EMPHASIS_LIFT } from '../../util/states';\n\nvar MapView =\n/** @class */\nfunction (_super) {\n  __extends(MapView, _super);\n\n  function MapView() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n\n    _this.type = MapView.type;\n    return _this;\n  }\n\n  MapView.prototype.render = function (mapModel, ecModel, api, payload) {\n    // Not render if it is an toggleSelect action from self\n    if (payload && payload.type === 'mapToggleSelect' && payload.from === this.uid) {\n      return;\n    }\n\n    var group = this.group;\n    group.removeAll();\n\n    if (mapModel.getHostGeoModel()) {\n      return;\n    }\n\n    if (this._mapDraw && payload && payload.type === 'geoRoam') {\n      this._mapDraw.resetForLabelLayout();\n    } // Not update map if it is an roam action from self\n\n\n    if (!(payload && payload.type === 'geoRoam' && payload.componentType === 'series' && payload.seriesId === mapModel.id)) {\n      if (mapModel.needsDrawMap) {\n        var mapDraw = this._mapDraw || new MapDraw(api);\n        group.add(mapDraw.group);\n        mapDraw.draw(mapModel, ecModel, api, this, payload);\n        this._mapDraw = mapDraw;\n      } else {\n        // Remove drawed map\n        this._mapDraw && this._mapDraw.remove();\n        this._mapDraw = null;\n      }\n    } else {\n      var mapDraw = this._mapDraw;\n      mapDraw && group.add(mapDraw.group);\n    }\n\n    mapModel.get('showLegendSymbol') && ecModel.getComponent('legend') && this._renderSymbols(mapModel, ecModel, api);\n  };\n\n  MapView.prototype.remove = function () {\n    this._mapDraw && this._mapDraw.remove();\n    this._mapDraw = null;\n    this.group.removeAll();\n  };\n\n  MapView.prototype.dispose = function () {\n    this._mapDraw && this._mapDraw.remove();\n    this._mapDraw = null;\n  };\n\n  MapView.prototype._renderSymbols = function (mapModel, ecModel, api) {\n    var originalData = mapModel.originalData;\n    var group = this.group;\n    originalData.each(originalData.mapDimension('value'), function (value, originalDataIndex) {\n      if (isNaN(value)) {\n        return;\n      }\n\n      var layout = originalData.getItemLayout(originalDataIndex);\n\n      if (!layout || !layout.point) {\n        // Not exists in map\n        return;\n      }\n\n      var point = layout.point;\n      var offset = layout.offset;\n      var circle = new graphic.Circle({\n        style: {\n          // Because the special of map draw.\n          // Which needs statistic of multiple series and draw on one map.\n          // And each series also need a symbol with legend color\n          //\n          // Layout and visual are put one the different data\n          // TODO\n          fill: mapModel.getData().getVisual('style').fill\n        },\n        shape: {\n          cx: point[0] + offset * 9,\n          cy: point[1],\n          r: 3\n        },\n        silent: true,\n        // Do not overlap the first series, on which labels are displayed.\n        z2: 8 + (!offset ? Z2_EMPHASIS_LIFT + 1 : 0)\n      }); // Only the series that has the first value on the same region is in charge of rendering the label.\n      // But consider the case:\n      // series: [\n      //     {id: 'X', type: 'map', map: 'm', {data: [{name: 'A', value: 11}, {name: 'B', {value: 22}]},\n      //     {id: 'Y', type: 'map', map: 'm', {data: [{name: 'A', value: 21}, {name: 'C', {value: 33}]}\n      // ]\n      // The offset `0` of item `A` is at series `X`, but of item `C` is at series `Y`.\n      // For backward compatibility, we follow the rule that render label `A` by the\n      // settings on series `X` but render label `C` by the settings on series `Y`.\n\n      if (!offset) {\n        var fullData = mapModel.mainSeries.getData();\n        var name_1 = originalData.getName(originalDataIndex);\n        var fullIndex_1 = fullData.indexOfName(name_1);\n        var itemModel = originalData.getItemModel(originalDataIndex);\n        var labelModel = itemModel.getModel('label');\n        var regionGroup = fullData.getItemGraphicEl(fullIndex_1); // `getFormattedLabel` needs to use `getData` inside. Here\n        // `mapModel.getData()` is shallow cloned from `mainSeries.getData()`.\n        // FIXME\n        // If this is not the `mainSeries`, the item model (like label formatter)\n        // set on original data item will never get. But it has been working\n        // like that from the begining, and this scenario is rarely encountered.\n        // So it won't be fixed until have to.\n\n        setLabelStyle(circle, getLabelStatesModels(itemModel), {\n          labelFetcher: {\n            getFormattedLabel: function (idx, state) {\n              return mapModel.getFormattedLabel(fullIndex_1, state);\n            }\n          }\n        });\n        circle.disableLabelAnimation = true;\n\n        if (!labelModel.get('position')) {\n          circle.setTextConfig({\n            position: 'bottom'\n          });\n        }\n\n        regionGroup.onHoverStateChange = function (toState) {\n          setStatesFlag(circle, toState);\n        };\n      }\n\n      group.add(circle);\n    });\n  };\n\n  MapView.type = 'map';\n  return MapView;\n}(ChartView);\n\nexport default MapView;", "\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { __extends } from \"tslib\";\nimport * as zrUtil from 'zrender/lib/core/util';\nimport createListSimply from '../helper/createListSimply';\nimport SeriesModel from '../../model/Series';\nimport geoSourceManager from '../../coord/geo/geoSourceManager';\nimport { makeSeriesEncodeForNameBased } from '../../data/helper/sourceHelper';\nimport { createTooltipMarkup } from '../../component/tooltip/tooltipMarkup';\nimport { createSymbol } from '../../util/symbol';\n\nvar MapSeries =\n/** @class */\nfunction (_super) {\n  __extends(MapSeries, _super);\n\n  function MapSeries() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n\n    _this.type = MapSeries.type; // Only first map series of same mapType will drawMap.\n\n    _this.needsDrawMap = false; // Group of all map series with same mapType\n\n    _this.seriesGroup = [];\n\n    _this.getTooltipPosition = function (dataIndex) {\n      if (dataIndex != null) {\n        var name_1 = this.getData().getName(dataIndex);\n        var geo = this.coordinateSystem;\n        var region = geo.getRegion(name_1);\n        return region && geo.dataToPoint(region.getCenter());\n      }\n    };\n\n    return _this;\n  }\n\n  MapSeries.prototype.getInitialData = function (option) {\n    var data = createListSimply(this, {\n      coordDimensions: ['value'],\n      encodeDefaulter: zrUtil.curry(makeSeriesEncodeForNameBased, this)\n    });\n    var dataNameMap = zrUtil.createHashMap();\n    var toAppendNames = [];\n\n    for (var i = 0, len = data.count(); i < len; i++) {\n      var name_2 = data.getName(i);\n      dataNameMap.set(name_2, true);\n    }\n\n    var geoSource = geoSourceManager.load(this.getMapType(), this.option.nameMap, this.option.nameProperty);\n    zrUtil.each(geoSource.regions, function (region) {\n      var name = region.name;\n\n      if (!dataNameMap.get(name)) {\n        toAppendNames.push(name);\n      }\n    }); // Complete data with missing regions. The consequent processes (like visual\n    // map and render) can not be performed without a \"full data\". For example,\n    // find `dataIndex` by name.\n\n    data.appendValues([], toAppendNames);\n    return data;\n  };\n  /**\n   * If no host geo model, return null, which means using a\n   * inner exclusive geo model.\n   */\n\n\n  MapSeries.prototype.getHostGeoModel = function () {\n    var geoIndex = this.option.geoIndex;\n    return geoIndex != null ? this.ecModel.getComponent('geo', geoIndex) : null;\n  };\n\n  MapSeries.prototype.getMapType = function () {\n    return (this.getHostGeoModel() || this).option.map;\n  }; // _fillOption(option, mapName) {\n  // Shallow clone\n  // option = zrUtil.extend({}, option);\n  // option.data = geoCreator.getFilledRegions(option.data, mapName, option.nameMap);\n  // return option;\n  // }\n\n\n  MapSeries.prototype.getRawValue = function (dataIndex) {\n    // Use value stored in data instead because it is calculated from multiple series\n    // FIXME Provide all value of multiple series ?\n    var data = this.getData();\n    return data.get(data.mapDimension('value'), dataIndex);\n  };\n  /**\n   * Get model of region\n   */\n\n\n  MapSeries.prototype.getRegionModel = function (regionName) {\n    var data = this.getData();\n    return data.getItemModel(data.indexOfName(regionName));\n  };\n  /**\n   * Map tooltip formatter\n   */\n\n\n  MapSeries.prototype.formatTooltip = function (dataIndex, multipleSeries, dataType) {\n    // FIXME orignalData and data is a bit confusing\n    var data = this.getData();\n    var value = this.getRawValue(dataIndex);\n    var name = data.getName(dataIndex);\n    var seriesGroup = this.seriesGroup;\n    var seriesNames = [];\n\n    for (var i = 0; i < seriesGroup.length; i++) {\n      var otherIndex = seriesGroup[i].originalData.indexOfName(name);\n      var valueDim = data.mapDimension('value');\n\n      if (!isNaN(seriesGroup[i].originalData.get(valueDim, otherIndex))) {\n        seriesNames.push(seriesGroup[i].name);\n      }\n    }\n\n    return createTooltipMarkup('section', {\n      header: seriesNames.join(', '),\n      noHeader: !seriesNames.length,\n      blocks: [createTooltipMarkup('nameValue', {\n        name: name,\n        value: value\n      })]\n    });\n  };\n\n  MapSeries.prototype.setZoom = function (zoom) {\n    this.option.zoom = zoom;\n  };\n\n  MapSeries.prototype.setCenter = function (center) {\n    this.option.center = center;\n  };\n\n  MapSeries.prototype.getLegendIcon = function (opt) {\n    var iconType = opt.icon || 'roundRect';\n    var icon = createSymbol(iconType, 0, 0, opt.itemWidth, opt.itemHeight, opt.itemStyle.fill);\n    icon.setStyle(opt.itemStyle); // Map do not use itemStyle.borderWidth as border width\n\n    icon.style.stroke = 'none'; // No rotation because no series visual symbol for map\n\n    if (iconType.indexOf('empty') > -1) {\n      icon.style.stroke = icon.style.fill;\n      icon.style.fill = '#fff';\n      icon.style.lineWidth = 2;\n    }\n\n    return icon;\n  };\n\n  MapSeries.type = 'series.map';\n  MapSeries.dependencies = ['geo'];\n  MapSeries.layoutMode = 'box';\n  MapSeries.defaultOption = {\n    // \u4E00\u7EA7\u5C42\u53E0\n    zlevel: 0,\n    // \u4E8C\u7EA7\u5C42\u53E0\n    z: 2,\n    coordinateSystem: 'geo',\n    // map should be explicitly specified since ec3.\n    map: '',\n    // If `geoIndex` is not specified, a exclusive geo will be\n    // created. Otherwise use the specified geo component, and\n    // `map` and `mapType` are ignored.\n    // geoIndex: 0,\n    // 'center' | 'left' | 'right' | 'x%' | {number}\n    left: 'center',\n    // 'center' | 'top' | 'bottom' | 'x%' | {number}\n    top: 'center',\n    // right\n    // bottom\n    // width:\n    // height\n    // Aspect is width / height. Inited to be geoJson bbox aspect\n    // This parameter is used for scale this aspect\n    // Default value:\n    // for geoSVG source: 1,\n    // for geoJSON source: 0.75.\n    aspectScale: null,\n    ///// Layout with center and size\n    // If you wan't to put map in a fixed size box with right aspect ratio\n    // This two properties may more conveninet\n    // layoutCenter: [50%, 50%]\n    // layoutSize: 100\n    showLegendSymbol: true,\n    // Define left-top, right-bottom coords to control view\n    // For example, [ [180, 90], [-180, -90] ],\n    // higher priority than center and zoom\n    boundingCoords: null,\n    // Default on center of map\n    center: null,\n    zoom: 1,\n    scaleLimit: null,\n    selectedMode: true,\n    label: {\n      show: false,\n      color: '#000'\n    },\n    // scaleLimit: null,\n    itemStyle: {\n      borderWidth: 0.5,\n      borderColor: '#444',\n      areaColor: '#eee'\n    },\n    emphasis: {\n      label: {\n        show: true,\n        color: 'rgb(100,0,0)'\n      },\n      itemStyle: {\n        areaColor: 'rgba(255,215,0,0.8)'\n      }\n    },\n    select: {\n      label: {\n        show: true,\n        color: 'rgb(100,0,0)'\n      },\n      itemStyle: {\n        color: 'rgba(255,215,0,0.8)'\n      }\n    },\n    nameProperty: 'name'\n  };\n  return MapSeries;\n}(SeriesModel);\n\nexport default MapSeries;", "\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport * as zrUtil from 'zrender/lib/core/util'; // FIXME \u516C\u7528\uFF1F\n\nfunction dataStatistics(datas, statisticType) {\n  var dataNameMap = {};\n  zrUtil.each(datas, function (data) {\n    data.each(data.mapDimension('value'), function (value, idx) {\n      // Add prefix to avoid conflict with Object.prototype.\n      var mapKey = 'ec-' + data.getName(idx);\n      dataNameMap[mapKey] = dataNameMap[mapKey] || [];\n\n      if (!isNaN(value)) {\n        dataNameMap[mapKey].push(value);\n      }\n    });\n  });\n  return datas[0].map(datas[0].mapDimension('value'), function (value, idx) {\n    var mapKey = 'ec-' + datas[0].getName(idx);\n    var sum = 0;\n    var min = Infinity;\n    var max = -Infinity;\n    var len = dataNameMap[mapKey].length;\n\n    for (var i = 0; i < len; i++) {\n      min = Math.min(min, dataNameMap[mapKey][i]);\n      max = Math.max(max, dataNameMap[mapKey][i]);\n      sum += dataNameMap[mapKey][i];\n    }\n\n    var result;\n\n    if (statisticType === 'min') {\n      result = min;\n    } else if (statisticType === 'max') {\n      result = max;\n    } else if (statisticType === 'average') {\n      result = sum / len;\n    } else {\n      result = sum;\n    }\n\n    return len === 0 ? NaN : result;\n  });\n}\n\nexport default function mapDataStatistic(ecModel) {\n  var seriesGroups = {};\n  ecModel.eachSeriesByType('map', function (seriesModel) {\n    var hostGeoModel = seriesModel.getHostGeoModel();\n    var key = hostGeoModel ? 'o' + hostGeoModel.id : 'i' + seriesModel.getMapType();\n    (seriesGroups[key] = seriesGroups[key] || []).push(seriesModel);\n  });\n  zrUtil.each(seriesGroups, function (seriesList, key) {\n    var data = dataStatistics(zrUtil.map(seriesList, function (seriesModel) {\n      return seriesModel.getData();\n    }), seriesList[0].get('mapValueCalculation'));\n\n    for (var i = 0; i < seriesList.length; i++) {\n      seriesList[i].originalData = seriesList[i].getData();\n    } // FIXME Put where?\n\n\n    for (var i = 0; i < seriesList.length; i++) {\n      seriesList[i].seriesGroup = seriesList;\n      seriesList[i].needsDrawMap = i === 0 && !seriesList[i].getHostGeoModel();\n      seriesList[i].setData(data.cloneShallow());\n      seriesList[i].mainSeries = seriesList[0];\n    }\n  });\n}", "\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport * as zrUtil from 'zrender/lib/core/util';\nexport default function mapSymbolLayout(ecModel) {\n  var processedMapType = {};\n  ecModel.eachSeriesByType('map', function (mapSeries) {\n    var mapType = mapSeries.getMapType();\n\n    if (mapSeries.getHostGeoModel() || processedMapType[mapType]) {\n      return;\n    }\n\n    var mapSymbolOffsets = {};\n    zrUtil.each(mapSeries.seriesGroup, function (subMapSeries) {\n      var geo = subMapSeries.coordinateSystem;\n      var data = subMapSeries.originalData;\n\n      if (subMapSeries.get('showLegendSymbol') && ecModel.getComponent('legend')) {\n        data.each(data.mapDimension('value'), function (value, idx) {\n          var name = data.getName(idx);\n          var region = geo.getRegion(name); // If input series.data is [11, 22, '-'/null/undefined, 44],\n          // it will be filled with NaN: [11, 22, NaN, 44] and NaN will\n          // not be drawn. So here must validate if value is NaN.\n\n          if (!region || isNaN(value)) {\n            return;\n          }\n\n          var offset = mapSymbolOffsets[name] || 0;\n          var point = geo.dataToPoint(region.getCenter());\n          mapSymbolOffsets[name] = offset + 1;\n          data.setItemLayout(idx, {\n            point: point,\n            offset: offset\n          });\n        });\n      }\n    }); // Show label of those region not has legendIcon (which is offset 0)\n\n    var data = mapSeries.getData();\n    data.each(function (idx) {\n      var name = data.getName(idx);\n      var layout = data.getItemLayout(idx) || {};\n      layout.showLabel = !mapSymbolOffsets[name];\n      data.setItemLayout(idx, layout);\n    });\n    processedMapType[mapType] = true;\n  });\n}", "\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { use } from '../../extension';\nimport MapView from './MapView';\nimport MapSeries from './MapSeries';\nimport mapDataStatistic from './mapDataStatistic';\nimport mapSymbolLayout from './mapSymbolLayout';\nimport { createLegacyDataSelectAction } from '../../legacy/dataSelectAction';\nimport { install as installGeo } from '../../component/geo/install';\nexport function install(registers) {\n  use(installGeo);\n  registers.registerChartView(MapView);\n  registers.registerSeriesModel(MapSeries);\n  registers.registerLayout(mapSymbolLayout);\n  registers.registerProcessor(registers.PRIORITY.PROCESSOR.STATISTIC, mapDataStatistic);\n  createLegacyDataSelectAction('map', registers.registerAction);\n}", "\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n/*\n* A third-party license is embeded for some of the code in this file:\n* The tree layoutHelper implementation was originally copied from\n* \"d3.js\"(https://github.com/d3/d3-hierarchy) with\n* some modifications made for this project.\n* (see more details in the comment of the specific method below.)\n* The use of the source code of this file is also subject to the terms\n* and consitions of the licence of \"d3.js\" (BSD-3Clause, see\n* </licenses/LICENSE-d3>).\n*/\n\n/**\n * @file The layout algorithm of node-link tree diagrams. Here we using Reingold-Tilford algorithm to drawing\n *       the tree.\n */\nimport * as layout from '../../util/layout';\n/**\n * Initialize all computational message for following algorithm.\n */\n\nexport function init(inRoot) {\n  var root = inRoot;\n  root.hierNode = {\n    defaultAncestor: null,\n    ancestor: root,\n    prelim: 0,\n    modifier: 0,\n    change: 0,\n    shift: 0,\n    i: 0,\n    thread: null\n  };\n  var nodes = [root];\n  var node;\n  var children;\n\n  while (node = nodes.pop()) {\n    // jshint ignore:line\n    children = node.children;\n\n    if (node.isExpand && children.length) {\n      var n = children.length;\n\n      for (var i = n - 1; i >= 0; i--) {\n        var child = children[i];\n        child.hierNode = {\n          defaultAncestor: null,\n          ancestor: child,\n          prelim: 0,\n          modifier: 0,\n          change: 0,\n          shift: 0,\n          i: i,\n          thread: null\n        };\n        nodes.push(child);\n      }\n    }\n  }\n}\n/**\n * The implementation of this function was originally copied from \"d3.js\"\n * <https://github.com/d3/d3-hierarchy/blob/4c1f038f2725d6eae2e49b61d01456400694bac4/src/tree.js>\n * with some modifications made for this program.\n * See the license statement at the head of this file.\n *\n * Computes a preliminary x coordinate for node. Before that, this function is\n * applied recursively to the children of node, as well as the function\n * apportion(). After spacing out the children by calling executeShifts(), the\n * node is placed to the midpoint of its outermost children.\n */\n\nexport function firstWalk(node, separation) {\n  var children = node.isExpand ? node.children : [];\n  var siblings = node.parentNode.children;\n  var subtreeW = node.hierNode.i ? siblings[node.hierNode.i - 1] : null;\n\n  if (children.length) {\n    executeShifts(node);\n    var midPoint = (children[0].hierNode.prelim + children[children.length - 1].hierNode.prelim) / 2;\n\n    if (subtreeW) {\n      node.hierNode.prelim = subtreeW.hierNode.prelim + separation(node, subtreeW);\n      node.hierNode.modifier = node.hierNode.prelim - midPoint;\n    } else {\n      node.hierNode.prelim = midPoint;\n    }\n  } else if (subtreeW) {\n    node.hierNode.prelim = subtreeW.hierNode.prelim + separation(node, subtreeW);\n  }\n\n  node.parentNode.hierNode.defaultAncestor = apportion(node, subtreeW, node.parentNode.hierNode.defaultAncestor || siblings[0], separation);\n}\n/**\n * The implementation of this function was originally copied from \"d3.js\"\n * <https://github.com/d3/d3-hierarchy/blob/4c1f038f2725d6eae2e49b61d01456400694bac4/src/tree.js>\n * with some modifications made for this program.\n * See the license statement at the head of this file.\n *\n * Computes all real x-coordinates by summing up the modifiers recursively.\n */\n\nexport function secondWalk(node) {\n  var nodeX = node.hierNode.prelim + node.parentNode.hierNode.modifier;\n  node.setLayout({\n    x: nodeX\n  }, true);\n  node.hierNode.modifier += node.parentNode.hierNode.modifier;\n}\nexport function separation(cb) {\n  return arguments.length ? cb : defaultSeparation;\n}\n/**\n * Transform the common coordinate to radial coordinate.\n */\n\nexport function radialCoordinate(rad, r) {\n  rad -= Math.PI / 2;\n  return {\n    x: r * Math.cos(rad),\n    y: r * Math.sin(rad)\n  };\n}\n/**\n * Get the layout position of the whole view.\n */\n\nexport function getViewRect(seriesModel, api) {\n  return layout.getLayoutRect(seriesModel.getBoxLayoutParams(), {\n    width: api.getWidth(),\n    height: api.getHeight()\n  });\n}\n/**\n * All other shifts, applied to the smaller subtrees between w- and w+, are\n * performed by this function.\n *\n * The implementation of this function was originally copied from \"d3.js\"\n * <https://github.com/d3/d3-hierarchy/blob/4c1f038f2725d6eae2e49b61d01456400694bac4/src/tree.js>\n * with some modifications made for this program.\n * See the license statement at the head of this file.\n */\n\nfunction executeShifts(node) {\n  var children = node.children;\n  var n = children.length;\n  var shift = 0;\n  var change = 0;\n\n  while (--n >= 0) {\n    var child = children[n];\n    child.hierNode.prelim += shift;\n    child.hierNode.modifier += shift;\n    change += child.hierNode.change;\n    shift += child.hierNode.shift + change;\n  }\n}\n/**\n * The implementation of this function was originally copied from \"d3.js\"\n * <https://github.com/d3/d3-hierarchy/blob/4c1f038f2725d6eae2e49b61d01456400694bac4/src/tree.js>\n * with some modifications made for this program.\n * See the license statement at the head of this file.\n *\n * The core of the algorithm. Here, a new subtree is combined with the\n * previous subtrees. Threads are used to traverse the inside and outside\n * contours of the left and right subtree up to the highest common level.\n * Whenever two nodes of the inside contours conflict, we compute the left\n * one of the greatest uncommon ancestors using the function nextAncestor()\n * and call moveSubtree() to shift the subtree and prepare the shifts of\n * smaller subtrees. Finally, we add a new thread (if necessary).\n */\n\n\nfunction apportion(subtreeV, subtreeW, ancestor, separation) {\n  if (subtreeW) {\n    var nodeOutRight = subtreeV;\n    var nodeInRight = subtreeV;\n    var nodeOutLeft = nodeInRight.parentNode.children[0];\n    var nodeInLeft = subtreeW;\n    var sumOutRight = nodeOutRight.hierNode.modifier;\n    var sumInRight = nodeInRight.hierNode.modifier;\n    var sumOutLeft = nodeOutLeft.hierNode.modifier;\n    var sumInLeft = nodeInLeft.hierNode.modifier;\n\n    while (nodeInLeft = nextRight(nodeInLeft), nodeInRight = nextLeft(nodeInRight), nodeInLeft && nodeInRight) {\n      nodeOutRight = nextRight(nodeOutRight);\n      nodeOutLeft = nextLeft(nodeOutLeft);\n      nodeOutRight.hierNode.ancestor = subtreeV;\n      var shift = nodeInLeft.hierNode.prelim + sumInLeft - nodeInRight.hierNode.prelim - sumInRight + separation(nodeInLeft, nodeInRight);\n\n      if (shift > 0) {\n        moveSubtree(nextAncestor(nodeInLeft, subtreeV, ancestor), subtreeV, shift);\n        sumInRight += shift;\n        sumOutRight += shift;\n      }\n\n      sumInLeft += nodeInLeft.hierNode.modifier;\n      sumInRight += nodeInRight.hierNode.modifier;\n      sumOutRight += nodeOutRight.hierNode.modifier;\n      sumOutLeft += nodeOutLeft.hierNode.modifier;\n    }\n\n    if (nodeInLeft && !nextRight(nodeOutRight)) {\n      nodeOutRight.hierNode.thread = nodeInLeft;\n      nodeOutRight.hierNode.modifier += sumInLeft - sumOutRight;\n    }\n\n    if (nodeInRight && !nextLeft(nodeOutLeft)) {\n      nodeOutLeft.hierNode.thread = nodeInRight;\n      nodeOutLeft.hierNode.modifier += sumInRight - sumOutLeft;\n      ancestor = subtreeV;\n    }\n  }\n\n  return ancestor;\n}\n/**\n * This function is used to traverse the right contour of a subtree.\n * It returns the rightmost child of node or the thread of node. The function\n * returns null if and only if node is on the highest depth of its subtree.\n */\n\n\nfunction nextRight(node) {\n  var children = node.children;\n  return children.length && node.isExpand ? children[children.length - 1] : node.hierNode.thread;\n}\n/**\n * This function is used to traverse the left contour of a subtree (or a subforest).\n * It returns the leftmost child of node or the thread of node. The function\n * returns null if and only if node is on the highest depth of its subtree.\n */\n\n\nfunction nextLeft(node) {\n  var children = node.children;\n  return children.length && node.isExpand ? children[0] : node.hierNode.thread;\n}\n/**\n * If nodeInLeft\u2019s ancestor is a sibling of node, returns nodeInLeft\u2019s ancestor.\n * Otherwise, returns the specified ancestor.\n */\n\n\nfunction nextAncestor(nodeInLeft, node, ancestor) {\n  return nodeInLeft.hierNode.ancestor.parentNode === node.parentNode ? nodeInLeft.hierNode.ancestor : ancestor;\n}\n/**\n * The implementation of this function was originally copied from \"d3.js\"\n * <https://github.com/d3/d3-hierarchy/blob/4c1f038f2725d6eae2e49b61d01456400694bac4/src/tree.js>\n * with some modifications made for this program.\n * See the license statement at the head of this file.\n *\n * Shifts the current subtree rooted at wr.\n * This is done by increasing prelim(w+) and modifier(w+) by shift.\n */\n\n\nfunction moveSubtree(wl, wr, shift) {\n  var change = shift / (wr.hierNode.i - wl.hierNode.i);\n  wr.hierNode.change -= change;\n  wr.hierNode.shift += shift;\n  wr.hierNode.modifier += shift;\n  wr.hierNode.prelim += shift;\n  wl.hierNode.change += change;\n}\n/**\n * The implementation of this function was originally copied from \"d3.js\"\n * <https://github.com/d3/d3-hierarchy/blob/4c1f038f2725d6eae2e49b61d01456400694bac4/src/tree.js>\n * with some modifications made for this program.\n * See the license statement at the head of this file.\n */\n\n\nfunction defaultSeparation(node1, node2) {\n  return node1.parentNode === node2.parentNode ? 1 : 2;\n}", "\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { __extends } from \"tslib\";\nimport * as zrUtil from 'zrender/lib/core/util';\nimport * as graphic from '../../util/graphic';\nimport { getECData } from '../../util/innerStore';\nimport SymbolClz from '../helper/Symbol';\nimport { radialCoordinate } from './layoutHelper';\nimport * as bbox from 'zrender/lib/core/bbox';\nimport View from '../../coord/View';\nimport * as roamHelper from '../../component/helper/roamHelper';\nimport RoamController from '../../component/helper/RoamController';\nimport { onIrrelevantElement } from '../../component/helper/cursorHelper';\nimport { parsePercent } from '../../util/number';\nimport ChartView from '../../view/Chart';\nimport Path from 'zrender/lib/graphic/Path';\nimport { setStatesStylesFromModel, setStatesFlag, setDefaultStateProxy, HOVER_STATE_BLUR } from '../../util/states';\n\nvar TreeEdgeShape =\n/** @class */\nfunction () {\n  function TreeEdgeShape() {\n    this.parentPoint = [];\n    this.childPoints = [];\n  }\n\n  return TreeEdgeShape;\n}();\n\nvar TreePath =\n/** @class */\nfunction (_super) {\n  __extends(TreePath, _super);\n\n  function TreePath(opts) {\n    return _super.call(this, opts) || this;\n  }\n\n  TreePath.prototype.getDefaultStyle = function () {\n    return {\n      stroke: '#000',\n      fill: null\n    };\n  };\n\n  TreePath.prototype.getDefaultShape = function () {\n    return new TreeEdgeShape();\n  };\n\n  TreePath.prototype.buildPath = function (ctx, shape) {\n    var childPoints = shape.childPoints;\n    var childLen = childPoints.length;\n    var parentPoint = shape.parentPoint;\n    var firstChildPos = childPoints[0];\n    var lastChildPos = childPoints[childLen - 1];\n\n    if (childLen === 1) {\n      ctx.moveTo(parentPoint[0], parentPoint[1]);\n      ctx.lineTo(firstChildPos[0], firstChildPos[1]);\n      return;\n    }\n\n    var orient = shape.orient;\n    var forkDim = orient === 'TB' || orient === 'BT' ? 0 : 1;\n    var otherDim = 1 - forkDim;\n    var forkPosition = parsePercent(shape.forkPosition, 1);\n    var tmpPoint = [];\n    tmpPoint[forkDim] = parentPoint[forkDim];\n    tmpPoint[otherDim] = parentPoint[otherDim] + (lastChildPos[otherDim] - parentPoint[otherDim]) * forkPosition;\n    ctx.moveTo(parentPoint[0], parentPoint[1]);\n    ctx.lineTo(tmpPoint[0], tmpPoint[1]);\n    ctx.moveTo(firstChildPos[0], firstChildPos[1]);\n    tmpPoint[forkDim] = firstChildPos[forkDim];\n    ctx.lineTo(tmpPoint[0], tmpPoint[1]);\n    tmpPoint[forkDim] = lastChildPos[forkDim];\n    ctx.lineTo(tmpPoint[0], tmpPoint[1]);\n    ctx.lineTo(lastChildPos[0], lastChildPos[1]);\n\n    for (var i = 1; i < childLen - 1; i++) {\n      var point = childPoints[i];\n      ctx.moveTo(point[0], point[1]);\n      tmpPoint[forkDim] = point[forkDim];\n      ctx.lineTo(tmpPoint[0], tmpPoint[1]);\n    }\n  };\n\n  return TreePath;\n}(Path);\n\nvar TreeView =\n/** @class */\nfunction (_super) {\n  __extends(TreeView, _super);\n\n  function TreeView() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n\n    _this.type = TreeView.type;\n    _this._mainGroup = new graphic.Group();\n    return _this;\n  }\n\n  TreeView.prototype.init = function (ecModel, api) {\n    this._controller = new RoamController(api.getZr());\n    this._controllerHost = {\n      target: this.group\n    };\n    this.group.add(this._mainGroup);\n  };\n\n  TreeView.prototype.render = function (seriesModel, ecModel, api) {\n    var data = seriesModel.getData();\n    var layoutInfo = seriesModel.layoutInfo;\n    var group = this._mainGroup;\n    var layout = seriesModel.get('layout');\n\n    if (layout === 'radial') {\n      group.x = layoutInfo.x + layoutInfo.width / 2;\n      group.y = layoutInfo.y + layoutInfo.height / 2;\n    } else {\n      group.x = layoutInfo.x;\n      group.y = layoutInfo.y;\n    }\n\n    this._updateViewCoordSys(seriesModel);\n\n    this._updateController(seriesModel, ecModel, api);\n\n    var oldData = this._data;\n    data.diff(oldData).add(function (newIdx) {\n      if (symbolNeedsDraw(data, newIdx)) {\n        // Create node and edge\n        updateNode(data, newIdx, null, group, seriesModel);\n      }\n    }).update(function (newIdx, oldIdx) {\n      var symbolEl = oldData.getItemGraphicEl(oldIdx);\n\n      if (!symbolNeedsDraw(data, newIdx)) {\n        symbolEl && removeNode(oldData, oldIdx, symbolEl, group, seriesModel);\n        return;\n      } // Update node and edge\n\n\n      updateNode(data, newIdx, symbolEl, group, seriesModel);\n    }).remove(function (oldIdx) {\n      var symbolEl = oldData.getItemGraphicEl(oldIdx); // When remove a collapsed node of subtree, since the collapsed\n      // node haven't been initialized with a symbol element,\n      // you can't found it's symbol element through index.\n      // so if we want to remove the symbol element we should insure\n      // that the symbol element is not null.\n\n      if (symbolEl) {\n        removeNode(oldData, oldIdx, symbolEl, group, seriesModel);\n      }\n    }).execute();\n    this._nodeScaleRatio = seriesModel.get('nodeScaleRatio');\n\n    this._updateNodeAndLinkScale(seriesModel);\n\n    if (seriesModel.get('expandAndCollapse') === true) {\n      data.eachItemGraphicEl(function (el, dataIndex) {\n        el.off('click').on('click', function () {\n          api.dispatchAction({\n            type: 'treeExpandAndCollapse',\n            seriesId: seriesModel.id,\n            dataIndex: dataIndex\n          });\n        });\n      });\n    }\n\n    this._data = data;\n  };\n\n  TreeView.prototype._updateViewCoordSys = function (seriesModel) {\n    var data = seriesModel.getData();\n    var points = [];\n    data.each(function (idx) {\n      var layout = data.getItemLayout(idx);\n\n      if (layout && !isNaN(layout.x) && !isNaN(layout.y)) {\n        points.push([+layout.x, +layout.y]);\n      }\n    });\n    var min = [];\n    var max = [];\n    bbox.fromPoints(points, min, max); // If don't Store min max when collapse the root node after roam,\n    // the root node will disappear.\n\n    var oldMin = this._min;\n    var oldMax = this._max; // If width or height is 0\n\n    if (max[0] - min[0] === 0) {\n      min[0] = oldMin ? oldMin[0] : min[0] - 1;\n      max[0] = oldMax ? oldMax[0] : max[0] + 1;\n    }\n\n    if (max[1] - min[1] === 0) {\n      min[1] = oldMin ? oldMin[1] : min[1] - 1;\n      max[1] = oldMax ? oldMax[1] : max[1] + 1;\n    }\n\n    var viewCoordSys = seriesModel.coordinateSystem = new View();\n    viewCoordSys.zoomLimit = seriesModel.get('scaleLimit');\n    viewCoordSys.setBoundingRect(min[0], min[1], max[0] - min[0], max[1] - min[1]);\n    viewCoordSys.setCenter(seriesModel.get('center'));\n    viewCoordSys.setZoom(seriesModel.get('zoom')); // Here we use viewCoordSys just for computing the 'position' and 'scale' of the group\n\n    this.group.attr({\n      x: viewCoordSys.x,\n      y: viewCoordSys.y,\n      scaleX: viewCoordSys.scaleX,\n      scaleY: viewCoordSys.scaleY\n    });\n    this._min = min;\n    this._max = max;\n  };\n\n  TreeView.prototype._updateController = function (seriesModel, ecModel, api) {\n    var _this = this;\n\n    var controller = this._controller;\n    var controllerHost = this._controllerHost;\n    var group = this.group;\n    controller.setPointerChecker(function (e, x, y) {\n      var rect = group.getBoundingRect();\n      rect.applyTransform(group.transform);\n      return rect.contain(x, y) && !onIrrelevantElement(e, api, seriesModel);\n    });\n    controller.enable(seriesModel.get('roam'));\n    controllerHost.zoomLimit = seriesModel.get('scaleLimit');\n    controllerHost.zoom = seriesModel.coordinateSystem.getZoom();\n    controller.off('pan').off('zoom').on('pan', function (e) {\n      roamHelper.updateViewOnPan(controllerHost, e.dx, e.dy);\n      api.dispatchAction({\n        seriesId: seriesModel.id,\n        type: 'treeRoam',\n        dx: e.dx,\n        dy: e.dy\n      });\n    }).on('zoom', function (e) {\n      roamHelper.updateViewOnZoom(controllerHost, e.scale, e.originX, e.originY);\n      api.dispatchAction({\n        seriesId: seriesModel.id,\n        type: 'treeRoam',\n        zoom: e.scale,\n        originX: e.originX,\n        originY: e.originY\n      });\n\n      _this._updateNodeAndLinkScale(seriesModel); // Only update label layout on zoom\n\n\n      api.updateLabelLayout();\n    });\n  };\n\n  TreeView.prototype._updateNodeAndLinkScale = function (seriesModel) {\n    var data = seriesModel.getData();\n\n    var nodeScale = this._getNodeGlobalScale(seriesModel);\n\n    data.eachItemGraphicEl(function (el, idx) {\n      el.setSymbolScale(nodeScale);\n    });\n  };\n\n  TreeView.prototype._getNodeGlobalScale = function (seriesModel) {\n    var coordSys = seriesModel.coordinateSystem;\n\n    if (coordSys.type !== 'view') {\n      return 1;\n    }\n\n    var nodeScaleRatio = this._nodeScaleRatio;\n    var groupZoom = coordSys.scaleX || 1; // Scale node when zoom changes\n\n    var roamZoom = coordSys.getZoom();\n    var nodeScale = (roamZoom - 1) * nodeScaleRatio + 1;\n    return nodeScale / groupZoom;\n  };\n\n  TreeView.prototype.dispose = function () {\n    this._controller && this._controller.dispose();\n    this._controllerHost = null;\n  };\n\n  TreeView.prototype.remove = function () {\n    this._mainGroup.removeAll();\n\n    this._data = null;\n  };\n\n  TreeView.type = 'tree';\n  return TreeView;\n}(ChartView);\n\nfunction symbolNeedsDraw(data, dataIndex) {\n  var layout = data.getItemLayout(dataIndex);\n  return layout && !isNaN(layout.x) && !isNaN(layout.y);\n}\n\nfunction updateNode(data, dataIndex, symbolEl, group, seriesModel) {\n  var isInit = !symbolEl;\n  var node = data.tree.getNodeByDataIndex(dataIndex);\n  var itemModel = node.getModel();\n  var visualColor = node.getVisual('style').fill;\n  var symbolInnerColor = node.isExpand === false && node.children.length !== 0 ? visualColor : '#fff';\n  var virtualRoot = data.tree.root;\n  var source = node.parentNode === virtualRoot ? node : node.parentNode || node;\n  var sourceSymbolEl = data.getItemGraphicEl(source.dataIndex);\n  var sourceLayout = source.getLayout();\n  var sourceOldLayout = sourceSymbolEl ? {\n    x: sourceSymbolEl.__oldX,\n    y: sourceSymbolEl.__oldY,\n    rawX: sourceSymbolEl.__radialOldRawX,\n    rawY: sourceSymbolEl.__radialOldRawY\n  } : sourceLayout;\n  var targetLayout = node.getLayout();\n\n  if (isInit) {\n    symbolEl = new SymbolClz(data, dataIndex, null, {\n      symbolInnerColor: symbolInnerColor,\n      useNameLabel: true\n    });\n    symbolEl.x = sourceOldLayout.x;\n    symbolEl.y = sourceOldLayout.y;\n  } else {\n    symbolEl.updateData(data, dataIndex, null, {\n      symbolInnerColor: symbolInnerColor,\n      useNameLabel: true\n    });\n  }\n\n  symbolEl.__radialOldRawX = symbolEl.__radialRawX;\n  symbolEl.__radialOldRawY = symbolEl.__radialRawY;\n  symbolEl.__radialRawX = targetLayout.rawX;\n  symbolEl.__radialRawY = targetLayout.rawY;\n  group.add(symbolEl);\n  data.setItemGraphicEl(dataIndex, symbolEl);\n  symbolEl.__oldX = symbolEl.x;\n  symbolEl.__oldY = symbolEl.y;\n  graphic.updateProps(symbolEl, {\n    x: targetLayout.x,\n    y: targetLayout.y\n  }, seriesModel);\n  var symbolPath = symbolEl.getSymbolPath();\n\n  if (seriesModel.get('layout') === 'radial') {\n    var realRoot = virtualRoot.children[0];\n    var rootLayout = realRoot.getLayout();\n    var length_1 = realRoot.children.length;\n    var rad = void 0;\n    var isLeft = void 0;\n\n    if (targetLayout.x === rootLayout.x && node.isExpand === true) {\n      var center = {\n        x: (realRoot.children[0].getLayout().x + realRoot.children[length_1 - 1].getLayout().x) / 2,\n        y: (realRoot.children[0].getLayout().y + realRoot.children[length_1 - 1].getLayout().y) / 2\n      };\n      rad = Math.atan2(center.y - rootLayout.y, center.x - rootLayout.x);\n\n      if (rad < 0) {\n        rad = Math.PI * 2 + rad;\n      }\n\n      isLeft = center.x < rootLayout.x;\n\n      if (isLeft) {\n        rad = rad - Math.PI;\n      }\n    } else {\n      rad = Math.atan2(targetLayout.y - rootLayout.y, targetLayout.x - rootLayout.x);\n\n      if (rad < 0) {\n        rad = Math.PI * 2 + rad;\n      }\n\n      if (node.children.length === 0 || node.children.length !== 0 && node.isExpand === false) {\n        isLeft = targetLayout.x < rootLayout.x;\n\n        if (isLeft) {\n          rad = rad - Math.PI;\n        }\n      } else {\n        isLeft = targetLayout.x > rootLayout.x;\n\n        if (!isLeft) {\n          rad = rad - Math.PI;\n        }\n      }\n    }\n\n    var textPosition = isLeft ? 'left' : 'right';\n    var normalLabelModel = itemModel.getModel('label');\n    var rotate = normalLabelModel.get('rotate');\n    var labelRotateRadian = rotate * (Math.PI / 180);\n    var textContent = symbolPath.getTextContent();\n\n    if (textContent) {\n      symbolPath.setTextConfig({\n        position: normalLabelModel.get('position') || textPosition,\n        rotation: rotate == null ? -rad : labelRotateRadian,\n        origin: 'center'\n      });\n      textContent.setStyle('verticalAlign', 'middle');\n    }\n  } // Handle status\n\n\n  var focus = itemModel.get(['emphasis', 'focus']);\n  var focusDataIndices = focus === 'ancestor' ? node.getAncestorsIndices() : focus === 'descendant' ? node.getDescendantIndices() : null;\n\n  if (focusDataIndices) {\n    // Modify the focus to data indices.\n    getECData(symbolEl).focus = focusDataIndices;\n  }\n\n  drawEdge(seriesModel, node, virtualRoot, symbolEl, sourceOldLayout, sourceLayout, targetLayout, group);\n\n  if (symbolEl.__edge) {\n    symbolEl.onHoverStateChange = function (toState) {\n      if (toState !== 'blur') {\n        // NOTE: Ensure the parent elements will been blurred firstly.\n        // According to the return of getAncestorsIndices and getDescendantIndices\n        // TODO: A bit tricky.\n        var parentEl = node.parentNode && data.getItemGraphicEl(node.parentNode.dataIndex);\n\n        if (!(parentEl && parentEl.hoverState === HOVER_STATE_BLUR)) {\n          setStatesFlag(symbolEl.__edge, toState);\n        }\n      }\n    };\n  }\n}\n\nfunction drawEdge(seriesModel, node, virtualRoot, symbolEl, sourceOldLayout, sourceLayout, targetLayout, group) {\n  var itemModel = node.getModel();\n  var edgeShape = seriesModel.get('edgeShape');\n  var layout = seriesModel.get('layout');\n  var orient = seriesModel.getOrient();\n  var curvature = seriesModel.get(['lineStyle', 'curveness']);\n  var edgeForkPosition = seriesModel.get('edgeForkPosition');\n  var lineStyle = itemModel.getModel('lineStyle').getLineStyle();\n  var edge = symbolEl.__edge;\n\n  if (edgeShape === 'curve') {\n    if (node.parentNode && node.parentNode !== virtualRoot) {\n      if (!edge) {\n        edge = symbolEl.__edge = new graphic.BezierCurve({\n          shape: getEdgeShape(layout, orient, curvature, sourceOldLayout, sourceOldLayout)\n        });\n      }\n\n      graphic.updateProps(edge, {\n        shape: getEdgeShape(layout, orient, curvature, sourceLayout, targetLayout)\n      }, seriesModel);\n    }\n  } else if (edgeShape === 'polyline') {\n    if (layout === 'orthogonal') {\n      if (node !== virtualRoot && node.children && node.children.length !== 0 && node.isExpand === true) {\n        var children = node.children;\n        var childPoints = [];\n\n        for (var i = 0; i < children.length; i++) {\n          var childLayout = children[i].getLayout();\n          childPoints.push([childLayout.x, childLayout.y]);\n        }\n\n        if (!edge) {\n          edge = symbolEl.__edge = new TreePath({\n            shape: {\n              parentPoint: [targetLayout.x, targetLayout.y],\n              childPoints: [[targetLayout.x, targetLayout.y]],\n              orient: orient,\n              forkPosition: edgeForkPosition\n            }\n          });\n        }\n\n        graphic.updateProps(edge, {\n          shape: {\n            parentPoint: [targetLayout.x, targetLayout.y],\n            childPoints: childPoints\n          }\n        }, seriesModel);\n      }\n    } else {\n      if (process.env.NODE_ENV !== 'production') {\n        throw new Error('The polyline edgeShape can only be used in orthogonal layout');\n      }\n    }\n  }\n\n  if (edge) {\n    edge.useStyle(zrUtil.defaults({\n      strokeNoScale: true,\n      fill: null\n    }, lineStyle));\n    setStatesStylesFromModel(edge, itemModel, 'lineStyle');\n    setDefaultStateProxy(edge);\n    group.add(edge);\n  }\n}\n\nfunction removeNode(data, dataIndex, symbolEl, group, seriesModel) {\n  var node = data.tree.getNodeByDataIndex(dataIndex);\n  var virtualRoot = data.tree.root;\n  var source = node.parentNode === virtualRoot ? node : node.parentNode || node; // let edgeShape = seriesScope.edgeShape;\n\n  var sourceLayout;\n\n  while (sourceLayout = source.getLayout(), sourceLayout == null) {\n    source = source.parentNode === virtualRoot ? source : source.parentNode || source;\n  } // Use same duration and easing with update to have more consistent animation.\n\n\n  var removeAnimationOpt = {\n    duration: seriesModel.get('animationDurationUpdate'),\n    easing: seriesModel.get('animationEasingUpdate')\n  };\n  graphic.removeElement(symbolEl, {\n    x: sourceLayout.x + 1,\n    y: sourceLayout.y + 1\n  }, seriesModel, {\n    cb: function () {\n      group.remove(symbolEl);\n      data.setItemGraphicEl(dataIndex, null);\n    },\n    removeOpt: removeAnimationOpt\n  });\n  symbolEl.fadeOut(null, {\n    fadeLabel: true,\n    animation: removeAnimationOpt\n  });\n  var sourceSymbolEl = data.getItemGraphicEl(source.dataIndex);\n  var sourceEdge = sourceSymbolEl.__edge; // 1. when expand the sub tree, delete the children node should delete the edge of\n  // the source at the same time. because the polyline edge shape is only owned by the source.\n  // 2.when the node is the only children of the source, delete the node should delete the edge of\n  // the source at the same time. the same reason as above.\n\n  var edge = symbolEl.__edge || (source.isExpand === false || source.children.length === 1 ? sourceEdge : undefined);\n  var edgeShape = seriesModel.get('edgeShape');\n  var layoutOpt = seriesModel.get('layout');\n  var orient = seriesModel.get('orient');\n  var curvature = seriesModel.get(['lineStyle', 'curveness']);\n\n  if (edge) {\n    if (edgeShape === 'curve') {\n      graphic.removeElement(edge, {\n        shape: getEdgeShape(layoutOpt, orient, curvature, sourceLayout, sourceLayout),\n        style: {\n          opacity: 0\n        }\n      }, seriesModel, {\n        cb: function () {\n          group.remove(edge);\n        },\n        removeOpt: removeAnimationOpt\n      });\n    } else if (edgeShape === 'polyline' && seriesModel.get('layout') === 'orthogonal') {\n      graphic.removeElement(edge, {\n        shape: {\n          parentPoint: [sourceLayout.x, sourceLayout.y],\n          childPoints: [[sourceLayout.x, sourceLayout.y]]\n        },\n        style: {\n          opacity: 0\n        }\n      }, seriesModel, {\n        cb: function () {\n          group.remove(edge);\n        },\n        removeOpt: removeAnimationOpt\n      });\n    }\n  }\n}\n\nfunction getEdgeShape(layoutOpt, orient, curvature, sourceLayout, targetLayout) {\n  var cpx1;\n  var cpy1;\n  var cpx2;\n  var cpy2;\n  var x1;\n  var x2;\n  var y1;\n  var y2;\n\n  if (layoutOpt === 'radial') {\n    x1 = sourceLayout.rawX;\n    y1 = sourceLayout.rawY;\n    x2 = targetLayout.rawX;\n    y2 = targetLayout.rawY;\n    var radialCoor1 = radialCoordinate(x1, y1);\n    var radialCoor2 = radialCoordinate(x1, y1 + (y2 - y1) * curvature);\n    var radialCoor3 = radialCoordinate(x2, y2 + (y1 - y2) * curvature);\n    var radialCoor4 = radialCoordinate(x2, y2);\n    return {\n      x1: radialCoor1.x || 0,\n      y1: radialCoor1.y || 0,\n      x2: radialCoor4.x || 0,\n      y2: radialCoor4.y || 0,\n      cpx1: radialCoor2.x || 0,\n      cpy1: radialCoor2.y || 0,\n      cpx2: radialCoor3.x || 0,\n      cpy2: radialCoor3.y || 0\n    };\n  } else {\n    x1 = sourceLayout.x;\n    y1 = sourceLayout.y;\n    x2 = targetLayout.x;\n    y2 = targetLayout.y;\n\n    if (orient === 'LR' || orient === 'RL') {\n      cpx1 = x1 + (x2 - x1) * curvature;\n      cpy1 = y1;\n      cpx2 = x2 + (x1 - x2) * curvature;\n      cpy2 = y2;\n    }\n\n    if (orient === 'TB' || orient === 'BT') {\n      cpx1 = x1;\n      cpy1 = y1 + (y2 - y1) * curvature;\n      cpx2 = x2;\n      cpy2 = y2 + (y1 - y2) * curvature;\n    }\n  }\n\n  return {\n    x1: x1,\n    y1: y1,\n    x2: x2,\n    y2: y2,\n    cpx1: cpx1,\n    cpy1: cpy1,\n    cpx2: cpx2,\n    cpy2: cpy2\n  };\n}\n\nexport default TreeView;", "\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n/**\n * Link lists and struct (graph or tree)\n */\nimport { curry, each, assert, extend, map, keys } from 'zrender/lib/core/util';\nimport { makeInner } from '../../util/model';\nvar inner = makeInner();\n\nfunction linkList(opt) {\n  var mainData = opt.mainData;\n  var datas = opt.datas;\n\n  if (!datas) {\n    datas = {\n      main: mainData\n    };\n    opt.datasAttr = {\n      main: 'data'\n    };\n  }\n\n  opt.datas = opt.mainData = null;\n  linkAll(mainData, datas, opt); // Porxy data original methods.\n\n  each(datas, function (data) {\n    each(mainData.TRANSFERABLE_METHODS, function (methodName) {\n      data.wrapMethod(methodName, curry(transferInjection, opt));\n    });\n  }); // Beyond transfer, additional features should be added to `cloneShallow`.\n\n  mainData.wrapMethod('cloneShallow', curry(cloneShallowInjection, opt)); // Only mainData trigger change, because struct.update may trigger\n  // another changable methods, which may bring about dead lock.\n\n  each(mainData.CHANGABLE_METHODS, function (methodName) {\n    mainData.wrapMethod(methodName, curry(changeInjection, opt));\n  }); // Make sure datas contains mainData.\n\n  assert(datas[mainData.dataType] === mainData);\n}\n\nfunction transferInjection(opt, res) {\n  if (isMainData(this)) {\n    // Transfer datas to new main data.\n    var datas = extend({}, inner(this).datas);\n    datas[this.dataType] = res;\n    linkAll(res, datas, opt);\n  } else {\n    // Modify the reference in main data to point newData.\n    linkSingle(res, this.dataType, inner(this).mainData, opt);\n  }\n\n  return res;\n}\n\nfunction changeInjection(opt, res) {\n  opt.struct && opt.struct.update();\n  return res;\n}\n\nfunction cloneShallowInjection(opt, res) {\n  // cloneShallow, which brings about some fragilities, may be inappropriate\n  // to be exposed as an API. So for implementation simplicity we can make\n  // the restriction that cloneShallow of not-mainData should not be invoked\n  // outside, but only be invoked here.\n  each(inner(res).datas, function (data, dataType) {\n    data !== res && linkSingle(data.cloneShallow(), dataType, res, opt);\n  });\n  return res;\n}\n/**\n * Supplement method to List.\n *\n * @public\n * @param [dataType] If not specified, return mainData.\n */\n\n\nfunction getLinkedData(dataType) {\n  var mainData = inner(this).mainData;\n  return dataType == null || mainData == null ? mainData : inner(mainData).datas[dataType];\n}\n/**\n * Get list of all linked data\n */\n\n\nfunction getLinkedDataAll() {\n  var mainData = inner(this).mainData;\n  return mainData == null ? [{\n    data: mainData\n  }] : map(keys(inner(mainData).datas), function (type) {\n    return {\n      type: type,\n      data: inner(mainData).datas[type]\n    };\n  });\n}\n\nfunction isMainData(data) {\n  return inner(data).mainData === data;\n}\n\nfunction linkAll(mainData, datas, opt) {\n  inner(mainData).datas = {};\n  each(datas, function (data, dataType) {\n    linkSingle(data, dataType, mainData, opt);\n  });\n}\n\nfunction linkSingle(data, dataType, mainData, opt) {\n  inner(mainData).datas[dataType] = data;\n  inner(data).mainData = mainData;\n  data.dataType = dataType;\n\n  if (opt.struct) {\n    data[opt.structAttr] = opt.struct;\n    opt.struct[opt.datasAttr[dataType]] = data;\n  } // Supplement method.\n\n\n  data.getLinkedData = getLinkedData;\n  data.getLinkedDataAll = getLinkedDataAll;\n}\n\nexport default linkList;", "\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n/**\n * Tree data structure\n */\nimport * as zrUtil from 'zrender/lib/core/util';\nimport linkList from './helper/linkList';\nimport List from './List';\nimport createDimensions from './helper/createDimensions';\nimport { convertOptionIdName } from '../util/model';\n\nvar TreeNode =\n/** @class */\nfunction () {\n  function TreeNode(name, hostTree) {\n    this.depth = 0;\n    this.height = 0;\n    /**\n     * Reference to list item.\n     * Do not persistent dataIndex outside,\n     * besause it may be changed by list.\n     * If dataIndex -1,\n     * this node is logical deleted (filtered) in list.\n     */\n\n    this.dataIndex = -1;\n    this.children = [];\n    this.viewChildren = [];\n    this.isExpand = false;\n    this.name = name || '';\n    this.hostTree = hostTree;\n  }\n  /**\n   * The node is removed.\n   */\n\n\n  TreeNode.prototype.isRemoved = function () {\n    return this.dataIndex < 0;\n  };\n\n  TreeNode.prototype.eachNode = function (options, cb, context) {\n    if (typeof options === 'function') {\n      context = cb;\n      cb = options;\n      options = null;\n    }\n\n    options = options || {};\n\n    if (zrUtil.isString(options)) {\n      options = {\n        order: options\n      };\n    }\n\n    var order = options.order || 'preorder';\n    var children = this[options.attr || 'children'];\n    var suppressVisitSub;\n    order === 'preorder' && (suppressVisitSub = cb.call(context, this));\n\n    for (var i = 0; !suppressVisitSub && i < children.length; i++) {\n      children[i].eachNode(options, cb, context);\n    }\n\n    order === 'postorder' && cb.call(context, this);\n  };\n  /**\n   * Update depth and height of this subtree.\n   */\n\n\n  TreeNode.prototype.updateDepthAndHeight = function (depth) {\n    var height = 0;\n    this.depth = depth;\n\n    for (var i = 0; i < this.children.length; i++) {\n      var child = this.children[i];\n      child.updateDepthAndHeight(depth + 1);\n\n      if (child.height > height) {\n        height = child.height;\n      }\n    }\n\n    this.height = height + 1;\n  };\n\n  TreeNode.prototype.getNodeById = function (id) {\n    if (this.getId() === id) {\n      return this;\n    }\n\n    for (var i = 0, children = this.children, len = children.length; i < len; i++) {\n      var res = children[i].getNodeById(id);\n\n      if (res) {\n        return res;\n      }\n    }\n  };\n\n  TreeNode.prototype.contains = function (node) {\n    if (node === this) {\n      return true;\n    }\n\n    for (var i = 0, children = this.children, len = children.length; i < len; i++) {\n      var res = children[i].contains(node);\n\n      if (res) {\n        return res;\n      }\n    }\n  };\n  /**\n   * @param includeSelf Default false.\n   * @return order: [root, child, grandchild, ...]\n   */\n\n\n  TreeNode.prototype.getAncestors = function (includeSelf) {\n    var ancestors = [];\n    var node = includeSelf ? this : this.parentNode;\n\n    while (node) {\n      ancestors.push(node);\n      node = node.parentNode;\n    }\n\n    ancestors.reverse();\n    return ancestors;\n  };\n\n  TreeNode.prototype.getAncestorsIndices = function () {\n    var indices = [];\n    var currNode = this;\n\n    while (currNode) {\n      indices.push(currNode.dataIndex);\n      currNode = currNode.parentNode;\n    }\n\n    indices.reverse();\n    return indices;\n  };\n\n  TreeNode.prototype.getDescendantIndices = function () {\n    var indices = [];\n    this.eachNode(function (childNode) {\n      indices.push(childNode.dataIndex);\n    });\n    return indices;\n  };\n\n  TreeNode.prototype.getValue = function (dimension) {\n    var data = this.hostTree.data;\n    return data.get(data.getDimension(dimension || 'value'), this.dataIndex);\n  };\n\n  TreeNode.prototype.setLayout = function (layout, merge) {\n    this.dataIndex >= 0 && this.hostTree.data.setItemLayout(this.dataIndex, layout, merge);\n  };\n  /**\n   * @return {Object} layout\n   */\n\n\n  TreeNode.prototype.getLayout = function () {\n    return this.hostTree.data.getItemLayout(this.dataIndex);\n  }; // @depcrecated\n  // getModel<T = unknown, S extends keyof T = keyof T>(path: S): Model<T[S]>\n\n\n  TreeNode.prototype.getModel = function (path) {\n    if (this.dataIndex < 0) {\n      return;\n    }\n\n    var hostTree = this.hostTree;\n    var itemModel = hostTree.data.getItemModel(this.dataIndex);\n    return itemModel.getModel(path);\n  }; // TODO: TYPE More specific model\n\n\n  TreeNode.prototype.getLevelModel = function () {\n    return (this.hostTree.levelModels || [])[this.depth];\n  };\n\n  TreeNode.prototype.setVisual = function (key, value) {\n    this.dataIndex >= 0 && this.hostTree.data.setItemVisual(this.dataIndex, key, value);\n  };\n  /**\n   * Get item visual\n   * FIXME: make return type better\n   */\n\n\n  TreeNode.prototype.getVisual = function (key) {\n    return this.hostTree.data.getItemVisual(this.dataIndex, key);\n  };\n\n  TreeNode.prototype.getRawIndex = function () {\n    return this.hostTree.data.getRawIndex(this.dataIndex);\n  };\n\n  TreeNode.prototype.getId = function () {\n    return this.hostTree.data.getId(this.dataIndex);\n  };\n  /**\n   * if this is an ancestor of another node\n   *\n   * @param node another node\n   * @return if is ancestor\n   */\n\n\n  TreeNode.prototype.isAncestorOf = function (node) {\n    var parent = node.parentNode;\n\n    while (parent) {\n      if (parent === this) {\n        return true;\n      }\n\n      parent = parent.parentNode;\n    }\n\n    return false;\n  };\n  /**\n   * if this is an descendant of another node\n   *\n   * @param node another node\n   * @return if is descendant\n   */\n\n\n  TreeNode.prototype.isDescendantOf = function (node) {\n    return node !== this && node.isAncestorOf(this);\n  };\n\n  return TreeNode;\n}();\n\nexport { TreeNode };\n;\n\nvar Tree =\n/** @class */\nfunction () {\n  function Tree(hostModel) {\n    this.type = 'tree';\n    this._nodes = [];\n    this.hostModel = hostModel;\n  }\n\n  Tree.prototype.eachNode = function (options, cb, context) {\n    this.root.eachNode(options, cb, context);\n  };\n\n  Tree.prototype.getNodeByDataIndex = function (dataIndex) {\n    var rawIndex = this.data.getRawIndex(dataIndex);\n    return this._nodes[rawIndex];\n  };\n\n  Tree.prototype.getNodeById = function (name) {\n    return this.root.getNodeById(name);\n  };\n  /**\n   * Update item available by list,\n   * when list has been performed options like 'filterSelf' or 'map'.\n   */\n\n\n  Tree.prototype.update = function () {\n    var data = this.data;\n    var nodes = this._nodes;\n\n    for (var i = 0, len = nodes.length; i < len; i++) {\n      nodes[i].dataIndex = -1;\n    }\n\n    for (var i = 0, len = data.count(); i < len; i++) {\n      nodes[data.getRawIndex(i)].dataIndex = i;\n    }\n  };\n  /**\n   * Clear all layouts\n   */\n\n\n  Tree.prototype.clearLayouts = function () {\n    this.data.clearItemLayouts();\n  };\n  /**\n   * data node format:\n   * {\n   *     name: ...\n   *     value: ...\n   *     children: [\n   *         {\n   *             name: ...\n   *             value: ...\n   *             children: ...\n   *         },\n   *         ...\n   *     ]\n   * }\n   */\n\n\n  Tree.createTree = function (dataRoot, hostModel, beforeLink) {\n    var tree = new Tree(hostModel);\n    var listData = [];\n    var dimMax = 1;\n    buildHierarchy(dataRoot);\n\n    function buildHierarchy(dataNode, parentNode) {\n      var value = dataNode.value;\n      dimMax = Math.max(dimMax, zrUtil.isArray(value) ? value.length : 1);\n      listData.push(dataNode);\n      var node = new TreeNode(convertOptionIdName(dataNode.name, ''), tree);\n      parentNode ? addChild(node, parentNode) : tree.root = node;\n\n      tree._nodes.push(node);\n\n      var children = dataNode.children;\n\n      if (children) {\n        for (var i = 0; i < children.length; i++) {\n          buildHierarchy(children[i], node);\n        }\n      }\n    }\n\n    tree.root.updateDepthAndHeight(0);\n    var dimensionsInfo = createDimensions(listData, {\n      coordDimensions: ['value'],\n      dimensionsCount: dimMax\n    });\n    var list = new List(dimensionsInfo, hostModel);\n    list.initData(listData);\n    beforeLink && beforeLink(list);\n    linkList({\n      mainData: list,\n      struct: tree,\n      structAttr: 'tree'\n    });\n    tree.update();\n    return tree;\n  };\n\n  return Tree;\n}();\n/**\n * It is needed to consider the mess of 'list', 'hostModel' when creating a TreeNote,\n * so this function is not ready and not necessary to be public.\n */\n\n\nfunction addChild(child, node) {\n  var children = node.children;\n\n  if (child.parentNode === node) {\n    return;\n  }\n\n  children.push(child);\n  child.parentNode = node;\n}\n\nexport default Tree;", "\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport * as zrUtil from 'zrender/lib/core/util';\nexport function retrieveTargetInfo(payload, validPayloadTypes, seriesModel) {\n  if (payload && zrUtil.indexOf(validPayloadTypes, payload.type) >= 0) {\n    var root = seriesModel.getData().tree.root;\n    var targetNode = payload.targetNode;\n\n    if (typeof targetNode === 'string') {\n      targetNode = root.getNodeById(targetNode);\n    }\n\n    if (targetNode && root.contains(targetNode)) {\n      return {\n        node: targetNode\n      };\n    }\n\n    var targetNodeId = payload.targetNodeId;\n\n    if (targetNodeId != null && (targetNode = root.getNodeById(targetNodeId))) {\n      return {\n        node: targetNode\n      };\n    }\n  }\n} // Not includes the given node at the last item.\n\nexport function getPathToRoot(node) {\n  var path = [];\n\n  while (node) {\n    node = node.parentNode;\n    node && path.push(node);\n  }\n\n  return path.reverse();\n}\nexport function aboveViewRoot(viewRoot, node) {\n  var viewPath = getPathToRoot(viewRoot);\n  return zrUtil.indexOf(viewPath, node) >= 0;\n} // From root to the input node (the input node will be included).\n\nexport function wrapTreePathInfo(node, seriesModel) {\n  var treePathInfo = [];\n\n  while (node) {\n    var nodeDataIndex = node.dataIndex;\n    treePathInfo.push({\n      name: node.name,\n      dataIndex: nodeDataIndex,\n      value: seriesModel.getRawValue(nodeDataIndex)\n    });\n    node = node.parentNode;\n  }\n\n  treePathInfo.reverse();\n  return treePathInfo;\n}", "\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { __extends } from \"tslib\";\nimport SeriesModel from '../../model/Series';\nimport Tree from '../../data/Tree';\nimport Model from '../../model/Model';\nimport { createTooltipMarkup } from '../../component/tooltip/tooltipMarkup';\nimport { wrapTreePathInfo } from '../helper/treeHelper';\n\nvar TreeSeriesModel =\n/** @class */\nfunction (_super) {\n  __extends(TreeSeriesModel, _super);\n\n  function TreeSeriesModel() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n\n    _this.hasSymbolVisual = true; // Do it self.\n\n    _this.ignoreStyleOnData = true;\n    return _this;\n  }\n  /**\n   * Init a tree data structure from data in option series\n   * @param  option  the object used to config echarts view\n   * @return storage initial data\n   */\n\n\n  TreeSeriesModel.prototype.getInitialData = function (option) {\n    //create an virtual root\n    var root = {\n      name: option.name,\n      children: option.data\n    };\n    var leaves = option.leaves || {};\n    var leavesModel = new Model(leaves, this, this.ecModel);\n    var tree = Tree.createTree(root, this, beforeLink);\n\n    function beforeLink(nodeData) {\n      nodeData.wrapMethod('getItemModel', function (model, idx) {\n        var node = tree.getNodeByDataIndex(idx);\n\n        if (!(node && node.children.length && node.isExpand)) {\n          model.parentModel = leavesModel;\n        }\n\n        return model;\n      });\n    }\n\n    var treeDepth = 0;\n    tree.eachNode('preorder', function (node) {\n      if (node.depth > treeDepth) {\n        treeDepth = node.depth;\n      }\n    });\n    var expandAndCollapse = option.expandAndCollapse;\n    var expandTreeDepth = expandAndCollapse && option.initialTreeDepth >= 0 ? option.initialTreeDepth : treeDepth;\n    tree.root.eachNode('preorder', function (node) {\n      var item = node.hostTree.data.getRawDataItem(node.dataIndex); // Add item.collapsed != null, because users can collapse node original in the series.data.\n\n      node.isExpand = item && item.collapsed != null ? !item.collapsed : node.depth <= expandTreeDepth;\n    });\n    return tree.data;\n  };\n  /**\n   * Make the configuration 'orient' backward compatibly, with 'horizontal = LR', 'vertical = TB'.\n   * @returns {string} orient\n   */\n\n\n  TreeSeriesModel.prototype.getOrient = function () {\n    var orient = this.get('orient');\n\n    if (orient === 'horizontal') {\n      orient = 'LR';\n    } else if (orient === 'vertical') {\n      orient = 'TB';\n    }\n\n    return orient;\n  };\n\n  TreeSeriesModel.prototype.setZoom = function (zoom) {\n    this.option.zoom = zoom;\n  };\n\n  TreeSeriesModel.prototype.setCenter = function (center) {\n    this.option.center = center;\n  };\n\n  TreeSeriesModel.prototype.formatTooltip = function (dataIndex, multipleSeries, dataType) {\n    var tree = this.getData().tree;\n    var realRoot = tree.root.children[0];\n    var node = tree.getNodeByDataIndex(dataIndex);\n    var value = node.getValue();\n    var name = node.name;\n\n    while (node && node !== realRoot) {\n      name = node.parentNode.name + '.' + name;\n      node = node.parentNode;\n    }\n\n    return createTooltipMarkup('nameValue', {\n      name: name,\n      value: value,\n      noValue: isNaN(value) || value == null\n    });\n  }; // Add tree path to tooltip param\n\n\n  TreeSeriesModel.prototype.getDataParams = function (dataIndex) {\n    var params = _super.prototype.getDataParams.apply(this, arguments);\n\n    var node = this.getData().tree.getNodeByDataIndex(dataIndex);\n    params.treeAncestors = wrapTreePathInfo(node, this);\n    return params;\n  };\n\n  TreeSeriesModel.type = 'series.tree'; // can support the position parameters 'left', 'top','right','bottom', 'width',\n  // 'height' in the setOption() with 'merge' mode normal.\n\n  TreeSeriesModel.layoutMode = 'box';\n  TreeSeriesModel.defaultOption = {\n    zlevel: 0,\n    z: 2,\n    coordinateSystem: 'view',\n    // the position of the whole view\n    left: '12%',\n    top: '12%',\n    right: '12%',\n    bottom: '12%',\n    // the layout of the tree, two value can be selected, 'orthogonal' or 'radial'\n    layout: 'orthogonal',\n    // value can be 'polyline'\n    edgeShape: 'curve',\n    edgeForkPosition: '50%',\n    // true | false | 'move' | 'scale', see module:component/helper/RoamController.\n    roam: false,\n    // Symbol size scale ratio in roam\n    nodeScaleRatio: 0.4,\n    // Default on center of graph\n    center: null,\n    zoom: 1,\n    orient: 'LR',\n    symbol: 'emptyCircle',\n    symbolSize: 7,\n    expandAndCollapse: true,\n    initialTreeDepth: 2,\n    lineStyle: {\n      color: '#ccc',\n      width: 1.5,\n      curveness: 0.5\n    },\n    itemStyle: {\n      color: 'lightsteelblue',\n      // borderColor: '#c23531',\n      borderWidth: 1.5\n    },\n    label: {\n      show: true\n    },\n    animationEasing: 'linear',\n    animationDuration: 700,\n    animationDurationUpdate: 500\n  };\n  return TreeSeriesModel;\n}(SeriesModel);\n\nexport default TreeSeriesModel;", "\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n/**\n * Traverse the tree from bottom to top and do something\n */\nfunction eachAfter(root, callback, separation) {\n  var nodes = [root];\n  var next = [];\n  var node;\n\n  while (node = nodes.pop()) {\n    // jshint ignore:line\n    next.push(node);\n\n    if (node.isExpand) {\n      var children = node.children;\n\n      if (children.length) {\n        for (var i = 0; i < children.length; i++) {\n          nodes.push(children[i]);\n        }\n      }\n    }\n  }\n\n  while (node = next.pop()) {\n    // jshint ignore:line\n    callback(node, separation);\n  }\n}\n/**\n * Traverse the tree from top to bottom and do something\n */\n\n\nfunction eachBefore(root, callback) {\n  var nodes = [root];\n  var node;\n\n  while (node = nodes.pop()) {\n    // jshint ignore:line\n    callback(node);\n\n    if (node.isExpand) {\n      var children = node.children;\n\n      if (children.length) {\n        for (var i = children.length - 1; i >= 0; i--) {\n          nodes.push(children[i]);\n        }\n      }\n    }\n  }\n}\n\nexport { eachAfter, eachBefore };", "\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { eachAfter, eachBefore } from './traversalHelper';\nimport { init, firstWalk, secondWalk, separation as sep, radialCoordinate, getViewRect } from './layoutHelper';\nexport default function treeLayout(ecModel, api) {\n  ecModel.eachSeriesByType('tree', function (seriesModel) {\n    commonLayout(seriesModel, api);\n  });\n}\n\nfunction commonLayout(seriesModel, api) {\n  var layoutInfo = getViewRect(seriesModel, api);\n  seriesModel.layoutInfo = layoutInfo;\n  var layout = seriesModel.get('layout');\n  var width = 0;\n  var height = 0;\n  var separation = null;\n\n  if (layout === 'radial') {\n    width = 2 * Math.PI;\n    height = Math.min(layoutInfo.height, layoutInfo.width) / 2;\n    separation = sep(function (node1, node2) {\n      return (node1.parentNode === node2.parentNode ? 1 : 2) / node1.depth;\n    });\n  } else {\n    width = layoutInfo.width;\n    height = layoutInfo.height;\n    separation = sep();\n  }\n\n  var virtualRoot = seriesModel.getData().tree.root;\n  var realRoot = virtualRoot.children[0];\n\n  if (realRoot) {\n    init(virtualRoot);\n    eachAfter(realRoot, firstWalk, separation);\n    virtualRoot.hierNode.modifier = -realRoot.hierNode.prelim;\n    eachBefore(realRoot, secondWalk);\n    var left_1 = realRoot;\n    var right_1 = realRoot;\n    var bottom_1 = realRoot;\n    eachBefore(realRoot, function (node) {\n      var x = node.getLayout().x;\n\n      if (x < left_1.getLayout().x) {\n        left_1 = node;\n      }\n\n      if (x > right_1.getLayout().x) {\n        right_1 = node;\n      }\n\n      if (node.depth > bottom_1.depth) {\n        bottom_1 = node;\n      }\n    });\n    var delta = left_1 === right_1 ? 1 : separation(left_1, right_1) / 2;\n    var tx_1 = delta - left_1.getLayout().x;\n    var kx_1 = 0;\n    var ky_1 = 0;\n    var coorX_1 = 0;\n    var coorY_1 = 0;\n\n    if (layout === 'radial') {\n      kx_1 = width / (right_1.getLayout().x + delta + tx_1); // here we use (node.depth - 1), bucause the real root's depth is 1\n\n      ky_1 = height / (bottom_1.depth - 1 || 1);\n      eachBefore(realRoot, function (node) {\n        coorX_1 = (node.getLayout().x + tx_1) * kx_1;\n        coorY_1 = (node.depth - 1) * ky_1;\n        var finalCoor = radialCoordinate(coorX_1, coorY_1);\n        node.setLayout({\n          x: finalCoor.x,\n          y: finalCoor.y,\n          rawX: coorX_1,\n          rawY: coorY_1\n        }, true);\n      });\n    } else {\n      var orient_1 = seriesModel.getOrient();\n\n      if (orient_1 === 'RL' || orient_1 === 'LR') {\n        ky_1 = height / (right_1.getLayout().x + delta + tx_1);\n        kx_1 = width / (bottom_1.depth - 1 || 1);\n        eachBefore(realRoot, function (node) {\n          coorY_1 = (node.getLayout().x + tx_1) * ky_1;\n          coorX_1 = orient_1 === 'LR' ? (node.depth - 1) * kx_1 : width - (node.depth - 1) * kx_1;\n          node.setLayout({\n            x: coorX_1,\n            y: coorY_1\n          }, true);\n        });\n      } else if (orient_1 === 'TB' || orient_1 === 'BT') {\n        kx_1 = width / (right_1.getLayout().x + delta + tx_1);\n        ky_1 = height / (bottom_1.depth - 1 || 1);\n        eachBefore(realRoot, function (node) {\n          coorX_1 = (node.getLayout().x + tx_1) * kx_1;\n          coorY_1 = orient_1 === 'TB' ? (node.depth - 1) * ky_1 : height - (node.depth - 1) * ky_1;\n          node.setLayout({\n            x: coorX_1,\n            y: coorY_1\n          }, true);\n        });\n      }\n    }\n  }\n}", "\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { extend } from 'zrender/lib/core/util';\nexport default function treeVisual(ecModel) {\n  ecModel.eachSeriesByType('tree', function (seriesModel) {\n    var data = seriesModel.getData();\n    var tree = data.tree;\n    tree.eachNode(function (node) {\n      var model = node.getModel(); // TODO Optimize\n\n      var style = model.getModel('itemStyle').getItemStyle();\n      var existsStyle = data.ensureUniqueItemVisual(node.dataIndex, 'style');\n      extend(existsStyle, style);\n    });\n  });\n}", "\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { updateCenterAndZoom } from '../../action/roamHelper';\nexport function installTreeAction(registers) {\n  registers.registerAction({\n    type: 'treeExpandAndCollapse',\n    event: 'treeExpandAndCollapse',\n    update: 'update'\n  }, function (payload, ecModel) {\n    ecModel.eachComponent({\n      mainType: 'series',\n      subType: 'tree',\n      query: payload\n    }, function (seriesModel) {\n      var dataIndex = payload.dataIndex;\n      var tree = seriesModel.getData().tree;\n      var node = tree.getNodeByDataIndex(dataIndex);\n      node.isExpand = !node.isExpand;\n    });\n  });\n  registers.registerAction({\n    type: 'treeRoam',\n    event: 'treeRoam',\n    // Here we set 'none' instead of 'update', because roam action\n    // just need to update the transform matrix without having to recalculate\n    // the layout. So don't need to go through the whole update process, such\n    // as 'dataPrcocess', 'coordSystemUpdate', 'layout' and so on.\n    update: 'none'\n  }, function (payload, ecModel) {\n    ecModel.eachComponent({\n      mainType: 'series',\n      subType: 'tree',\n      query: payload\n    }, function (seriesModel) {\n      var coordSys = seriesModel.coordinateSystem;\n      var res = updateCenterAndZoom(coordSys, payload);\n      seriesModel.setCenter && seriesModel.setCenter(res.center);\n      seriesModel.setZoom && seriesModel.setZoom(res.zoom);\n    });\n  });\n}", "\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport TreeView from './TreeView';\nimport TreeSeriesModel from './TreeSeries';\nimport treeLayout from './treeLayout';\nimport treeVisual from './treeVisual';\nimport { installTreeAction } from './treeAction';\nexport function install(registers) {\n  registers.registerChartView(TreeView);\n  registers.registerSeriesModel(TreeSeriesModel);\n  registers.registerLayout(treeLayout);\n  registers.registerVisual(treeVisual);\n  installTreeAction(registers);\n}", "\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport * as helper from '../helper/treeHelper';\n\nvar noop = function () {};\n\nvar actionTypes = ['treemapZoomToNode', 'treemapRender', 'treemapMove'];\nexport function installTreemapAction(registers) {\n  for (var i = 0; i < actionTypes.length; i++) {\n    registers.registerAction({\n      type: actionTypes[i],\n      update: 'updateView'\n    }, noop);\n  }\n\n  registers.registerAction({\n    type: 'treemapRootToNode',\n    update: 'updateView'\n  }, function (payload, ecModel) {\n    ecModel.eachComponent({\n      mainType: 'series',\n      subType: 'treemap',\n      query: payload\n    }, handleRootToNode);\n\n    function handleRootToNode(model, index) {\n      var types = ['treemapZoomToNode', 'treemapRootToNode'];\n      var targetInfo = helper.retrieveTargetInfo(payload, types, model);\n\n      if (targetInfo) {\n        var originViewRoot = model.getViewRoot();\n\n        if (originViewRoot) {\n          payload.direction = helper.aboveViewRoot(originViewRoot, targetInfo.node) ? 'rollUp' : 'drillDown';\n        }\n\n        model.resetViewRoot(targetInfo.node);\n      }\n    }\n  });\n}", "\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { getDecalFromPalette } from '../../model/mixin/palette';\nexport default function enableAriaDecalForTree(seriesModel) {\n  var data = seriesModel.getData();\n  var tree = data.tree;\n  var decalPaletteScope = {};\n  tree.eachNode(function (node) {\n    // Use decal of level 1 node\n    var current = node;\n\n    while (current && current.depth > 1) {\n      current = current.parentNode;\n    }\n\n    var decal = getDecalFromPalette(seriesModel.ecModel, current.name || current.dataIndex + '', decalPaletteScope);\n    node.setVisual('decal', decal);\n  });\n}", "\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { __extends } from \"tslib\";\nimport * as zrUtil from 'zrender/lib/core/util';\nimport SeriesModel from '../../model/Series';\nimport Tree from '../../data/Tree';\nimport Model from '../../model/Model';\nimport { wrapTreePathInfo } from '../helper/treeHelper';\nimport { normalizeToArray } from '../../util/model';\nimport { createTooltipMarkup } from '../../component/tooltip/tooltipMarkup';\nimport enableAriaDecalForTree from '../helper/enableAriaDecalForTree';\n\nvar TreemapSeriesModel =\n/** @class */\nfunction (_super) {\n  __extends(TreemapSeriesModel, _super);\n\n  function TreemapSeriesModel() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n\n    _this.type = TreemapSeriesModel.type;\n    _this.preventUsingHoverLayer = true;\n    return _this;\n  }\n  /**\n   * @override\n   */\n\n\n  TreemapSeriesModel.prototype.getInitialData = function (option, ecModel) {\n    // Create a virtual root.\n    var root = {\n      name: option.name,\n      children: option.data\n    };\n    completeTreeValue(root);\n    var levels = option.levels || []; // Used in \"visual priority\" in `treemapVisual.js`.\n    // This way is a little tricky, must satisfy the precondition:\n    //   1. There is no `treeNode.getModel('itemStyle.xxx')` used.\n    //   2. The `Model.prototype.getModel()` will not use any clone-like way.\n\n    var designatedVisualItemStyle = this.designatedVisualItemStyle = {};\n    var designatedVisualModel = new Model({\n      itemStyle: designatedVisualItemStyle\n    }, this, ecModel);\n    levels = option.levels = setDefault(levels, ecModel);\n    var levelModels = zrUtil.map(levels || [], function (levelDefine) {\n      return new Model(levelDefine, designatedVisualModel, ecModel);\n    }, this); // Make sure always a new tree is created when setOption,\n    // in TreemapView, we check whether oldTree === newTree\n    // to choose mappings approach among old shapes and new shapes.\n\n    var tree = Tree.createTree(root, this, beforeLink);\n\n    function beforeLink(nodeData) {\n      nodeData.wrapMethod('getItemModel', function (model, idx) {\n        var node = tree.getNodeByDataIndex(idx);\n        var levelModel = node ? levelModels[node.depth] : null; // If no levelModel, we also need `designatedVisualModel`.\n\n        model.parentModel = levelModel || designatedVisualModel;\n        return model;\n      });\n    }\n\n    return tree.data;\n  };\n\n  TreemapSeriesModel.prototype.optionUpdated = function () {\n    this.resetViewRoot();\n  };\n  /**\n   * @override\n   * @param {number} dataIndex\n   * @param {boolean} [mutipleSeries=false]\n   */\n\n\n  TreemapSeriesModel.prototype.formatTooltip = function (dataIndex, multipleSeries, dataType) {\n    var data = this.getData();\n    var value = this.getRawValue(dataIndex);\n    var name = data.getName(dataIndex);\n    return createTooltipMarkup('nameValue', {\n      name: name,\n      value: value\n    });\n  };\n  /**\n   * Add tree path to tooltip param\n   *\n   * @override\n   * @param {number} dataIndex\n   * @return {Object}\n   */\n\n\n  TreemapSeriesModel.prototype.getDataParams = function (dataIndex) {\n    var params = _super.prototype.getDataParams.apply(this, arguments);\n\n    var node = this.getData().tree.getNodeByDataIndex(dataIndex);\n    params.treePathInfo = wrapTreePathInfo(node, this);\n    return params;\n  };\n  /**\n   * @public\n   * @param {Object} layoutInfo {\n   *                                x: containerGroup x\n   *                                y: containerGroup y\n   *                                width: containerGroup width\n   *                                height: containerGroup height\n   *                            }\n   */\n\n\n  TreemapSeriesModel.prototype.setLayoutInfo = function (layoutInfo) {\n    /**\n     * @readOnly\n     * @type {Object}\n     */\n    this.layoutInfo = this.layoutInfo || {};\n    zrUtil.extend(this.layoutInfo, layoutInfo);\n  };\n  /**\n   * @param  {string} id\n   * @return {number} index\n   */\n\n\n  TreemapSeriesModel.prototype.mapIdToIndex = function (id) {\n    // A feature is implemented:\n    // index is monotone increasing with the sequence of\n    // input id at the first time.\n    // This feature can make sure that each data item and its\n    // mapped color have the same index between data list and\n    // color list at the beginning, which is useful for user\n    // to adjust data-color mapping.\n\n    /**\n     * @private\n     * @type {Object}\n     */\n    var idIndexMap = this._idIndexMap;\n\n    if (!idIndexMap) {\n      idIndexMap = this._idIndexMap = zrUtil.createHashMap();\n      /**\n       * @private\n       * @type {number}\n       */\n\n      this._idIndexMapCount = 0;\n    }\n\n    var index = idIndexMap.get(id);\n\n    if (index == null) {\n      idIndexMap.set(id, index = this._idIndexMapCount++);\n    }\n\n    return index;\n  };\n\n  TreemapSeriesModel.prototype.getViewRoot = function () {\n    return this._viewRoot;\n  };\n\n  TreemapSeriesModel.prototype.resetViewRoot = function (viewRoot) {\n    viewRoot ? this._viewRoot = viewRoot : viewRoot = this._viewRoot;\n    var root = this.getRawData().tree.root;\n\n    if (!viewRoot || viewRoot !== root && !root.contains(viewRoot)) {\n      this._viewRoot = root;\n    }\n  };\n\n  TreemapSeriesModel.prototype.enableAriaDecal = function () {\n    enableAriaDecalForTree(this);\n  };\n\n  TreemapSeriesModel.type = 'series.treemap';\n  TreemapSeriesModel.layoutMode = 'box';\n  TreemapSeriesModel.defaultOption = {\n    // Disable progressive rendering\n    progressive: 0,\n    // size: ['80%', '80%'],            // deprecated, compatible with ec2.\n    left: 'center',\n    top: 'middle',\n    width: '80%',\n    height: '80%',\n    sort: true,\n    clipWindow: 'origin',\n    squareRatio: 0.5 * (1 + Math.sqrt(5)),\n    leafDepth: null,\n    drillDownIcon: '\u25B6',\n    // to align specialized icon. \u25B7\u25B6\u2752\u2750\u25BC\u271A\n    zoomToNodeRatio: 0.32 * 0.32,\n    roam: true,\n    nodeClick: 'zoomToNode',\n    animation: true,\n    animationDurationUpdate: 900,\n    animationEasing: 'quinticInOut',\n    breadcrumb: {\n      show: true,\n      height: 22,\n      left: 'center',\n      top: 'bottom',\n      // right\n      // bottom\n      emptyItemWidth: 25,\n      itemStyle: {\n        color: 'rgba(0,0,0,0.7)',\n        textStyle: {\n          color: '#fff'\n        }\n      }\n    },\n    label: {\n      show: true,\n      // Do not use textDistance, for ellipsis rect just the same as treemap node rect.\n      distance: 0,\n      padding: 5,\n      position: 'inside',\n      // formatter: null,\n      color: '#fff',\n      overflow: 'truncate' // align\n      // verticalAlign\n\n    },\n    upperLabel: {\n      show: false,\n      position: [0, '50%'],\n      height: 20,\n      // formatter: null,\n      // color: '#fff',\n      overflow: 'truncate',\n      // align: null,\n      verticalAlign: 'middle'\n    },\n    itemStyle: {\n      color: null,\n      colorAlpha: null,\n      colorSaturation: null,\n      borderWidth: 0,\n      gapWidth: 0,\n      borderColor: '#fff',\n      borderColorSaturation: null // If specified, borderColor will be ineffective, and the\n      // border color is evaluated by color of current node and\n      // borderColorSaturation.\n\n    },\n    emphasis: {\n      upperLabel: {\n        show: true,\n        position: [0, '50%'],\n        ellipsis: true,\n        verticalAlign: 'middle'\n      }\n    },\n    visualDimension: 0,\n    visualMin: null,\n    visualMax: null,\n    color: [],\n    // level[n].color (if necessary).\n    // + Specify color list of each level. level[0].color would be global\n    // color list if not specified. (see method `setDefault`).\n    // + But set as a empty array to forbid fetch color from global palette\n    // when using nodeModel.get('color'), otherwise nodes on deep level\n    // will always has color palette set and are not able to inherit color\n    // from parent node.\n    // + TreemapSeries.color can not be set as 'none', otherwise effect\n    // legend color fetching (see seriesColor.js).\n    colorAlpha: null,\n    colorSaturation: null,\n    colorMappingBy: 'index',\n    visibleMin: 10,\n    // be rendered. Only works when sort is 'asc' or 'desc'.\n    childrenVisibleMin: null,\n    // grandchildren will not show.\n    // Why grandchildren? If not grandchildren but children,\n    // some siblings show children and some not,\n    // the appearance may be mess and not consistent,\n    levels: [] // Each item: {\n    //     visibleMin, itemStyle, visualDimension, label\n    // }\n    // data: {\n    //      value: [],\n    //      children: [],\n    //      link: 'http://xxx.xxx.xxx',\n    //      target: 'blank' or 'self'\n    // }\n\n  };\n  return TreemapSeriesModel;\n}(SeriesModel);\n/**\n * @param {Object} dataNode\n */\n\n\nfunction completeTreeValue(dataNode) {\n  // Postorder travel tree.\n  // If value of none-leaf node is not set,\n  // calculate it by suming up the value of all children.\n  var sum = 0;\n  zrUtil.each(dataNode.children, function (child) {\n    completeTreeValue(child);\n    var childValue = child.value;\n    zrUtil.isArray(childValue) && (childValue = childValue[0]);\n    sum += childValue;\n  });\n  var thisValue = dataNode.value;\n\n  if (zrUtil.isArray(thisValue)) {\n    thisValue = thisValue[0];\n  }\n\n  if (thisValue == null || isNaN(thisValue)) {\n    thisValue = sum;\n  } // Value should not less than 0.\n\n\n  if (thisValue < 0) {\n    thisValue = 0;\n  }\n\n  zrUtil.isArray(dataNode.value) ? dataNode.value[0] = thisValue : dataNode.value = thisValue;\n}\n/**\n * set default to level configuration\n */\n\n\nfunction setDefault(levels, ecModel) {\n  var globalColorList = normalizeToArray(ecModel.get('color'));\n  var globalDecalList = normalizeToArray(ecModel.get(['aria', 'decal', 'decals']));\n\n  if (!globalColorList) {\n    return;\n  }\n\n  levels = levels || [];\n  var hasColorDefine;\n  var hasDecalDefine;\n  zrUtil.each(levels, function (levelDefine) {\n    var model = new Model(levelDefine);\n    var modelColor = model.get('color');\n    var modelDecal = model.get('decal');\n\n    if (model.get(['itemStyle', 'color']) || modelColor && modelColor !== 'none') {\n      hasColorDefine = true;\n    }\n\n    if (model.get(['itemStyle', 'decal']) || modelDecal && modelDecal !== 'none') {\n      hasDecalDefine = true;\n    }\n  });\n  var level0 = levels[0] || (levels[0] = {});\n\n  if (!hasColorDefine) {\n    level0.color = globalColorList.slice();\n  }\n\n  if (!hasDecalDefine && globalDecalList) {\n    level0.decal = globalDecalList.slice();\n  }\n\n  return levels;\n}\n\nexport default TreemapSeriesModel;", "\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport * as graphic from '../../util/graphic';\nimport { getECData } from '../../util/innerStore';\nimport * as layout from '../../util/layout';\nimport { wrapTreePathInfo } from '../helper/treeHelper';\nimport { curry, defaults } from 'zrender/lib/core/util';\nimport { convertOptionIdName } from '../../util/model';\nimport { Z2_EMPHASIS_LIFT } from '../../util/states';\nvar TEXT_PADDING = 8;\nvar ITEM_GAP = 8;\nvar ARRAY_LENGTH = 5;\n\nvar Breadcrumb =\n/** @class */\nfunction () {\n  function Breadcrumb(containerGroup) {\n    this.group = new graphic.Group();\n    containerGroup.add(this.group);\n  }\n\n  Breadcrumb.prototype.render = function (seriesModel, api, targetNode, onSelect) {\n    var model = seriesModel.getModel('breadcrumb');\n    var thisGroup = this.group;\n    thisGroup.removeAll();\n\n    if (!model.get('show') || !targetNode) {\n      return;\n    }\n\n    var normalStyleModel = model.getModel('itemStyle'); // let emphasisStyleModel = model.getModel('emphasis.itemStyle');\n\n    var textStyleModel = normalStyleModel.getModel('textStyle');\n    var layoutParam = {\n      pos: {\n        left: model.get('left'),\n        right: model.get('right'),\n        top: model.get('top'),\n        bottom: model.get('bottom')\n      },\n      box: {\n        width: api.getWidth(),\n        height: api.getHeight()\n      },\n      emptyItemWidth: model.get('emptyItemWidth'),\n      totalWidth: 0,\n      renderList: []\n    };\n\n    this._prepare(targetNode, layoutParam, textStyleModel);\n\n    this._renderContent(seriesModel, layoutParam, normalStyleModel, textStyleModel, onSelect);\n\n    layout.positionElement(thisGroup, layoutParam.pos, layoutParam.box);\n  };\n  /**\n   * Prepare render list and total width\n   * @private\n   */\n\n\n  Breadcrumb.prototype._prepare = function (targetNode, layoutParam, textStyleModel) {\n    for (var node = targetNode; node; node = node.parentNode) {\n      var text = convertOptionIdName(node.getModel().get('name'), '');\n      var textRect = textStyleModel.getTextRect(text);\n      var itemWidth = Math.max(textRect.width + TEXT_PADDING * 2, layoutParam.emptyItemWidth);\n      layoutParam.totalWidth += itemWidth + ITEM_GAP;\n      layoutParam.renderList.push({\n        node: node,\n        text: text,\n        width: itemWidth\n      });\n    }\n  };\n  /**\n   * @private\n   */\n\n\n  Breadcrumb.prototype._renderContent = function (seriesModel, layoutParam, normalStyleModel, textStyleModel, onSelect) {\n    // Start rendering.\n    var lastX = 0;\n    var emptyItemWidth = layoutParam.emptyItemWidth;\n    var height = seriesModel.get(['breadcrumb', 'height']);\n    var availableSize = layout.getAvailableSize(layoutParam.pos, layoutParam.box);\n    var totalWidth = layoutParam.totalWidth;\n    var renderList = layoutParam.renderList;\n\n    for (var i = renderList.length - 1; i >= 0; i--) {\n      var item = renderList[i];\n      var itemNode = item.node;\n      var itemWidth = item.width;\n      var text = item.text; // Hdie text and shorten width if necessary.\n\n      if (totalWidth > availableSize.width) {\n        totalWidth -= itemWidth - emptyItemWidth;\n        itemWidth = emptyItemWidth;\n        text = null;\n      }\n\n      var el = new graphic.Polygon({\n        shape: {\n          points: makeItemPoints(lastX, 0, itemWidth, height, i === renderList.length - 1, i === 0)\n        },\n        style: defaults(normalStyleModel.getItemStyle(), {\n          lineJoin: 'bevel'\n        }),\n        textContent: new graphic.Text({\n          style: {\n            text: text,\n            fill: textStyleModel.getTextColor(),\n            font: textStyleModel.getFont()\n          }\n        }),\n        textConfig: {\n          position: 'inside'\n        },\n        z2: Z2_EMPHASIS_LIFT * 1e4,\n        onclick: curry(onSelect, itemNode)\n      });\n      el.disableLabelAnimation = true;\n      this.group.add(el);\n      packEventData(el, seriesModel, itemNode);\n      lastX += itemWidth + ITEM_GAP;\n    }\n  };\n\n  Breadcrumb.prototype.remove = function () {\n    this.group.removeAll();\n  };\n\n  return Breadcrumb;\n}();\n\nfunction makeItemPoints(x, y, itemWidth, itemHeight, head, tail) {\n  var points = [[head ? x : x - ARRAY_LENGTH, y], [x + itemWidth, y], [x + itemWidth, y + itemHeight], [head ? x : x - ARRAY_LENGTH, y + itemHeight]];\n  !tail && points.splice(2, 0, [x + itemWidth + ARRAY_LENGTH, y + itemHeight / 2]);\n  !head && points.push([x, y + itemHeight / 2]);\n  return points;\n} // Package custom mouse event.\n\n\nfunction packEventData(el, seriesModel, itemNode) {\n  getECData(el).eventData = {\n    componentType: 'series',\n    componentSubType: 'treemap',\n    componentIndex: seriesModel.componentIndex,\n    seriesIndex: seriesModel.componentIndex,\n    seriesName: seriesModel.name,\n    seriesType: 'treemap',\n    selfType: 'breadcrumb',\n    nodeData: {\n      dataIndex: itemNode && itemNode.dataIndex,\n      name: itemNode && itemNode.name\n    },\n    treePathInfo: itemNode && wrapTreePathInfo(itemNode, seriesModel)\n  };\n}\n\nexport default Breadcrumb;", "\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n/**\n * Animate multiple elements with a single done-callback.\n *\n * @example\n *  animation\n *      .createWrap()\n *      .add(el1, {x: 10, y: 10})\n *      .add(el2, {shape: {width: 500}, style: {fill: 'red'}}, 400)\n *      .done(function () { // done })\n *      .start('cubicOut');\n */\nvar AnimationWrap =\n/** @class */\nfunction () {\n  function AnimationWrap() {\n    this._storage = [];\n    this._elExistsMap = {};\n  }\n  /**\n   * Caution: a el can only be added once, otherwise 'done'\n   * might not be called. This method checks this (by el.id),\n   * suppresses adding and returns false when existing el found.\n   *\n   * @return Whether adding succeeded.\n   */\n\n\n  AnimationWrap.prototype.add = function (el, target, duration, delay, easing) {\n    if (this._elExistsMap[el.id]) {\n      return false;\n    }\n\n    this._elExistsMap[el.id] = true;\n\n    this._storage.push({\n      el: el,\n      target: target,\n      duration: duration,\n      delay: delay,\n      easing: easing\n    });\n\n    return true;\n  };\n  /**\n   * Only execute when animation done/aborted.\n   */\n\n\n  AnimationWrap.prototype.finished = function (callback) {\n    this._finishedCallback = callback;\n    return this;\n  };\n  /**\n   * Will stop exist animation firstly.\n   */\n\n\n  AnimationWrap.prototype.start = function () {\n    var _this = this;\n\n    var count = this._storage.length;\n\n    var checkTerminate = function () {\n      count--;\n\n      if (count <= 0) {\n        // Guard.\n        _this._storage.length = 0;\n        _this._elExistsMap = {};\n        _this._finishedCallback && _this._finishedCallback();\n      }\n    };\n\n    for (var i = 0, len = this._storage.length; i < len; i++) {\n      var item = this._storage[i];\n      item.el.animateTo(item.target, {\n        duration: item.duration,\n        delay: item.delay,\n        easing: item.easing,\n        setToFinal: true,\n        done: checkTerminate,\n        aborted: checkTerminate\n      });\n    }\n\n    return this;\n  };\n\n  return AnimationWrap;\n}();\n\nexport function createWrap() {\n  return new AnimationWrap();\n}", "\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { __extends } from \"tslib\";\nimport { bind, each, indexOf, curry, extend, normalizeCssArray, isFunction } from 'zrender/lib/core/util';\nimport * as graphic from '../../util/graphic';\nimport { getECData } from '../../util/innerStore';\nimport { isHighDownDispatcher, setAsHighDownDispatcher, setDefaultStateProxy, enableHoverFocus, Z2_EMPHASIS_LIFT } from '../../util/states';\nimport DataDiffer from '../../data/DataDiffer';\nimport * as helper from '../helper/treeHelper';\nimport Breadcrumb from './Breadcrumb';\nimport RoamController from '../../component/helper/RoamController';\nimport BoundingRect from 'zrender/lib/core/BoundingRect';\nimport * as matrix from 'zrender/lib/core/matrix';\nimport * as animationUtil from '../../util/animation';\nimport makeStyleMapper from '../../model/mixin/makeStyleMapper';\nimport ChartView from '../../view/Chart';\nimport Displayable from 'zrender/lib/graphic/Displayable';\nimport { makeInner, convertOptionIdName } from '../../util/model';\nimport { windowOpen } from '../../util/format';\nimport { setLabelStyle, getLabelStatesModels } from '../../label/labelStyle';\nvar Group = graphic.Group;\nvar Rect = graphic.Rect;\nvar DRAG_THRESHOLD = 3;\nvar PATH_LABEL_NOAMAL = 'label';\nvar PATH_UPPERLABEL_NORMAL = 'upperLabel'; // Should larger than emphasis states lift z\n\nvar Z2_BASE = Z2_EMPHASIS_LIFT * 10; // Should bigger than every z2.\n\nvar Z2_BG = Z2_EMPHASIS_LIFT * 2;\nvar Z2_CONTENT = Z2_EMPHASIS_LIFT * 3;\nvar getStateItemStyle = makeStyleMapper([['fill', 'color'], // `borderColor` and `borderWidth` has been occupied,\n// so use `stroke` to indicate the stroke of the rect.\n['stroke', 'strokeColor'], ['lineWidth', 'strokeWidth'], ['shadowBlur'], ['shadowOffsetX'], ['shadowOffsetY'], ['shadowColor'] // Option decal is in `DecalObject` but style.decal is in `PatternObject`.\n// So do not transfer decal directly.\n]);\n\nvar getItemStyleNormal = function (model) {\n  // Normal style props should include emphasis style props.\n  var itemStyle = getStateItemStyle(model); // Clear styles set by emphasis.\n\n  itemStyle.stroke = itemStyle.fill = itemStyle.lineWidth = null;\n  return itemStyle;\n};\n\nvar inner = makeInner();\n\nvar TreemapView =\n/** @class */\nfunction (_super) {\n  __extends(TreemapView, _super);\n\n  function TreemapView() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n\n    _this.type = TreemapView.type;\n    _this._state = 'ready';\n    _this._storage = createStorage();\n    return _this;\n  }\n  /**\n   * @override\n   */\n\n\n  TreemapView.prototype.render = function (seriesModel, ecModel, api, payload) {\n    var models = ecModel.findComponents({\n      mainType: 'series',\n      subType: 'treemap',\n      query: payload\n    });\n\n    if (indexOf(models, seriesModel) < 0) {\n      return;\n    }\n\n    this.seriesModel = seriesModel;\n    this.api = api;\n    this.ecModel = ecModel;\n    var types = ['treemapZoomToNode', 'treemapRootToNode'];\n    var targetInfo = helper.retrieveTargetInfo(payload, types, seriesModel);\n    var payloadType = payload && payload.type;\n    var layoutInfo = seriesModel.layoutInfo;\n    var isInit = !this._oldTree;\n    var thisStorage = this._storage; // Mark new root when action is treemapRootToNode.\n\n    var reRoot = payloadType === 'treemapRootToNode' && targetInfo && thisStorage ? {\n      rootNodeGroup: thisStorage.nodeGroup[targetInfo.node.getRawIndex()],\n      direction: payload.direction\n    } : null;\n\n    var containerGroup = this._giveContainerGroup(layoutInfo);\n\n    var renderResult = this._doRender(containerGroup, seriesModel, reRoot);\n\n    !isInit && (!payloadType || payloadType === 'treemapZoomToNode' || payloadType === 'treemapRootToNode') ? this._doAnimation(containerGroup, renderResult, seriesModel, reRoot) : renderResult.renderFinally();\n\n    this._resetController(api);\n\n    this._renderBreadcrumb(seriesModel, api, targetInfo);\n  };\n\n  TreemapView.prototype._giveContainerGroup = function (layoutInfo) {\n    var containerGroup = this._containerGroup;\n\n    if (!containerGroup) {\n      // FIXME\n      // \u52A0\u4E00\u5C42containerGroup\u662F\u4E3A\u4E86clip\uFF0C\u4F46\u662F\u73B0\u5728clip\u529F\u80FD\u5E76\u6CA1\u6709\u5B9E\u73B0\u3002\n      containerGroup = this._containerGroup = new Group();\n\n      this._initEvents(containerGroup);\n\n      this.group.add(containerGroup);\n    }\n\n    containerGroup.x = layoutInfo.x;\n    containerGroup.y = layoutInfo.y;\n    return containerGroup;\n  };\n\n  TreemapView.prototype._doRender = function (containerGroup, seriesModel, reRoot) {\n    var thisTree = seriesModel.getData().tree;\n    var oldTree = this._oldTree; // Clear last shape records.\n\n    var lastsForAnimation = createStorage();\n    var thisStorage = createStorage();\n    var oldStorage = this._storage;\n    var willInvisibleEls = [];\n\n    function doRenderNode(thisNode, oldNode, parentGroup, depth) {\n      return renderNode(seriesModel, thisStorage, oldStorage, reRoot, lastsForAnimation, willInvisibleEls, thisNode, oldNode, parentGroup, depth);\n    } // Notice: when thisTree and oldTree are the same tree (see list.cloneShallow),\n    // the oldTree is actually losted, so we can not find all of the old graphic\n    // elements from tree. So we use this stragegy: make element storage, move\n    // from old storage to new storage, clear old storage.\n\n\n    dualTravel(thisTree.root ? [thisTree.root] : [], oldTree && oldTree.root ? [oldTree.root] : [], containerGroup, thisTree === oldTree || !oldTree, 0); // Process all removing.\n\n    var willDeleteEls = clearStorage(oldStorage);\n    this._oldTree = thisTree;\n    this._storage = thisStorage;\n    return {\n      lastsForAnimation: lastsForAnimation,\n      willDeleteEls: willDeleteEls,\n      renderFinally: renderFinally\n    };\n\n    function dualTravel(thisViewChildren, oldViewChildren, parentGroup, sameTree, depth) {\n      // When 'render' is triggered by action,\n      // 'this' and 'old' may be the same tree,\n      // we use rawIndex in that case.\n      if (sameTree) {\n        oldViewChildren = thisViewChildren;\n        each(thisViewChildren, function (child, index) {\n          !child.isRemoved() && processNode(index, index);\n        });\n      } // Diff hierarchically (diff only in each subtree, but not whole).\n      // because, consistency of view is important.\n      else {\n          new DataDiffer(oldViewChildren, thisViewChildren, getKey, getKey).add(processNode).update(processNode).remove(curry(processNode, null)).execute();\n        }\n\n      function getKey(node) {\n        // Identify by name or raw index.\n        return node.getId();\n      }\n\n      function processNode(newIndex, oldIndex) {\n        var thisNode = newIndex != null ? thisViewChildren[newIndex] : null;\n        var oldNode = oldIndex != null ? oldViewChildren[oldIndex] : null;\n        var group = doRenderNode(thisNode, oldNode, parentGroup, depth);\n        group && dualTravel(thisNode && thisNode.viewChildren || [], oldNode && oldNode.viewChildren || [], group, sameTree, depth + 1);\n      }\n    }\n\n    function clearStorage(storage) {\n      var willDeleteEls = createStorage();\n      storage && each(storage, function (store, storageName) {\n        var delEls = willDeleteEls[storageName];\n        each(store, function (el) {\n          el && (delEls.push(el), inner(el).willDelete = true);\n        });\n      });\n      return willDeleteEls;\n    }\n\n    function renderFinally() {\n      each(willDeleteEls, function (els) {\n        each(els, function (el) {\n          el.parent && el.parent.remove(el);\n        });\n      });\n      each(willInvisibleEls, function (el) {\n        el.invisible = true; // Setting invisible is for optimizing, so no need to set dirty,\n        // just mark as invisible.\n\n        el.dirty();\n      });\n    }\n  };\n\n  TreemapView.prototype._doAnimation = function (containerGroup, renderResult, seriesModel, reRoot) {\n    if (!seriesModel.get('animation')) {\n      return;\n    }\n\n    var durationOption = seriesModel.get('animationDurationUpdate');\n    var easingOption = seriesModel.get('animationEasing'); // TODO: do not support function until necessary.\n\n    var duration = (isFunction(durationOption) ? 0 : durationOption) || 0;\n    var easing = (isFunction(easingOption) ? null : easingOption) || 'cubicOut';\n    var animationWrap = animationUtil.createWrap(); // Make delete animations.\n\n    each(renderResult.willDeleteEls, function (store, storageName) {\n      each(store, function (el, rawIndex) {\n        if (el.invisible) {\n          return;\n        }\n\n        var parent = el.parent; // Always has parent, and parent is nodeGroup.\n\n        var target;\n        var innerStore = inner(parent);\n\n        if (reRoot && reRoot.direction === 'drillDown') {\n          target = parent === reRoot.rootNodeGroup // This is the content element of view root.\n          // Only `content` will enter this branch, because\n          // `background` and `nodeGroup` will not be deleted.\n          ? {\n            shape: {\n              x: 0,\n              y: 0,\n              width: innerStore.nodeWidth,\n              height: innerStore.nodeHeight\n            },\n            style: {\n              opacity: 0\n            }\n          } // Others.\n          : {\n            style: {\n              opacity: 0\n            }\n          };\n        } else {\n          var targetX = 0;\n          var targetY = 0;\n\n          if (!innerStore.willDelete) {\n            // Let node animate to right-bottom corner, cooperating with fadeout,\n            // which is appropriate for user understanding.\n            // Divided by 2 for reRoot rolling up effect.\n            targetX = innerStore.nodeWidth / 2;\n            targetY = innerStore.nodeHeight / 2;\n          }\n\n          target = storageName === 'nodeGroup' ? {\n            x: targetX,\n            y: targetY,\n            style: {\n              opacity: 0\n            }\n          } : {\n            shape: {\n              x: targetX,\n              y: targetY,\n              width: 0,\n              height: 0\n            },\n            style: {\n              opacity: 0\n            }\n          };\n        } // TODO: do not support delay until necessary.\n\n\n        target && animationWrap.add(el, target, duration, 0, easing);\n      });\n    }); // Make other animations\n\n    each(this._storage, function (store, storageName) {\n      each(store, function (el, rawIndex) {\n        var last = renderResult.lastsForAnimation[storageName][rawIndex];\n        var target = {};\n\n        if (!last) {\n          return;\n        }\n\n        if (el instanceof graphic.Group) {\n          if (last.oldX != null) {\n            target.x = el.x;\n            target.y = el.y;\n            el.x = last.oldX;\n            el.y = last.oldY;\n          }\n        } else {\n          if (last.oldShape) {\n            target.shape = extend({}, el.shape);\n            el.setShape(last.oldShape);\n          }\n\n          if (last.fadein) {\n            el.setStyle('opacity', 0);\n            target.style = {\n              opacity: 1\n            };\n          } // When animation is stopped for succedent animation starting,\n          // el.style.opacity might not be 1\n          else if (el.style.opacity !== 1) {\n              target.style = {\n                opacity: 1\n              };\n            }\n        }\n\n        animationWrap.add(el, target, duration, 0, easing);\n      });\n    }, this);\n    this._state = 'animating';\n    animationWrap.finished(bind(function () {\n      this._state = 'ready';\n      renderResult.renderFinally();\n    }, this)).start();\n  };\n\n  TreemapView.prototype._resetController = function (api) {\n    var controller = this._controller; // Init controller.\n\n    if (!controller) {\n      controller = this._controller = new RoamController(api.getZr());\n      controller.enable(this.seriesModel.get('roam'));\n      controller.on('pan', bind(this._onPan, this));\n      controller.on('zoom', bind(this._onZoom, this));\n    }\n\n    var rect = new BoundingRect(0, 0, api.getWidth(), api.getHeight());\n    controller.setPointerChecker(function (e, x, y) {\n      return rect.contain(x, y);\n    });\n  };\n\n  TreemapView.prototype._clearController = function () {\n    var controller = this._controller;\n\n    if (controller) {\n      controller.dispose();\n      controller = null;\n    }\n  };\n\n  TreemapView.prototype._onPan = function (e) {\n    if (this._state !== 'animating' && (Math.abs(e.dx) > DRAG_THRESHOLD || Math.abs(e.dy) > DRAG_THRESHOLD)) {\n      // These param must not be cached.\n      var root = this.seriesModel.getData().tree.root;\n\n      if (!root) {\n        return;\n      }\n\n      var rootLayout = root.getLayout();\n\n      if (!rootLayout) {\n        return;\n      }\n\n      this.api.dispatchAction({\n        type: 'treemapMove',\n        from: this.uid,\n        seriesId: this.seriesModel.id,\n        rootRect: {\n          x: rootLayout.x + e.dx,\n          y: rootLayout.y + e.dy,\n          width: rootLayout.width,\n          height: rootLayout.height\n        }\n      });\n    }\n  };\n\n  TreemapView.prototype._onZoom = function (e) {\n    var mouseX = e.originX;\n    var mouseY = e.originY;\n\n    if (this._state !== 'animating') {\n      // These param must not be cached.\n      var root = this.seriesModel.getData().tree.root;\n\n      if (!root) {\n        return;\n      }\n\n      var rootLayout = root.getLayout();\n\n      if (!rootLayout) {\n        return;\n      }\n\n      var rect = new BoundingRect(rootLayout.x, rootLayout.y, rootLayout.width, rootLayout.height);\n      var layoutInfo = this.seriesModel.layoutInfo; // Transform mouse coord from global to containerGroup.\n\n      mouseX -= layoutInfo.x;\n      mouseY -= layoutInfo.y; // Scale root bounding rect.\n\n      var m = matrix.create();\n      matrix.translate(m, m, [-mouseX, -mouseY]);\n      matrix.scale(m, m, [e.scale, e.scale]);\n      matrix.translate(m, m, [mouseX, mouseY]);\n      rect.applyTransform(m);\n      this.api.dispatchAction({\n        type: 'treemapRender',\n        from: this.uid,\n        seriesId: this.seriesModel.id,\n        rootRect: {\n          x: rect.x,\n          y: rect.y,\n          width: rect.width,\n          height: rect.height\n        }\n      });\n    }\n  };\n\n  TreemapView.prototype._initEvents = function (containerGroup) {\n    var _this = this;\n\n    containerGroup.on('click', function (e) {\n      if (_this._state !== 'ready') {\n        return;\n      }\n\n      var nodeClick = _this.seriesModel.get('nodeClick', true);\n\n      if (!nodeClick) {\n        return;\n      }\n\n      var targetInfo = _this.findTarget(e.offsetX, e.offsetY);\n\n      if (!targetInfo) {\n        return;\n      }\n\n      var node = targetInfo.node;\n\n      if (node.getLayout().isLeafRoot) {\n        _this._rootToNode(targetInfo);\n      } else {\n        if (nodeClick === 'zoomToNode') {\n          _this._zoomToNode(targetInfo);\n        } else if (nodeClick === 'link') {\n          var itemModel = node.hostTree.data.getItemModel(node.dataIndex);\n          var link = itemModel.get('link', true);\n          var linkTarget = itemModel.get('target', true) || 'blank';\n          link && windowOpen(link, linkTarget);\n        }\n      }\n    }, this);\n  };\n\n  TreemapView.prototype._renderBreadcrumb = function (seriesModel, api, targetInfo) {\n    var _this = this;\n\n    if (!targetInfo) {\n      targetInfo = seriesModel.get('leafDepth', true) != null ? {\n        node: seriesModel.getViewRoot()\n      } // FIXME\n      // better way?\n      // Find breadcrumb tail on center of containerGroup.\n      : this.findTarget(api.getWidth() / 2, api.getHeight() / 2);\n\n      if (!targetInfo) {\n        targetInfo = {\n          node: seriesModel.getData().tree.root\n        };\n      }\n    }\n\n    (this._breadcrumb || (this._breadcrumb = new Breadcrumb(this.group))).render(seriesModel, api, targetInfo.node, function (node) {\n      if (_this._state !== 'animating') {\n        helper.aboveViewRoot(seriesModel.getViewRoot(), node) ? _this._rootToNode({\n          node: node\n        }) : _this._zoomToNode({\n          node: node\n        });\n      }\n    });\n  };\n  /**\n   * @override\n   */\n\n\n  TreemapView.prototype.remove = function () {\n    this._clearController();\n\n    this._containerGroup && this._containerGroup.removeAll();\n    this._storage = createStorage();\n    this._state = 'ready';\n    this._breadcrumb && this._breadcrumb.remove();\n  };\n\n  TreemapView.prototype.dispose = function () {\n    this._clearController();\n  };\n\n  TreemapView.prototype._zoomToNode = function (targetInfo) {\n    this.api.dispatchAction({\n      type: 'treemapZoomToNode',\n      from: this.uid,\n      seriesId: this.seriesModel.id,\n      targetNode: targetInfo.node\n    });\n  };\n\n  TreemapView.prototype._rootToNode = function (targetInfo) {\n    this.api.dispatchAction({\n      type: 'treemapRootToNode',\n      from: this.uid,\n      seriesId: this.seriesModel.id,\n      targetNode: targetInfo.node\n    });\n  };\n  /**\n   * @public\n   * @param {number} x Global coord x.\n   * @param {number} y Global coord y.\n   * @return {Object} info If not found, return undefined;\n   * @return {number} info.node Target node.\n   * @return {number} info.offsetX x refer to target node.\n   * @return {number} info.offsetY y refer to target node.\n   */\n\n\n  TreemapView.prototype.findTarget = function (x, y) {\n    var targetInfo;\n    var viewRoot = this.seriesModel.getViewRoot();\n    viewRoot.eachNode({\n      attr: 'viewChildren',\n      order: 'preorder'\n    }, function (node) {\n      var bgEl = this._storage.background[node.getRawIndex()]; // If invisible, there might be no element.\n\n\n      if (bgEl) {\n        var point = bgEl.transformCoordToLocal(x, y);\n        var shape = bgEl.shape; // For performance consideration, dont use 'getBoundingRect'.\n\n        if (shape.x <= point[0] && point[0] <= shape.x + shape.width && shape.y <= point[1] && point[1] <= shape.y + shape.height) {\n          targetInfo = {\n            node: node,\n            offsetX: point[0],\n            offsetY: point[1]\n          };\n        } else {\n          return false; // Suppress visit subtree.\n        }\n      }\n    }, this);\n    return targetInfo;\n  };\n\n  TreemapView.type = 'treemap';\n  return TreemapView;\n}(ChartView);\n/**\n * @inner\n */\n\n\nfunction createStorage() {\n  return {\n    nodeGroup: [],\n    background: [],\n    content: []\n  };\n}\n/**\n * @inner\n * @return Return undefined means do not travel further.\n */\n\n\nfunction renderNode(seriesModel, thisStorage, oldStorage, reRoot, lastsForAnimation, willInvisibleEls, thisNode, oldNode, parentGroup, depth) {\n  // Whether under viewRoot.\n  if (!thisNode) {\n    // Deleting nodes will be performed finally. This method just find\n    // element from old storage, or create new element, set them to new\n    // storage, and set styles.\n    return;\n  } // -------------------------------------------------------------------\n  // Start of closure variables available in \"Procedures in renderNode\".\n\n\n  var thisLayout = thisNode.getLayout();\n  var data = seriesModel.getData();\n  var nodeModel = thisNode.getModel(); // Only for enabling highlight/downplay. Clear firstly.\n  // Because some node will not be rendered.\n\n  data.setItemGraphicEl(thisNode.dataIndex, null);\n\n  if (!thisLayout || !thisLayout.isInView) {\n    return;\n  }\n\n  var thisWidth = thisLayout.width;\n  var thisHeight = thisLayout.height;\n  var borderWidth = thisLayout.borderWidth;\n  var thisInvisible = thisLayout.invisible;\n  var thisRawIndex = thisNode.getRawIndex();\n  var oldRawIndex = oldNode && oldNode.getRawIndex();\n  var thisViewChildren = thisNode.viewChildren;\n  var upperHeight = thisLayout.upperHeight;\n  var isParent = thisViewChildren && thisViewChildren.length;\n  var itemStyleNormalModel = nodeModel.getModel('itemStyle');\n  var itemStyleEmphasisModel = nodeModel.getModel(['emphasis', 'itemStyle']);\n  var itemStyleBlurModel = nodeModel.getModel(['blur', 'itemStyle']);\n  var itemStyleSelectModel = nodeModel.getModel(['select', 'itemStyle']);\n  var borderRadius = itemStyleNormalModel.get('borderRadius') || 0; // End of closure ariables available in \"Procedures in renderNode\".\n  // -----------------------------------------------------------------\n  // Node group\n\n  var group = giveGraphic('nodeGroup', Group);\n\n  if (!group) {\n    return;\n  }\n\n  parentGroup.add(group); // x,y are not set when el is above view root.\n\n  group.x = thisLayout.x || 0;\n  group.y = thisLayout.y || 0;\n  group.markRedraw();\n  inner(group).nodeWidth = thisWidth;\n  inner(group).nodeHeight = thisHeight;\n\n  if (thisLayout.isAboveViewRoot) {\n    return group;\n  } // Background\n\n\n  var bg = giveGraphic('background', Rect, depth, Z2_BG);\n  bg && renderBackground(group, bg, isParent && thisLayout.upperLabelHeight);\n  var focus = nodeModel.get(['emphasis', 'focus']);\n  var blurScope = nodeModel.get(['emphasis', 'blurScope']);\n  var focusOrIndices = focus === 'ancestor' ? thisNode.getAncestorsIndices() : focus === 'descendant' ? thisNode.getDescendantIndices() : focus; // No children, render content.\n\n  if (isParent) {\n    // Because of the implementation about \"traverse\" in graphic hover style, we\n    // can not set hover listener on the \"group\" of non-leaf node. Otherwise the\n    // hover event from the descendents will be listenered.\n    if (isHighDownDispatcher(group)) {\n      setAsHighDownDispatcher(group, false);\n    }\n\n    if (bg) {\n      setAsHighDownDispatcher(bg, true); // Only for enabling highlight/downplay.\n\n      data.setItemGraphicEl(thisNode.dataIndex, bg);\n      enableHoverFocus(bg, focusOrIndices, blurScope);\n    }\n  } else {\n    var content = giveGraphic('content', Rect, depth, Z2_CONTENT);\n    content && renderContent(group, content);\n\n    if (bg && isHighDownDispatcher(bg)) {\n      setAsHighDownDispatcher(bg, false);\n    }\n\n    setAsHighDownDispatcher(group, true); // Only for enabling highlight/downplay.\n\n    data.setItemGraphicEl(thisNode.dataIndex, group);\n    enableHoverFocus(group, focusOrIndices, blurScope);\n  }\n\n  return group; // ----------------------------\n  // | Procedures in renderNode |\n  // ----------------------------\n\n  function renderBackground(group, bg, useUpperLabel) {\n    var ecData = getECData(bg); // For tooltip.\n\n    ecData.dataIndex = thisNode.dataIndex;\n    ecData.seriesIndex = seriesModel.seriesIndex;\n    bg.setShape({\n      x: 0,\n      y: 0,\n      width: thisWidth,\n      height: thisHeight,\n      r: borderRadius\n    });\n\n    if (thisInvisible) {\n      // If invisible, do not set visual, otherwise the element will\n      // change immediately before animation. We think it is OK to\n      // remain its origin color when moving out of the view window.\n      processInvisible(bg);\n    } else {\n      bg.invisible = false;\n      var style = thisNode.getVisual('style');\n      var visualBorderColor = style.stroke;\n      var normalStyle = getItemStyleNormal(itemStyleNormalModel);\n      normalStyle.fill = visualBorderColor;\n      var emphasisStyle = getStateItemStyle(itemStyleEmphasisModel);\n      emphasisStyle.fill = itemStyleEmphasisModel.get('borderColor');\n      var blurStyle = getStateItemStyle(itemStyleBlurModel);\n      blurStyle.fill = itemStyleBlurModel.get('borderColor');\n      var selectStyle = getStateItemStyle(itemStyleSelectModel);\n      selectStyle.fill = itemStyleSelectModel.get('borderColor');\n\n      if (useUpperLabel) {\n        var upperLabelWidth = thisWidth - 2 * borderWidth;\n        prepareText( // PENDING: convert ZRColor to ColorString for text.\n        bg, visualBorderColor, style.opacity, {\n          x: borderWidth,\n          y: 0,\n          width: upperLabelWidth,\n          height: upperHeight\n        });\n      } // For old bg.\n      else {\n          bg.removeTextContent();\n        }\n\n      bg.setStyle(normalStyle);\n      bg.ensureState('emphasis').style = emphasisStyle;\n      bg.ensureState('blur').style = blurStyle;\n      bg.ensureState('select').style = selectStyle;\n      setDefaultStateProxy(bg);\n    }\n\n    group.add(bg);\n  }\n\n  function renderContent(group, content) {\n    var ecData = getECData(content); // For tooltip.\n\n    ecData.dataIndex = thisNode.dataIndex;\n    ecData.seriesIndex = seriesModel.seriesIndex;\n    var contentWidth = Math.max(thisWidth - 2 * borderWidth, 0);\n    var contentHeight = Math.max(thisHeight - 2 * borderWidth, 0);\n    content.culling = true;\n    content.setShape({\n      x: borderWidth,\n      y: borderWidth,\n      width: contentWidth,\n      height: contentHeight,\n      r: borderRadius\n    });\n\n    if (thisInvisible) {\n      // If invisible, do not set visual, otherwise the element will\n      // change immediately before animation. We think it is OK to\n      // remain its origin color when moving out of the view window.\n      processInvisible(content);\n    } else {\n      content.invisible = false;\n      var nodeStyle = thisNode.getVisual('style');\n      var visualColor = nodeStyle.fill;\n      var normalStyle = getItemStyleNormal(itemStyleNormalModel);\n      normalStyle.fill = visualColor;\n      normalStyle.decal = nodeStyle.decal;\n      var emphasisStyle = getStateItemStyle(itemStyleEmphasisModel);\n      var blurStyle = getStateItemStyle(itemStyleBlurModel);\n      var selectStyle = getStateItemStyle(itemStyleSelectModel); // PENDING: convert ZRColor to ColorString for text.\n\n      prepareText(content, visualColor, nodeStyle.opacity, null);\n      content.setStyle(normalStyle);\n      content.ensureState('emphasis').style = emphasisStyle;\n      content.ensureState('blur').style = blurStyle;\n      content.ensureState('select').style = selectStyle;\n      setDefaultStateProxy(content);\n    }\n\n    group.add(content);\n  }\n\n  function processInvisible(element) {\n    // Delay invisible setting utill animation finished,\n    // avoid element vanish suddenly before animation.\n    !element.invisible && willInvisibleEls.push(element);\n  }\n\n  function prepareText(rectEl, visualColor, visualOpacity, // Can be null/undefined\n  upperLabelRect) {\n    var normalLabelModel = nodeModel.getModel(upperLabelRect ? PATH_UPPERLABEL_NORMAL : PATH_LABEL_NOAMAL);\n    var defaultText = convertOptionIdName(nodeModel.get('name'), null);\n    var isShow = normalLabelModel.getShallow('show');\n    setLabelStyle(rectEl, getLabelStatesModels(nodeModel, upperLabelRect ? PATH_UPPERLABEL_NORMAL : PATH_LABEL_NOAMAL), {\n      defaultText: isShow ? defaultText : null,\n      inheritColor: visualColor,\n      defaultOpacity: visualOpacity,\n      labelFetcher: seriesModel,\n      labelDataIndex: thisNode.dataIndex\n    });\n    var textEl = rectEl.getTextContent();\n    var textStyle = textEl.style;\n    var textPadding = normalizeCssArray(textStyle.padding || 0);\n\n    if (upperLabelRect) {\n      rectEl.setTextConfig({\n        layoutRect: upperLabelRect\n      });\n      textEl.disableLabelLayout = true;\n    }\n\n    textEl.beforeUpdate = function () {\n      var width = Math.max((upperLabelRect ? upperLabelRect.width : rectEl.shape.width) - textPadding[1] - textPadding[3], 0);\n      var height = Math.max((upperLabelRect ? upperLabelRect.height : rectEl.shape.height) - textPadding[0] - textPadding[2], 0);\n\n      if (textStyle.width !== width || textStyle.height !== height) {\n        textEl.setStyle({\n          width: width,\n          height: height\n        });\n      }\n    };\n\n    textStyle.truncateMinChar = 2;\n    textStyle.lineOverflow = 'truncate';\n    addDrillDownIcon(textStyle, upperLabelRect, thisLayout);\n    var textEmphasisState = textEl.getState('emphasis');\n    addDrillDownIcon(textEmphasisState ? textEmphasisState.style : null, upperLabelRect, thisLayout);\n  }\n\n  function addDrillDownIcon(style, upperLabelRect, thisLayout) {\n    var text = style ? style.text : null;\n\n    if (!upperLabelRect && thisLayout.isLeafRoot && text != null) {\n      var iconChar = seriesModel.get('drillDownIcon', true);\n      style.text = iconChar ? iconChar + ' ' + text : text;\n    }\n  }\n\n  function giveGraphic(storageName, Ctor, depth, z) {\n    var element = oldRawIndex != null && oldStorage[storageName][oldRawIndex];\n    var lasts = lastsForAnimation[storageName];\n\n    if (element) {\n      // Remove from oldStorage\n      oldStorage[storageName][oldRawIndex] = null;\n      prepareAnimationWhenHasOld(lasts, element);\n    } // If invisible and no old element, do not create new element (for optimizing).\n    else if (!thisInvisible) {\n        element = new Ctor();\n\n        if (element instanceof Displayable) {\n          element.z2 = calculateZ2(depth, z);\n        }\n\n        prepareAnimationWhenNoOld(lasts, element);\n      } // Set to thisStorage\n\n\n    return thisStorage[storageName][thisRawIndex] = element;\n  }\n\n  function prepareAnimationWhenHasOld(lasts, element) {\n    var lastCfg = lasts[thisRawIndex] = {};\n\n    if (element instanceof Group) {\n      lastCfg.oldX = element.x;\n      lastCfg.oldY = element.y;\n    } else {\n      lastCfg.oldShape = extend({}, element.shape);\n    }\n  } // If a element is new, we need to find the animation start point carefully,\n  // otherwise it will looks strange when 'zoomToNode'.\n\n\n  function prepareAnimationWhenNoOld(lasts, element) {\n    var lastCfg = lasts[thisRawIndex] = {};\n    var parentNode = thisNode.parentNode;\n    var isGroup = element instanceof graphic.Group;\n\n    if (parentNode && (!reRoot || reRoot.direction === 'drillDown')) {\n      var parentOldX = 0;\n      var parentOldY = 0; // New nodes appear from right-bottom corner in 'zoomToNode' animation.\n      // For convenience, get old bounding rect from background.\n\n      var parentOldBg = lastsForAnimation.background[parentNode.getRawIndex()];\n\n      if (!reRoot && parentOldBg && parentOldBg.oldShape) {\n        parentOldX = parentOldBg.oldShape.width;\n        parentOldY = parentOldBg.oldShape.height;\n      } // When no parent old shape found, its parent is new too,\n      // so we can just use {x:0, y:0}.\n\n\n      if (isGroup) {\n        lastCfg.oldX = 0;\n        lastCfg.oldY = parentOldY;\n      } else {\n        lastCfg.oldShape = {\n          x: parentOldX,\n          y: parentOldY,\n          width: 0,\n          height: 0\n        };\n      }\n    } // Fade in, user can be aware that these nodes are new.\n\n\n    lastCfg.fadein = !isGroup;\n  }\n} // We can not set all backgroud with the same z, Because the behaviour of\n// drill down and roll up differ background creation sequence from tree\n// hierarchy sequence, which cause that lowser background element overlap\n// upper ones. So we calculate z based on depth.\n// Moreover, we try to shrink down z interval to [0, 1] to avoid that\n// treemap with large z overlaps other components.\n\n\nfunction calculateZ2(depth, z2InLevel) {\n  return depth * Z2_BASE + z2InLevel;\n}\n\nexport default TreemapView;", "\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport VisualMapping from '../../visual/VisualMapping';\nimport { each, extend, isArray } from 'zrender/lib/core/util';\nimport { modifyHSL, modifyAlpha } from 'zrender/lib/tool/color';\nimport { makeInner } from '../../util/model';\nvar ITEM_STYLE_NORMAL = 'itemStyle';\nvar inner = makeInner();\nexport default {\n  seriesType: 'treemap',\n  reset: function (seriesModel) {\n    var tree = seriesModel.getData().tree;\n    var root = tree.root;\n\n    if (root.isRemoved()) {\n      return;\n    }\n\n    travelTree(root, // Visual should calculate from tree root but not view root.\n    {}, seriesModel.getViewRoot().getAncestors(), seriesModel);\n  }\n};\n\nfunction travelTree(node, designatedVisual, viewRootAncestors, seriesModel) {\n  var nodeModel = node.getModel();\n  var nodeLayout = node.getLayout();\n  var data = node.hostTree.data; // Optimize\n\n  if (!nodeLayout || nodeLayout.invisible || !nodeLayout.isInView) {\n    return;\n  }\n\n  var nodeItemStyleModel = nodeModel.getModel(ITEM_STYLE_NORMAL);\n  var visuals = buildVisuals(nodeItemStyleModel, designatedVisual, seriesModel);\n  var existsStyle = data.ensureUniqueItemVisual(node.dataIndex, 'style'); // calculate border color\n\n  var borderColor = nodeItemStyleModel.get('borderColor');\n  var borderColorSaturation = nodeItemStyleModel.get('borderColorSaturation');\n  var thisNodeColor;\n\n  if (borderColorSaturation != null) {\n    // For performance, do not always execute 'calculateColor'.\n    thisNodeColor = calculateColor(visuals);\n    borderColor = calculateBorderColor(borderColorSaturation, thisNodeColor);\n  }\n\n  existsStyle.stroke = borderColor;\n  var viewChildren = node.viewChildren;\n\n  if (!viewChildren || !viewChildren.length) {\n    thisNodeColor = calculateColor(visuals); // Apply visual to this node.\n\n    existsStyle.fill = thisNodeColor;\n  } else {\n    var mapping_1 = buildVisualMapping(node, nodeModel, nodeLayout, nodeItemStyleModel, visuals, viewChildren); // Designate visual to children.\n\n    each(viewChildren, function (child, index) {\n      // If higher than viewRoot, only ancestors of viewRoot is needed to visit.\n      if (child.depth >= viewRootAncestors.length || child === viewRootAncestors[child.depth]) {\n        var childVisual = mapVisual(nodeModel, visuals, child, index, mapping_1, seriesModel);\n        travelTree(child, childVisual, viewRootAncestors, seriesModel);\n      }\n    });\n  }\n}\n\nfunction buildVisuals(nodeItemStyleModel, designatedVisual, seriesModel) {\n  var visuals = extend({}, designatedVisual);\n  var designatedVisualItemStyle = seriesModel.designatedVisualItemStyle;\n  each(['color', 'colorAlpha', 'colorSaturation'], function (visualName) {\n    // Priority: thisNode > thisLevel > parentNodeDesignated > seriesModel\n    designatedVisualItemStyle[visualName] = designatedVisual[visualName];\n    var val = nodeItemStyleModel.get(visualName);\n    designatedVisualItemStyle[visualName] = null;\n    val != null && (visuals[visualName] = val);\n  });\n  return visuals;\n}\n\nfunction calculateColor(visuals) {\n  var color = getValueVisualDefine(visuals, 'color');\n\n  if (color) {\n    var colorAlpha = getValueVisualDefine(visuals, 'colorAlpha');\n    var colorSaturation = getValueVisualDefine(visuals, 'colorSaturation');\n\n    if (colorSaturation) {\n      color = modifyHSL(color, null, null, colorSaturation);\n    }\n\n    if (colorAlpha) {\n      color = modifyAlpha(color, colorAlpha);\n    }\n\n    return color;\n  }\n}\n\nfunction calculateBorderColor(borderColorSaturation, thisNodeColor) {\n  return thisNodeColor != null // Can only be string\n  ? modifyHSL(thisNodeColor, null, null, borderColorSaturation) : null;\n}\n\nfunction getValueVisualDefine(visuals, name) {\n  var value = visuals[name];\n\n  if (value != null && value !== 'none') {\n    return value;\n  }\n}\n\nfunction buildVisualMapping(node, nodeModel, nodeLayout, nodeItemStyleModel, visuals, viewChildren) {\n  if (!viewChildren || !viewChildren.length) {\n    return;\n  }\n\n  var rangeVisual = getRangeVisual(nodeModel, 'color') || visuals.color != null && visuals.color !== 'none' && (getRangeVisual(nodeModel, 'colorAlpha') || getRangeVisual(nodeModel, 'colorSaturation'));\n\n  if (!rangeVisual) {\n    return;\n  }\n\n  var visualMin = nodeModel.get('visualMin');\n  var visualMax = nodeModel.get('visualMax');\n  var dataExtent = nodeLayout.dataExtent.slice();\n  visualMin != null && visualMin < dataExtent[0] && (dataExtent[0] = visualMin);\n  visualMax != null && visualMax > dataExtent[1] && (dataExtent[1] = visualMax);\n  var colorMappingBy = nodeModel.get('colorMappingBy');\n  var opt = {\n    type: rangeVisual.name,\n    dataExtent: dataExtent,\n    visual: rangeVisual.range\n  };\n\n  if (opt.type === 'color' && (colorMappingBy === 'index' || colorMappingBy === 'id')) {\n    opt.mappingMethod = 'category';\n    opt.loop = true; // categories is ordinal, so do not set opt.categories.\n  } else {\n    opt.mappingMethod = 'linear';\n  }\n\n  var mapping = new VisualMapping(opt);\n  inner(mapping).drColorMappingBy = colorMappingBy;\n  return mapping;\n} // Notice: If we dont have the attribute 'colorRange', but only use\n// attribute 'color' to represent both concepts of 'colorRange' and 'color',\n// (It means 'colorRange' when 'color' is Array, means 'color' when not array),\n// this problem will be encountered:\n// If a level-1 node dont have children, and its siblings has children,\n// and colorRange is set on level-1, then the node can not be colored.\n// So we separate 'colorRange' and 'color' to different attributes.\n\n\nfunction getRangeVisual(nodeModel, name) {\n  // 'colorRange', 'colorARange', 'colorSRange'.\n  // If not exsits on this node, fetch from levels and series.\n  var range = nodeModel.get(name);\n  return isArray(range) && range.length ? {\n    name: name,\n    range: range\n  } : null;\n}\n\nfunction mapVisual(nodeModel, visuals, child, index, mapping, seriesModel) {\n  var childVisuals = extend({}, visuals);\n\n  if (mapping) {\n    // Only support color, colorAlpha, colorSaturation.\n    var mappingType = mapping.type;\n    var colorMappingBy = mappingType === 'color' && inner(mapping).drColorMappingBy;\n    var value = colorMappingBy === 'index' ? index : colorMappingBy === 'id' ? seriesModel.mapIdToIndex(child.getId()) : child.getValue(nodeModel.get('visualDimension'));\n    childVisuals[mappingType] = mapping.mapValueToVisual(value);\n  }\n\n  return childVisuals;\n}", "\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n/*\n* A third-party license is embeded for some of the code in this file:\n* The treemap layout implementation was originally copied from\n* \"d3.js\" with some modifications made for this project.\n* (See more details in the comment of the method \"squarify\" below.)\n* The use of the source code of this file is also subject to the terms\n* and consitions of the license of \"d3.js\" (BSD-3Clause, see\n* </licenses/LICENSE-d3>).\n*/\nimport * as zrUtil from 'zrender/lib/core/util';\nimport BoundingRect from 'zrender/lib/core/BoundingRect';\nimport { parsePercent, MAX_SAFE_INTEGER } from '../../util/number';\nimport * as layout from '../../util/layout';\nimport * as helper from '../helper/treeHelper';\nvar mathMax = Math.max;\nvar mathMin = Math.min;\nvar retrieveValue = zrUtil.retrieve;\nvar each = zrUtil.each;\nvar PATH_BORDER_WIDTH = ['itemStyle', 'borderWidth'];\nvar PATH_GAP_WIDTH = ['itemStyle', 'gapWidth'];\nvar PATH_UPPER_LABEL_SHOW = ['upperLabel', 'show'];\nvar PATH_UPPER_LABEL_HEIGHT = ['upperLabel', 'height'];\n;\n/**\n * @public\n */\n\nexport default {\n  seriesType: 'treemap',\n  reset: function (seriesModel, ecModel, api, payload) {\n    // Layout result in each node:\n    // {x, y, width, height, area, borderWidth}\n    var ecWidth = api.getWidth();\n    var ecHeight = api.getHeight();\n    var seriesOption = seriesModel.option;\n    var layoutInfo = layout.getLayoutRect(seriesModel.getBoxLayoutParams(), {\n      width: api.getWidth(),\n      height: api.getHeight()\n    });\n    var size = seriesOption.size || []; // Compatible with ec2.\n\n    var containerWidth = parsePercent(retrieveValue(layoutInfo.width, size[0]), ecWidth);\n    var containerHeight = parsePercent(retrieveValue(layoutInfo.height, size[1]), ecHeight); // Fetch payload info.\n\n    var payloadType = payload && payload.type;\n    var types = ['treemapZoomToNode', 'treemapRootToNode'];\n    var targetInfo = helper.retrieveTargetInfo(payload, types, seriesModel);\n    var rootRect = payloadType === 'treemapRender' || payloadType === 'treemapMove' ? payload.rootRect : null;\n    var viewRoot = seriesModel.getViewRoot();\n    var viewAbovePath = helper.getPathToRoot(viewRoot);\n\n    if (payloadType !== 'treemapMove') {\n      var rootSize = payloadType === 'treemapZoomToNode' ? estimateRootSize(seriesModel, targetInfo, viewRoot, containerWidth, containerHeight) : rootRect ? [rootRect.width, rootRect.height] : [containerWidth, containerHeight];\n      var sort_1 = seriesOption.sort;\n\n      if (sort_1 && sort_1 !== 'asc' && sort_1 !== 'desc') {\n        // Default to be desc order.\n        sort_1 = 'desc';\n      }\n\n      var options = {\n        squareRatio: seriesOption.squareRatio,\n        sort: sort_1,\n        leafDepth: seriesOption.leafDepth\n      }; // layout should be cleared because using updateView but not update.\n\n      viewRoot.hostTree.clearLayouts(); // TODO\n      // optimize: if out of view clip, do not layout.\n      // But take care that if do not render node out of view clip,\n      // how to calculate start po\n\n      var viewRootLayout_1 = {\n        x: 0,\n        y: 0,\n        width: rootSize[0],\n        height: rootSize[1],\n        area: rootSize[0] * rootSize[1]\n      };\n      viewRoot.setLayout(viewRootLayout_1);\n      squarify(viewRoot, options, false, 0); // Supplement layout.\n\n      viewRootLayout_1 = viewRoot.getLayout();\n      each(viewAbovePath, function (node, index) {\n        var childValue = (viewAbovePath[index + 1] || viewRoot).getValue();\n        node.setLayout(zrUtil.extend({\n          dataExtent: [childValue, childValue],\n          borderWidth: 0,\n          upperHeight: 0\n        }, viewRootLayout_1));\n      });\n    }\n\n    var treeRoot = seriesModel.getData().tree.root;\n    treeRoot.setLayout(calculateRootPosition(layoutInfo, rootRect, targetInfo), true);\n    seriesModel.setLayoutInfo(layoutInfo); // FIXME\n    // \u73B0\u5728\u6CA1\u6709clip\u529F\u80FD\uFF0C\u6682\u65F6\u53D6ec\u9AD8\u5BBD\u3002\n\n    prunning(treeRoot, // Transform to base element coordinate system.\n    new BoundingRect(-layoutInfo.x, -layoutInfo.y, ecWidth, ecHeight), viewAbovePath, viewRoot, 0);\n  }\n};\n/**\n * Layout treemap with squarify algorithm.\n * The original presentation of this algorithm\n * was made by Mark Bruls, Kees Huizing, and Jarke J. van Wijk\n * <https://graphics.ethz.ch/teaching/scivis_common/Literature/squarifiedTreeMaps.pdf>.\n * The implementation of this algorithm was originally copied from \"d3.js\"\n * <https://github.com/d3/d3/blob/9cc9a875e636a1dcf36cc1e07bdf77e1ad6e2c74/src/layout/treemap.js>\n * with some modifications made for this program.\n * See the license statement at the head of this file.\n *\n * @protected\n * @param {module:echarts/data/Tree~TreeNode} node\n * @param {Object} options\n * @param {string} options.sort 'asc' or 'desc'\n * @param {number} options.squareRatio\n * @param {boolean} hideChildren\n * @param {number} depth\n */\n\nfunction squarify(node, options, hideChildren, depth) {\n  var width;\n  var height;\n\n  if (node.isRemoved()) {\n    return;\n  }\n\n  var thisLayout = node.getLayout();\n  width = thisLayout.width;\n  height = thisLayout.height; // Considering border and gap\n\n  var nodeModel = node.getModel();\n  var borderWidth = nodeModel.get(PATH_BORDER_WIDTH);\n  var halfGapWidth = nodeModel.get(PATH_GAP_WIDTH) / 2;\n  var upperLabelHeight = getUpperLabelHeight(nodeModel);\n  var upperHeight = Math.max(borderWidth, upperLabelHeight);\n  var layoutOffset = borderWidth - halfGapWidth;\n  var layoutOffsetUpper = upperHeight - halfGapWidth;\n  node.setLayout({\n    borderWidth: borderWidth,\n    upperHeight: upperHeight,\n    upperLabelHeight: upperLabelHeight\n  }, true);\n  width = mathMax(width - 2 * layoutOffset, 0);\n  height = mathMax(height - layoutOffset - layoutOffsetUpper, 0);\n  var totalArea = width * height;\n  var viewChildren = initChildren(node, nodeModel, totalArea, options, hideChildren, depth);\n\n  if (!viewChildren.length) {\n    return;\n  }\n\n  var rect = {\n    x: layoutOffset,\n    y: layoutOffsetUpper,\n    width: width,\n    height: height\n  };\n  var rowFixedLength = mathMin(width, height);\n  var best = Infinity; // the best row score so far\n\n  var row = [];\n  row.area = 0;\n\n  for (var i = 0, len = viewChildren.length; i < len;) {\n    var child = viewChildren[i];\n    row.push(child);\n    row.area += child.getLayout().area;\n    var score = worst(row, rowFixedLength, options.squareRatio); // continue with this orientation\n\n    if (score <= best) {\n      i++;\n      best = score;\n    } // abort, and try a different orientation\n    else {\n        row.area -= row.pop().getLayout().area;\n        position(row, rowFixedLength, rect, halfGapWidth, false);\n        rowFixedLength = mathMin(rect.width, rect.height);\n        row.length = row.area = 0;\n        best = Infinity;\n      }\n  }\n\n  if (row.length) {\n    position(row, rowFixedLength, rect, halfGapWidth, true);\n  }\n\n  if (!hideChildren) {\n    var childrenVisibleMin = nodeModel.get('childrenVisibleMin');\n\n    if (childrenVisibleMin != null && totalArea < childrenVisibleMin) {\n      hideChildren = true;\n    }\n  }\n\n  for (var i = 0, len = viewChildren.length; i < len; i++) {\n    squarify(viewChildren[i], options, hideChildren, depth + 1);\n  }\n}\n/**\n * Set area to each child, and calculate data extent for visual coding.\n */\n\n\nfunction initChildren(node, nodeModel, totalArea, options, hideChildren, depth) {\n  var viewChildren = node.children || [];\n  var orderBy = options.sort;\n  orderBy !== 'asc' && orderBy !== 'desc' && (orderBy = null);\n  var overLeafDepth = options.leafDepth != null && options.leafDepth <= depth; // leafDepth has higher priority.\n\n  if (hideChildren && !overLeafDepth) {\n    return node.viewChildren = [];\n  } // Sort children, order by desc.\n\n\n  viewChildren = zrUtil.filter(viewChildren, function (child) {\n    return !child.isRemoved();\n  });\n  sort(viewChildren, orderBy);\n  var info = statistic(nodeModel, viewChildren, orderBy);\n\n  if (info.sum === 0) {\n    return node.viewChildren = [];\n  }\n\n  info.sum = filterByThreshold(nodeModel, totalArea, info.sum, orderBy, viewChildren);\n\n  if (info.sum === 0) {\n    return node.viewChildren = [];\n  } // Set area to each child.\n\n\n  for (var i = 0, len = viewChildren.length; i < len; i++) {\n    var area = viewChildren[i].getValue() / info.sum * totalArea; // Do not use setLayout({...}, true), because it is needed to clear last layout.\n\n    viewChildren[i].setLayout({\n      area: area\n    });\n  }\n\n  if (overLeafDepth) {\n    viewChildren.length && node.setLayout({\n      isLeafRoot: true\n    }, true);\n    viewChildren.length = 0;\n  }\n\n  node.viewChildren = viewChildren;\n  node.setLayout({\n    dataExtent: info.dataExtent\n  }, true);\n  return viewChildren;\n}\n/**\n * Consider 'visibleMin'. Modify viewChildren and get new sum.\n */\n\n\nfunction filterByThreshold(nodeModel, totalArea, sum, orderBy, orderedChildren) {\n  // visibleMin is not supported yet when no option.sort.\n  if (!orderBy) {\n    return sum;\n  }\n\n  var visibleMin = nodeModel.get('visibleMin');\n  var len = orderedChildren.length;\n  var deletePoint = len; // Always travel from little value to big value.\n\n  for (var i = len - 1; i >= 0; i--) {\n    var value = orderedChildren[orderBy === 'asc' ? len - i - 1 : i].getValue();\n\n    if (value / sum * totalArea < visibleMin) {\n      deletePoint = i;\n      sum -= value;\n    }\n  }\n\n  orderBy === 'asc' ? orderedChildren.splice(0, len - deletePoint) : orderedChildren.splice(deletePoint, len - deletePoint);\n  return sum;\n}\n/**\n * Sort\n */\n\n\nfunction sort(viewChildren, orderBy) {\n  if (orderBy) {\n    viewChildren.sort(function (a, b) {\n      var diff = orderBy === 'asc' ? a.getValue() - b.getValue() : b.getValue() - a.getValue();\n      return diff === 0 ? orderBy === 'asc' ? a.dataIndex - b.dataIndex : b.dataIndex - a.dataIndex : diff;\n    });\n  }\n\n  return viewChildren;\n}\n/**\n * Statistic\n */\n\n\nfunction statistic(nodeModel, children, orderBy) {\n  // Calculate sum.\n  var sum = 0;\n\n  for (var i = 0, len = children.length; i < len; i++) {\n    sum += children[i].getValue();\n  } // Statistic data extent for latter visual coding.\n  // Notice: data extent should be calculate based on raw children\n  // but not filtered view children, otherwise visual mapping will not\n  // be stable when zoom (where children is filtered by visibleMin).\n\n\n  var dimension = nodeModel.get('visualDimension');\n  var dataExtent; // The same as area dimension.\n\n  if (!children || !children.length) {\n    dataExtent = [NaN, NaN];\n  } else if (dimension === 'value' && orderBy) {\n    dataExtent = [children[children.length - 1].getValue(), children[0].getValue()];\n    orderBy === 'asc' && dataExtent.reverse();\n  } // Other dimension.\n  else {\n      dataExtent = [Infinity, -Infinity];\n      each(children, function (child) {\n        var value = child.getValue(dimension);\n        value < dataExtent[0] && (dataExtent[0] = value);\n        value > dataExtent[1] && (dataExtent[1] = value);\n      });\n    }\n\n  return {\n    sum: sum,\n    dataExtent: dataExtent\n  };\n}\n/**\n * Computes the score for the specified row,\n * as the worst aspect ratio.\n */\n\n\nfunction worst(row, rowFixedLength, ratio) {\n  var areaMax = 0;\n  var areaMin = Infinity;\n\n  for (var i = 0, area = void 0, len = row.length; i < len; i++) {\n    area = row[i].getLayout().area;\n\n    if (area) {\n      area < areaMin && (areaMin = area);\n      area > areaMax && (areaMax = area);\n    }\n  }\n\n  var squareArea = row.area * row.area;\n  var f = rowFixedLength * rowFixedLength * ratio;\n  return squareArea ? mathMax(f * areaMax / squareArea, squareArea / (f * areaMin)) : Infinity;\n}\n/**\n * Positions the specified row of nodes. Modifies `rect`.\n */\n\n\nfunction position(row, rowFixedLength, rect, halfGapWidth, flush) {\n  // When rowFixedLength === rect.width,\n  // it is horizontal subdivision,\n  // rowFixedLength is the width of the subdivision,\n  // rowOtherLength is the height of the subdivision,\n  // and nodes will be positioned from left to right.\n  // wh[idx0WhenH] means: when horizontal,\n  //      wh[idx0WhenH] => wh[0] => 'width'.\n  //      xy[idx1WhenH] => xy[1] => 'y'.\n  var idx0WhenH = rowFixedLength === rect.width ? 0 : 1;\n  var idx1WhenH = 1 - idx0WhenH;\n  var xy = ['x', 'y'];\n  var wh = ['width', 'height'];\n  var last = rect[xy[idx0WhenH]];\n  var rowOtherLength = rowFixedLength ? row.area / rowFixedLength : 0;\n\n  if (flush || rowOtherLength > rect[wh[idx1WhenH]]) {\n    rowOtherLength = rect[wh[idx1WhenH]]; // over+underflow\n  }\n\n  for (var i = 0, rowLen = row.length; i < rowLen; i++) {\n    var node = row[i];\n    var nodeLayout = {};\n    var step = rowOtherLength ? node.getLayout().area / rowOtherLength : 0;\n    var wh1 = nodeLayout[wh[idx1WhenH]] = mathMax(rowOtherLength - 2 * halfGapWidth, 0); // We use Math.max/min to avoid negative width/height when considering gap width.\n\n    var remain = rect[xy[idx0WhenH]] + rect[wh[idx0WhenH]] - last;\n    var modWH = i === rowLen - 1 || remain < step ? remain : step;\n    var wh0 = nodeLayout[wh[idx0WhenH]] = mathMax(modWH - 2 * halfGapWidth, 0);\n    nodeLayout[xy[idx1WhenH]] = rect[xy[idx1WhenH]] + mathMin(halfGapWidth, wh1 / 2);\n    nodeLayout[xy[idx0WhenH]] = last + mathMin(halfGapWidth, wh0 / 2);\n    last += modWH;\n    node.setLayout(nodeLayout, true);\n  }\n\n  rect[xy[idx1WhenH]] += rowOtherLength;\n  rect[wh[idx1WhenH]] -= rowOtherLength;\n} // Return [containerWidth, containerHeight] as default.\n\n\nfunction estimateRootSize(seriesModel, targetInfo, viewRoot, containerWidth, containerHeight) {\n  // If targetInfo.node exists, we zoom to the node,\n  // so estimate whold width and heigth by target node.\n  var currNode = (targetInfo || {}).node;\n  var defaultSize = [containerWidth, containerHeight];\n\n  if (!currNode || currNode === viewRoot) {\n    return defaultSize;\n  }\n\n  var parent;\n  var viewArea = containerWidth * containerHeight;\n  var area = viewArea * seriesModel.option.zoomToNodeRatio;\n\n  while (parent = currNode.parentNode) {\n    // jshint ignore:line\n    var sum = 0;\n    var siblings = parent.children;\n\n    for (var i = 0, len = siblings.length; i < len; i++) {\n      sum += siblings[i].getValue();\n    }\n\n    var currNodeValue = currNode.getValue();\n\n    if (currNodeValue === 0) {\n      return defaultSize;\n    }\n\n    area *= sum / currNodeValue; // Considering border, suppose aspect ratio is 1.\n\n    var parentModel = parent.getModel();\n    var borderWidth = parentModel.get(PATH_BORDER_WIDTH);\n    var upperHeight = Math.max(borderWidth, getUpperLabelHeight(parentModel));\n    area += 4 * borderWidth * borderWidth + (3 * borderWidth + upperHeight) * Math.pow(area, 0.5);\n    area > MAX_SAFE_INTEGER && (area = MAX_SAFE_INTEGER);\n    currNode = parent;\n  }\n\n  area < viewArea && (area = viewArea);\n  var scale = Math.pow(area / viewArea, 0.5);\n  return [containerWidth * scale, containerHeight * scale];\n} // Root postion base on coord of containerGroup\n\n\nfunction calculateRootPosition(layoutInfo, rootRect, targetInfo) {\n  if (rootRect) {\n    return {\n      x: rootRect.x,\n      y: rootRect.y\n    };\n  }\n\n  var defaultPosition = {\n    x: 0,\n    y: 0\n  };\n\n  if (!targetInfo) {\n    return defaultPosition;\n  } // If targetInfo is fetched by 'retrieveTargetInfo',\n  // old tree and new tree are the same tree,\n  // so the node still exists and we can visit it.\n\n\n  var targetNode = targetInfo.node;\n  var layout = targetNode.getLayout();\n\n  if (!layout) {\n    return defaultPosition;\n  } // Transform coord from local to container.\n\n\n  var targetCenter = [layout.width / 2, layout.height / 2];\n  var node = targetNode;\n\n  while (node) {\n    var nodeLayout = node.getLayout();\n    targetCenter[0] += nodeLayout.x;\n    targetCenter[1] += nodeLayout.y;\n    node = node.parentNode;\n  }\n\n  return {\n    x: layoutInfo.width / 2 - targetCenter[0],\n    y: layoutInfo.height / 2 - targetCenter[1]\n  };\n} // Mark nodes visible for prunning when visual coding and rendering.\n// Prunning depends on layout and root position, so we have to do it after layout.\n\n\nfunction prunning(node, clipRect, viewAbovePath, viewRoot, depth) {\n  var nodeLayout = node.getLayout();\n  var nodeInViewAbovePath = viewAbovePath[depth];\n  var isAboveViewRoot = nodeInViewAbovePath && nodeInViewAbovePath === node;\n\n  if (nodeInViewAbovePath && !isAboveViewRoot || depth === viewAbovePath.length && node !== viewRoot) {\n    return;\n  }\n\n  node.setLayout({\n    // isInView means: viewRoot sub tree + viewAbovePath\n    isInView: true,\n    // invisible only means: outside view clip so that the node can not\n    // see but still layout for animation preparation but not render.\n    invisible: !isAboveViewRoot && !clipRect.intersect(nodeLayout),\n    isAboveViewRoot: isAboveViewRoot\n  }, true); // Transform to child coordinate.\n\n  var childClipRect = new BoundingRect(clipRect.x - nodeLayout.x, clipRect.y - nodeLayout.y, clipRect.width, clipRect.height);\n  each(node.viewChildren || [], function (child) {\n    prunning(child, childClipRect, viewAbovePath, viewRoot, depth + 1);\n  });\n}\n\nfunction getUpperLabelHeight(model) {\n  return model.get(PATH_UPPER_LABEL_SHOW) ? model.get(PATH_UPPER_LABEL_HEIGHT) : 0;\n}", "\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { installTreemapAction } from './treemapAction';\nimport TreemapSeriesModel from './TreemapSeries';\nimport TreemapView from './TreemapView';\nimport treemapVisual from './treemapVisual';\nimport treemapLayout from './treemapLayout';\nexport function install(registers) {\n  registers.registerSeriesModel(TreemapSeriesModel);\n  registers.registerChartView(TreemapView);\n  registers.registerVisual(treemapVisual);\n  registers.registerLayout(treemapLayout);\n  installTreemapAction(registers);\n}", "\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nexport default function categoryFilter(ecModel) {\n  var legendModels = ecModel.findComponents({\n    mainType: 'legend'\n  });\n\n  if (!legendModels || !legendModels.length) {\n    return;\n  }\n\n  ecModel.eachSeriesByType('graph', function (graphSeries) {\n    var categoriesData = graphSeries.getCategoriesData();\n    var graph = graphSeries.getGraph();\n    var data = graph.data;\n    var categoryNames = categoriesData.mapArray(categoriesData.getName);\n    data.filterSelf(function (idx) {\n      var model = data.getItemModel(idx);\n      var category = model.getShallow('category');\n\n      if (category != null) {\n        if (typeof category === 'number') {\n          category = categoryNames[category];\n        } // If in any legend component the status is not selected.\n\n\n        for (var i = 0; i < legendModels.length; i++) {\n          if (!legendModels[i].isSelected(category)) {\n            return false;\n          }\n        }\n      }\n\n      return true;\n    });\n  });\n}", "\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { extend } from 'zrender/lib/core/util';\nexport default function categoryVisual(ecModel) {\n  var paletteScope = {};\n  ecModel.eachSeriesByType('graph', function (seriesModel) {\n    var categoriesData = seriesModel.getCategoriesData();\n    var data = seriesModel.getData();\n    var categoryNameIdxMap = {};\n    categoriesData.each(function (idx) {\n      var name = categoriesData.getName(idx); // Add prefix to avoid conflict with Object.prototype.\n\n      categoryNameIdxMap['ec-' + name] = idx;\n      var itemModel = categoriesData.getItemModel(idx);\n      var style = itemModel.getModel('itemStyle').getItemStyle();\n\n      if (!style.fill) {\n        // Get color from palette.\n        style.fill = seriesModel.getColorFromPalette(name, paletteScope);\n      }\n\n      categoriesData.setItemVisual(idx, 'style', style);\n      var symbolVisualList = ['symbol', 'symbolSize', 'symbolKeepAspect'];\n\n      for (var i = 0; i < symbolVisualList.length; i++) {\n        var symbolVisual = itemModel.getShallow(symbolVisualList[i], true);\n\n        if (symbolVisual != null) {\n          categoriesData.setItemVisual(idx, symbolVisualList[i], symbolVisual);\n        }\n      }\n    }); // Assign category color to visual\n\n    if (categoriesData.count()) {\n      data.each(function (idx) {\n        var model = data.getItemModel(idx);\n        var categoryIdx = model.getShallow('category');\n\n        if (categoryIdx != null) {\n          if (typeof categoryIdx === 'string') {\n            categoryIdx = categoryNameIdxMap['ec-' + categoryIdx];\n          }\n\n          var categoryStyle = categoriesData.getItemVisual(categoryIdx, 'style');\n          var style = data.ensureUniqueItemVisual(idx, 'style');\n          extend(style, categoryStyle);\n          var visualList = ['symbol', 'symbolSize', 'symbolKeepAspect'];\n\n          for (var i = 0; i < visualList.length; i++) {\n            data.setItemVisual(idx, visualList[i], categoriesData.getItemVisual(categoryIdx, visualList[i]));\n          }\n        }\n      });\n    }\n  });\n}", "\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { extend } from 'zrender/lib/core/util';\n\nfunction normalize(a) {\n  if (!(a instanceof Array)) {\n    a = [a, a];\n  }\n\n  return a;\n}\n\nexport default function graphEdgeVisual(ecModel) {\n  ecModel.eachSeriesByType('graph', function (seriesModel) {\n    var graph = seriesModel.getGraph();\n    var edgeData = seriesModel.getEdgeData();\n    var symbolType = normalize(seriesModel.get('edgeSymbol'));\n    var symbolSize = normalize(seriesModel.get('edgeSymbolSize')); // const colorQuery = ['lineStyle', 'color'] as const;\n    // const opacityQuery = ['lineStyle', 'opacity'] as const;\n\n    edgeData.setVisual('fromSymbol', symbolType && symbolType[0]);\n    edgeData.setVisual('toSymbol', symbolType && symbolType[1]);\n    edgeData.setVisual('fromSymbolSize', symbolSize && symbolSize[0]);\n    edgeData.setVisual('toSymbolSize', symbolSize && symbolSize[1]);\n    edgeData.setVisual('style', seriesModel.getModel('lineStyle').getLineStyle());\n    edgeData.each(function (idx) {\n      var itemModel = edgeData.getItemModel(idx);\n      var edge = graph.getEdgeByIndex(idx);\n      var symbolType = normalize(itemModel.getShallow('symbol', true));\n      var symbolSize = normalize(itemModel.getShallow('symbolSize', true)); // Edge visual must after node visual\n\n      var style = itemModel.getModel('lineStyle').getLineStyle();\n      var existsStyle = edgeData.ensureUniqueItemVisual(idx, 'style');\n      extend(existsStyle, style);\n\n      switch (existsStyle.stroke) {\n        case 'source':\n          {\n            var nodeStyle = edge.node1.getVisual('style');\n            existsStyle.stroke = nodeStyle && nodeStyle.fill;\n            break;\n          }\n\n        case 'target':\n          {\n            var nodeStyle = edge.node2.getVisual('style');\n            existsStyle.stroke = nodeStyle && nodeStyle.fill;\n            break;\n          }\n      }\n\n      symbolType[0] && edge.setVisual('fromSymbol', symbolType[0]);\n      symbolType[1] && edge.setVisual('toSymbol', symbolType[1]);\n      symbolSize[0] && edge.setVisual('fromSymbolSize', symbolSize[0]);\n      symbolSize[1] && edge.setVisual('toSymbolSize', symbolSize[1]);\n    });\n  });\n}", "\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n// @ts-nocheck\nimport * as zrUtil from 'zrender/lib/core/util';\nvar KEY_DELIMITER = '-->';\n/**\n * params handler\n * @param {module:echarts/model/SeriesModel} seriesModel\n * @returns {*}\n */\n\nvar getAutoCurvenessParams = function (seriesModel) {\n  return seriesModel.get('autoCurveness') || null;\n};\n/**\n * Generate a list of edge curvatures, 20 is the default\n * @param {module:echarts/model/SeriesModel} seriesModel\n * @param {number} appendLength\n * @return  20 => [0, -0.2, 0.2, -0.4, 0.4, -0.6, 0.6, -0.8, 0.8, -1, 1, -1.2, 1.2, -1.4, 1.4, -1.6, 1.6, -1.8, 1.8, -2]\n */\n\n\nvar createCurveness = function (seriesModel, appendLength) {\n  var autoCurvenessParmas = getAutoCurvenessParams(seriesModel);\n  var length = 20;\n  var curvenessList = []; // handler the function set\n\n  if (typeof autoCurvenessParmas === 'number') {\n    length = autoCurvenessParmas;\n  } else if (zrUtil.isArray(autoCurvenessParmas)) {\n    seriesModel.__curvenessList = autoCurvenessParmas;\n    return;\n  } // append length\n\n\n  if (appendLength > length) {\n    length = appendLength;\n  } // make sure the length is even\n\n\n  var len = length % 2 ? length + 2 : length + 3;\n  curvenessList = [];\n\n  for (var i = 0; i < len; i++) {\n    curvenessList.push((i % 2 ? i + 1 : i) / 10 * (i % 2 ? -1 : 1));\n  }\n\n  seriesModel.__curvenessList = curvenessList;\n};\n/**\n * Create different cache key data in the positive and negative directions, in order to set the curvature later\n * @param {number|string|module:echarts/data/Graph.Node} n1\n * @param {number|string|module:echarts/data/Graph.Node} n2\n * @param {module:echarts/model/SeriesModel} seriesModel\n * @returns {string} key\n */\n\n\nvar getKeyOfEdges = function (n1, n2, seriesModel) {\n  var source = [n1.id, n1.dataIndex].join('.');\n  var target = [n2.id, n2.dataIndex].join('.');\n  return [seriesModel.uid, source, target].join(KEY_DELIMITER);\n};\n/**\n * get opposite key\n * @param {string} key\n * @returns {string}\n */\n\n\nvar getOppositeKey = function (key) {\n  var keys = key.split(KEY_DELIMITER);\n  return [keys[0], keys[2], keys[1]].join(KEY_DELIMITER);\n};\n/**\n * get edgeMap with key\n * @param edge\n * @param {module:echarts/model/SeriesModel} seriesModel\n */\n\n\nvar getEdgeFromMap = function (edge, seriesModel) {\n  var key = getKeyOfEdges(edge.node1, edge.node2, seriesModel);\n  return seriesModel.__edgeMap[key];\n};\n/**\n * calculate all cases total length\n * @param edge\n * @param seriesModel\n * @returns {number}\n */\n\n\nvar getTotalLengthBetweenNodes = function (edge, seriesModel) {\n  var len = getEdgeMapLengthWithKey(getKeyOfEdges(edge.node1, edge.node2, seriesModel), seriesModel);\n  var lenV = getEdgeMapLengthWithKey(getKeyOfEdges(edge.node2, edge.node1, seriesModel), seriesModel);\n  return len + lenV;\n};\n/**\n *\n * @param key\n */\n\n\nvar getEdgeMapLengthWithKey = function (key, seriesModel) {\n  var edgeMap = seriesModel.__edgeMap;\n  return edgeMap[key] ? edgeMap[key].length : 0;\n};\n/**\n * Count the number of edges between the same two points, used to obtain the curvature table and the parity of the edge\n * @see /graph/GraphSeries.js@getInitialData\n * @param {module:echarts/model/SeriesModel} seriesModel\n */\n\n\nexport function initCurvenessList(seriesModel) {\n  if (!getAutoCurvenessParams(seriesModel)) {\n    return;\n  }\n\n  seriesModel.__curvenessList = [];\n  seriesModel.__edgeMap = {}; // calc the array of curveness List\n\n  createCurveness(seriesModel);\n}\n/**\n * set edgeMap with key\n * @param {number|string|module:echarts/data/Graph.Node} n1\n * @param {number|string|module:echarts/data/Graph.Node} n2\n * @param {module:echarts/model/SeriesModel} seriesModel\n * @param {number} index\n */\n\nexport function createEdgeMapForCurveness(n1, n2, seriesModel, index) {\n  if (!getAutoCurvenessParams(seriesModel)) {\n    return;\n  }\n\n  var key = getKeyOfEdges(n1, n2, seriesModel);\n  var edgeMap = seriesModel.__edgeMap;\n  var oppositeEdges = edgeMap[getOppositeKey(key)]; // set direction\n\n  if (edgeMap[key] && !oppositeEdges) {\n    edgeMap[key].isForward = true;\n  } else if (oppositeEdges && edgeMap[key]) {\n    oppositeEdges.isForward = true;\n    edgeMap[key].isForward = false;\n  }\n\n  edgeMap[key] = edgeMap[key] || [];\n  edgeMap[key].push(index);\n}\n/**\n * get curvature for edge\n * @param edge\n * @param {module:echarts/model/SeriesModel} seriesModel\n * @param index\n */\n\nexport function getCurvenessForEdge(edge, seriesModel, index, needReverse) {\n  var autoCurvenessParams = getAutoCurvenessParams(seriesModel);\n  var isArrayParam = zrUtil.isArray(autoCurvenessParams);\n\n  if (!autoCurvenessParams) {\n    return null;\n  }\n\n  var edgeArray = getEdgeFromMap(edge, seriesModel);\n\n  if (!edgeArray) {\n    return null;\n  }\n\n  var edgeIndex = -1;\n\n  for (var i = 0; i < edgeArray.length; i++) {\n    if (edgeArray[i] === index) {\n      edgeIndex = i;\n      break;\n    }\n  } // if totalLen is Longer createCurveness\n\n\n  var totalLen = getTotalLengthBetweenNodes(edge, seriesModel);\n  createCurveness(seriesModel, totalLen);\n  edge.lineStyle = edge.lineStyle || {}; // if is opposite edge, must set curvenss to opposite number\n\n  var curKey = getKeyOfEdges(edge.node1, edge.node2, seriesModel);\n  var curvenessList = seriesModel.__curvenessList; // if pass array no need parity\n\n  var parityCorrection = isArrayParam ? 0 : totalLen % 2 ? 0 : 1;\n\n  if (!edgeArray.isForward) {\n    // the opposite edge show outside\n    var oppositeKey = getOppositeKey(curKey);\n    var len = getEdgeMapLengthWithKey(oppositeKey, seriesModel);\n    var resValue = curvenessList[edgeIndex + len + parityCorrection]; // isNeedReverse, simple, force type need reverse the curveness in the junction of the forword and the opposite\n\n    if (needReverse) {\n      // set as array may make the parity handle with the len of opposite\n      if (isArrayParam) {\n        if (autoCurvenessParams && autoCurvenessParams[0] === 0) {\n          return (len + parityCorrection) % 2 ? resValue : -resValue;\n        } else {\n          return ((len % 2 ? 0 : 1) + parityCorrection) % 2 ? resValue : -resValue;\n        }\n      } else {\n        return (len + parityCorrection) % 2 ? resValue : -resValue;\n      }\n    } else {\n      return curvenessList[edgeIndex + len + parityCorrection];\n    }\n  } else {\n    return curvenessList[parityCorrection + edgeIndex];\n  }\n}", "\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport * as vec2 from 'zrender/lib/core/vector';\nimport * as zrUtil from 'zrender/lib/core/util';\nimport { getCurvenessForEdge } from '../helper/multipleGraphEdgeHelper';\nexport function simpleLayout(seriesModel) {\n  var coordSys = seriesModel.coordinateSystem;\n\n  if (coordSys && coordSys.type !== 'view') {\n    return;\n  }\n\n  var graph = seriesModel.getGraph();\n  graph.eachNode(function (node) {\n    var model = node.getModel();\n    node.setLayout([+model.get('x'), +model.get('y')]);\n  });\n  simpleLayoutEdge(graph, seriesModel);\n}\nexport function simpleLayoutEdge(graph, seriesModel) {\n  graph.eachEdge(function (edge, index) {\n    var curveness = zrUtil.retrieve3(edge.getModel().get(['lineStyle', 'curveness']), -getCurvenessForEdge(edge, seriesModel, index, true), 0);\n    var p1 = vec2.clone(edge.node1.getLayout());\n    var p2 = vec2.clone(edge.node2.getLayout());\n    var points = [p1, p2];\n\n    if (+curveness) {\n      points.push([(p1[0] + p2[0]) / 2 - (p1[1] - p2[1]) * curveness, (p1[1] + p2[1]) / 2 - (p2[0] - p1[0]) * curveness]);\n    }\n\n    edge.setLayout(points);\n  });\n}", "\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { each } from 'zrender/lib/core/util';\nimport { simpleLayout, simpleLayoutEdge } from './simpleLayoutHelper';\nexport default function graphSimpleLayout(ecModel, api) {\n  ecModel.eachSeriesByType('graph', function (seriesModel) {\n    var layout = seriesModel.get('layout');\n    var coordSys = seriesModel.coordinateSystem;\n\n    if (coordSys && coordSys.type !== 'view') {\n      var data_1 = seriesModel.getData();\n      var dimensions_1 = [];\n      each(coordSys.dimensions, function (coordDim) {\n        dimensions_1 = dimensions_1.concat(data_1.mapDimensionsAll(coordDim));\n      });\n\n      for (var dataIndex = 0; dataIndex < data_1.count(); dataIndex++) {\n        var value = [];\n        var hasValue = false;\n\n        for (var i = 0; i < dimensions_1.length; i++) {\n          var val = data_1.get(dimensions_1[i], dataIndex);\n\n          if (!isNaN(val)) {\n            hasValue = true;\n          }\n\n          value.push(val);\n        }\n\n        if (hasValue) {\n          data_1.setItemLayout(dataIndex, coordSys.dataToPoint(value));\n        } else {\n          // Also {Array.<number>}, not undefined to avoid if...else... statement\n          data_1.setItemLayout(dataIndex, [NaN, NaN]);\n        }\n      }\n\n      simpleLayoutEdge(data_1.graph, seriesModel);\n    } else if (!layout || layout === 'none') {\n      simpleLayout(seriesModel);\n    }\n  });\n}", "\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nexport function getNodeGlobalScale(seriesModel) {\n  var coordSys = seriesModel.coordinateSystem;\n\n  if (coordSys.type !== 'view') {\n    return 1;\n  }\n\n  var nodeScaleRatio = seriesModel.option.nodeScaleRatio;\n  var groupZoom = coordSys.scaleX; // Scale node when zoom changes\n\n  var roamZoom = coordSys.getZoom();\n  var nodeScale = (roamZoom - 1) * nodeScaleRatio + 1;\n  return nodeScale / groupZoom;\n}\nexport function getSymbolSize(node) {\n  var symbolSize = node.getVisual('symbolSize');\n\n  if (symbolSize instanceof Array) {\n    symbolSize = (symbolSize[0] + symbolSize[1]) / 2;\n  }\n\n  return +symbolSize;\n}", "\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport * as vec2 from 'zrender/lib/core/vector';\nimport { getSymbolSize, getNodeGlobalScale } from './graphHelper';\nimport * as zrUtil from 'zrender/lib/core/util';\nimport { getCurvenessForEdge } from '../helper/multipleGraphEdgeHelper';\nvar PI = Math.PI;\nvar _symbolRadiansHalf = [];\n/**\n * `basedOn` can be:\n * 'value':\n *     This layout is not accurate and have same bad case. For example,\n *     if the min value is very smaller than the max value, the nodes\n *     with the min value probably overlap even though there is enough\n *     space to layout them. So we only use this approach in the as the\n *     init layout of the force layout.\n *     FIXME\n *     Probably we do not need this method any more but use\n *     `basedOn: 'symbolSize'` in force layout if\n *     delay its init operations to GraphView.\n * 'symbolSize':\n *     This approach work only if all of the symbol size calculated.\n *     That is, the progressive rendering is not applied to graph.\n *     FIXME\n *     If progressive rendering is applied to graph some day,\n *     probably we have to use `basedOn: 'value'`.\n */\n\nexport function circularLayout(seriesModel, basedOn) {\n  var coordSys = seriesModel.coordinateSystem;\n\n  if (coordSys && coordSys.type !== 'view') {\n    return;\n  }\n\n  var rect = coordSys.getBoundingRect();\n  var nodeData = seriesModel.getData();\n  var graph = nodeData.graph;\n  var cx = rect.width / 2 + rect.x;\n  var cy = rect.height / 2 + rect.y;\n  var r = Math.min(rect.width, rect.height) / 2;\n  var count = nodeData.count();\n  nodeData.setLayout({\n    cx: cx,\n    cy: cy\n  });\n\n  if (!count) {\n    return;\n  }\n\n  _layoutNodesBasedOn[basedOn](seriesModel, graph, nodeData, r, cx, cy, count);\n\n  graph.eachEdge(function (edge, index) {\n    var curveness = zrUtil.retrieve3(edge.getModel().get(['lineStyle', 'curveness']), getCurvenessForEdge(edge, seriesModel, index), 0);\n    var p1 = vec2.clone(edge.node1.getLayout());\n    var p2 = vec2.clone(edge.node2.getLayout());\n    var cp1;\n    var x12 = (p1[0] + p2[0]) / 2;\n    var y12 = (p1[1] + p2[1]) / 2;\n\n    if (+curveness) {\n      curveness *= 3;\n      cp1 = [cx * curveness + x12 * (1 - curveness), cy * curveness + y12 * (1 - curveness)];\n    }\n\n    edge.setLayout([p1, p2, cp1]);\n  });\n}\nvar _layoutNodesBasedOn = {\n  value: function (seriesModel, graph, nodeData, r, cx, cy, count) {\n    var angle = 0;\n    var sum = nodeData.getSum('value');\n    var unitAngle = Math.PI * 2 / (sum || count);\n    graph.eachNode(function (node) {\n      var value = node.getValue('value');\n      var radianHalf = unitAngle * (sum ? value : 1) / 2;\n      angle += radianHalf;\n      node.setLayout([r * Math.cos(angle) + cx, r * Math.sin(angle) + cy]);\n      angle += radianHalf;\n    });\n  },\n  symbolSize: function (seriesModel, graph, nodeData, r, cx, cy, count) {\n    var sumRadian = 0;\n    _symbolRadiansHalf.length = count;\n    var nodeScale = getNodeGlobalScale(seriesModel);\n    graph.eachNode(function (node) {\n      var symbolSize = getSymbolSize(node); // Normally this case will not happen, but we still add\n      // some the defensive code (2px is an arbitrary value).\n\n      isNaN(symbolSize) && (symbolSize = 2);\n      symbolSize < 0 && (symbolSize = 0);\n      symbolSize *= nodeScale;\n      var symbolRadianHalf = Math.asin(symbolSize / 2 / r); // when `symbolSize / 2` is bigger than `r`.\n\n      isNaN(symbolRadianHalf) && (symbolRadianHalf = PI / 2);\n      _symbolRadiansHalf[node.dataIndex] = symbolRadianHalf;\n      sumRadian += symbolRadianHalf * 2;\n    });\n    var halfRemainRadian = (2 * PI - sumRadian) / count / 2;\n    var angle = 0;\n    graph.eachNode(function (node) {\n      var radianHalf = halfRemainRadian + _symbolRadiansHalf[node.dataIndex];\n      angle += radianHalf;\n      node.setLayout([r * Math.cos(angle) + cx, r * Math.sin(angle) + cy]);\n      angle += radianHalf;\n    });\n  }\n};", "\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { circularLayout } from './circularLayoutHelper';\nexport default function graphCircularLayout(ecModel) {\n  ecModel.eachSeriesByType('graph', function (seriesModel) {\n    if (seriesModel.get('layout') === 'circular') {\n      circularLayout(seriesModel, 'symbolSize');\n    }\n  });\n}", "\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n/*\n* A third-party license is embeded for some of the code in this file:\n* Some formulas were originally copied from \"d3.js\" with some\n* modifications made for this project.\n* (See more details in the comment of the method \"step\" below.)\n* The use of the source code of this file is also subject to the terms\n* and consitions of the license of \"d3.js\" (BSD-3Clause, see\n* </licenses/LICENSE-d3>).\n*/\nimport * as vec2 from 'zrender/lib/core/vector';\nvar scaleAndAdd = vec2.scaleAndAdd; // function adjacentNode(n, e) {\n//     return e.n1 === n ? e.n2 : e.n1;\n// }\n\nexport function forceLayout(inNodes, inEdges, opts) {\n  var nodes = inNodes;\n  var edges = inEdges;\n  var rect = opts.rect;\n  var width = rect.width;\n  var height = rect.height;\n  var center = [rect.x + width / 2, rect.y + height / 2]; // let scale = opts.scale || 1;\n\n  var gravity = opts.gravity == null ? 0.1 : opts.gravity; // for (let i = 0; i < edges.length; i++) {\n  //     let e = edges[i];\n  //     let n1 = e.n1;\n  //     let n2 = e.n2;\n  //     n1.edges = n1.edges || [];\n  //     n2.edges = n2.edges || [];\n  //     n1.edges.push(e);\n  //     n2.edges.push(e);\n  // }\n  // Init position\n\n  for (var i = 0; i < nodes.length; i++) {\n    var n = nodes[i];\n\n    if (!n.p) {\n      n.p = vec2.create(width * (Math.random() - 0.5) + center[0], height * (Math.random() - 0.5) + center[1]);\n    }\n\n    n.pp = vec2.clone(n.p);\n    n.edges = null;\n  } // Formula in 'Graph Drawing by Force-directed Placement'\n  // let k = scale * Math.sqrt(width * height / nodes.length);\n  // let k2 = k * k;\n\n\n  var initialFriction = opts.friction == null ? 0.6 : opts.friction;\n  var friction = initialFriction;\n  var beforeStepCallback;\n  var afterStepCallback;\n  return {\n    warmUp: function () {\n      friction = initialFriction * 0.8;\n    },\n    setFixed: function (idx) {\n      nodes[idx].fixed = true;\n    },\n    setUnfixed: function (idx) {\n      nodes[idx].fixed = false;\n    },\n\n    /**\n     * Before step hook\n     */\n    beforeStep: function (cb) {\n      beforeStepCallback = cb;\n    },\n\n    /**\n     * After step hook\n     */\n    afterStep: function (cb) {\n      afterStepCallback = cb;\n    },\n\n    /**\n     * Some formulas were originally copied from \"d3.js\"\n     * https://github.com/d3/d3/blob/b516d77fb8566b576088e73410437494717ada26/src/layout/force.js\n     * with some modifications made for this project.\n     * See the license statement at the head of this file.\n     */\n    step: function (cb) {\n      beforeStepCallback && beforeStepCallback(nodes, edges);\n      var v12 = [];\n      var nLen = nodes.length;\n\n      for (var i = 0; i < edges.length; i++) {\n        var e = edges[i];\n\n        if (e.ignoreForceLayout) {\n          continue;\n        }\n\n        var n1 = e.n1;\n        var n2 = e.n2;\n        vec2.sub(v12, n2.p, n1.p);\n        var d = vec2.len(v12) - e.d;\n        var w = n2.w / (n1.w + n2.w);\n\n        if (isNaN(w)) {\n          w = 0;\n        }\n\n        vec2.normalize(v12, v12);\n        !n1.fixed && scaleAndAdd(n1.p, n1.p, v12, w * d * friction);\n        !n2.fixed && scaleAndAdd(n2.p, n2.p, v12, -(1 - w) * d * friction);\n      } // Gravity\n\n\n      for (var i = 0; i < nLen; i++) {\n        var n = nodes[i];\n\n        if (!n.fixed) {\n          vec2.sub(v12, center, n.p); // let d = vec2.len(v12);\n          // vec2.scale(v12, v12, 1 / d);\n          // let gravityFactor = gravity;\n\n          scaleAndAdd(n.p, n.p, v12, gravity * friction);\n        }\n      } // Repulsive\n      // PENDING\n\n\n      for (var i = 0; i < nLen; i++) {\n        var n1 = nodes[i];\n\n        for (var j = i + 1; j < nLen; j++) {\n          var n2 = nodes[j];\n          vec2.sub(v12, n2.p, n1.p);\n          var d = vec2.len(v12);\n\n          if (d === 0) {\n            // Random repulse\n            vec2.set(v12, Math.random() - 0.5, Math.random() - 0.5);\n            d = 1;\n          }\n\n          var repFact = (n1.rep + n2.rep) / d / d;\n          !n1.fixed && scaleAndAdd(n1.pp, n1.pp, v12, repFact);\n          !n2.fixed && scaleAndAdd(n2.pp, n2.pp, v12, -repFact);\n        }\n      }\n\n      var v = [];\n\n      for (var i = 0; i < nLen; i++) {\n        var n = nodes[i];\n\n        if (!n.fixed) {\n          vec2.sub(v, n.p, n.pp);\n          scaleAndAdd(n.p, n.p, v, friction);\n          vec2.copy(n.pp, n.p);\n        }\n      }\n\n      friction = friction * 0.992;\n      var finished = friction < 0.01;\n      afterStepCallback && afterStepCallback(nodes, edges, finished);\n      cb && cb(finished);\n    }\n  };\n}", "\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { forceLayout } from './forceHelper';\nimport { simpleLayout } from './simpleLayoutHelper';\nimport { circularLayout } from './circularLayoutHelper';\nimport { linearMap } from '../../util/number';\nimport * as vec2 from 'zrender/lib/core/vector';\nimport * as zrUtil from 'zrender/lib/core/util';\nimport { getCurvenessForEdge } from '../helper/multipleGraphEdgeHelper';\nexport default function graphForceLayout(ecModel) {\n  ecModel.eachSeriesByType('graph', function (graphSeries) {\n    var coordSys = graphSeries.coordinateSystem;\n\n    if (coordSys && coordSys.type !== 'view') {\n      return;\n    }\n\n    if (graphSeries.get('layout') === 'force') {\n      var preservedPoints_1 = graphSeries.preservedPoints || {};\n      var graph_1 = graphSeries.getGraph();\n      var nodeData_1 = graph_1.data;\n      var edgeData = graph_1.edgeData;\n      var forceModel = graphSeries.getModel('force');\n      var initLayout = forceModel.get('initLayout');\n\n      if (graphSeries.preservedPoints) {\n        nodeData_1.each(function (idx) {\n          var id = nodeData_1.getId(idx);\n          nodeData_1.setItemLayout(idx, preservedPoints_1[id] || [NaN, NaN]);\n        });\n      } else if (!initLayout || initLayout === 'none') {\n        simpleLayout(graphSeries);\n      } else if (initLayout === 'circular') {\n        circularLayout(graphSeries, 'value');\n      }\n\n      var nodeDataExtent_1 = nodeData_1.getDataExtent('value');\n      var edgeDataExtent_1 = edgeData.getDataExtent('value'); // let edgeDataExtent = edgeData.getDataExtent('value');\n\n      var repulsion = forceModel.get('repulsion');\n      var edgeLength = forceModel.get('edgeLength');\n      var repulsionArr_1 = zrUtil.isArray(repulsion) ? repulsion : [repulsion, repulsion];\n      var edgeLengthArr_1 = zrUtil.isArray(edgeLength) ? edgeLength : [edgeLength, edgeLength]; // Larger value has smaller length\n\n      edgeLengthArr_1 = [edgeLengthArr_1[1], edgeLengthArr_1[0]];\n      var nodes_1 = nodeData_1.mapArray('value', function (value, idx) {\n        var point = nodeData_1.getItemLayout(idx);\n        var rep = linearMap(value, nodeDataExtent_1, repulsionArr_1);\n\n        if (isNaN(rep)) {\n          rep = (repulsionArr_1[0] + repulsionArr_1[1]) / 2;\n        }\n\n        return {\n          w: rep,\n          rep: rep,\n          fixed: nodeData_1.getItemModel(idx).get('fixed'),\n          p: !point || isNaN(point[0]) || isNaN(point[1]) ? null : point\n        };\n      });\n      var edges = edgeData.mapArray('value', function (value, idx) {\n        var edge = graph_1.getEdgeByIndex(idx);\n        var d = linearMap(value, edgeDataExtent_1, edgeLengthArr_1);\n\n        if (isNaN(d)) {\n          d = (edgeLengthArr_1[0] + edgeLengthArr_1[1]) / 2;\n        }\n\n        var edgeModel = edge.getModel();\n        var curveness = zrUtil.retrieve3(edge.getModel().get(['lineStyle', 'curveness']), -getCurvenessForEdge(edge, graphSeries, idx, true), 0);\n        return {\n          n1: nodes_1[edge.node1.dataIndex],\n          n2: nodes_1[edge.node2.dataIndex],\n          d: d,\n          curveness: curveness,\n          ignoreForceLayout: edgeModel.get('ignoreForceLayout')\n        };\n      }); // let coordSys = graphSeries.coordinateSystem;\n\n      var rect = coordSys.getBoundingRect();\n      var forceInstance = forceLayout(nodes_1, edges, {\n        rect: rect,\n        gravity: forceModel.get('gravity'),\n        friction: forceModel.get('friction')\n      });\n      forceInstance.beforeStep(function (nodes, edges) {\n        for (var i = 0, l = nodes.length; i < l; i++) {\n          if (nodes[i].fixed) {\n            // Write back to layout instance\n            vec2.copy(nodes[i].p, graph_1.getNodeByIndex(i).getLayout());\n          }\n        }\n      });\n      forceInstance.afterStep(function (nodes, edges, stopped) {\n        for (var i = 0, l = nodes.length; i < l; i++) {\n          if (!nodes[i].fixed) {\n            graph_1.getNodeByIndex(i).setLayout(nodes[i].p);\n          }\n\n          preservedPoints_1[nodeData_1.getId(i)] = nodes[i].p;\n        }\n\n        for (var i = 0, l = edges.length; i < l; i++) {\n          var e = edges[i];\n          var edge = graph_1.getEdgeByIndex(i);\n          var p1 = e.n1.p;\n          var p2 = e.n2.p;\n          var points = edge.getLayout();\n          points = points ? points.slice() : [];\n          points[0] = points[0] || [];\n          points[1] = points[1] || [];\n          vec2.copy(points[0], p1);\n          vec2.copy(points[1], p2);\n\n          if (+e.curveness) {\n            points[2] = [(p1[0] + p2[0]) / 2 - (p1[1] - p2[1]) * e.curveness, (p1[1] + p2[1]) / 2 - (p2[0] - p1[0]) * e.curveness];\n          }\n\n          edge.setLayout(points);\n        }\n      });\n      graphSeries.forceLayout = forceInstance;\n      graphSeries.preservedPoints = preservedPoints_1; // Step to get the layout\n\n      forceInstance.step();\n    } else {\n      // Remove prev injected forceLayout instance\n      graphSeries.forceLayout = null;\n    }\n  });\n}", "\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n// FIXME Where to create the simple view coordinate system\nimport View from '../../coord/View';\nimport { getLayoutRect } from '../../util/layout';\nimport * as bbox from 'zrender/lib/core/bbox';\nimport { extend } from 'zrender/lib/core/util';\n\nfunction getViewRect(seriesModel, api, aspect) {\n  var option = extend(seriesModel.getBoxLayoutParams(), {\n    aspect: aspect\n  });\n  return getLayoutRect(option, {\n    width: api.getWidth(),\n    height: api.getHeight()\n  });\n}\n\nexport default function createViewCoordSys(ecModel, api) {\n  var viewList = [];\n  ecModel.eachSeriesByType('graph', function (seriesModel) {\n    var coordSysType = seriesModel.get('coordinateSystem');\n\n    if (!coordSysType || coordSysType === 'view') {\n      var data_1 = seriesModel.getData();\n      var positions = data_1.mapArray(function (idx) {\n        var itemModel = data_1.getItemModel(idx);\n        return [+itemModel.get('x'), +itemModel.get('y')];\n      });\n      var min = [];\n      var max = [];\n      bbox.fromPoints(positions, min, max); // If width or height is 0\n\n      if (max[0] - min[0] === 0) {\n        max[0] += 1;\n        min[0] -= 1;\n      }\n\n      if (max[1] - min[1] === 0) {\n        max[1] += 1;\n        min[1] -= 1;\n      }\n\n      var aspect = (max[0] - min[0]) / (max[1] - min[1]); // FIXME If get view rect after data processed?\n\n      var viewRect = getViewRect(seriesModel, api, aspect); // Position may be NaN, use view rect instead\n\n      if (isNaN(aspect)) {\n        min = [viewRect.x, viewRect.y];\n        max = [viewRect.x + viewRect.width, viewRect.y + viewRect.height];\n      }\n\n      var bbWidth = max[0] - min[0];\n      var bbHeight = max[1] - min[1];\n      var viewWidth = viewRect.width;\n      var viewHeight = viewRect.height;\n      var viewCoordSys = seriesModel.coordinateSystem = new View();\n      viewCoordSys.zoomLimit = seriesModel.get('scaleLimit');\n      viewCoordSys.setBoundingRect(min[0], min[1], bbWidth, bbHeight);\n      viewCoordSys.setViewRect(viewRect.x, viewRect.y, viewWidth, viewHeight); // Update roam info\n\n      viewCoordSys.setCenter(seriesModel.get('center'));\n      viewCoordSys.setZoom(seriesModel.get('zoom'));\n      viewList.push(viewCoordSys);\n    }\n  });\n  return viewList;\n}", "\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport * as curveTool from 'zrender/lib/core/curve';\nimport * as vec2 from 'zrender/lib/core/vector';\nimport { getSymbolSize } from './graphHelper';\nvar v1 = [];\nvar v2 = [];\nvar v3 = [];\nvar quadraticAt = curveTool.quadraticAt;\nvar v2DistSquare = vec2.distSquare;\nvar mathAbs = Math.abs;\n\nfunction intersectCurveCircle(curvePoints, center, radius) {\n  var p0 = curvePoints[0];\n  var p1 = curvePoints[1];\n  var p2 = curvePoints[2];\n  var d = Infinity;\n  var t;\n  var radiusSquare = radius * radius;\n  var interval = 0.1;\n\n  for (var _t = 0.1; _t <= 0.9; _t += 0.1) {\n    v1[0] = quadraticAt(p0[0], p1[0], p2[0], _t);\n    v1[1] = quadraticAt(p0[1], p1[1], p2[1], _t);\n    var diff = mathAbs(v2DistSquare(v1, center) - radiusSquare);\n\n    if (diff < d) {\n      d = diff;\n      t = _t;\n    }\n  } // Assume the segment is monotone\uFF0CFind root through Bisection method\n  // At most 32 iteration\n\n\n  for (var i = 0; i < 32; i++) {\n    // let prev = t - interval;\n    var next = t + interval; // v1[0] = quadraticAt(p0[0], p1[0], p2[0], prev);\n    // v1[1] = quadraticAt(p0[1], p1[1], p2[1], prev);\n\n    v2[0] = quadraticAt(p0[0], p1[0], p2[0], t);\n    v2[1] = quadraticAt(p0[1], p1[1], p2[1], t);\n    v3[0] = quadraticAt(p0[0], p1[0], p2[0], next);\n    v3[1] = quadraticAt(p0[1], p1[1], p2[1], next);\n    var diff = v2DistSquare(v2, center) - radiusSquare;\n\n    if (mathAbs(diff) < 1e-2) {\n      break;\n    } // let prevDiff = v2DistSquare(v1, center) - radiusSquare;\n\n\n    var nextDiff = v2DistSquare(v3, center) - radiusSquare;\n    interval /= 2;\n\n    if (diff < 0) {\n      if (nextDiff >= 0) {\n        t = t + interval;\n      } else {\n        t = t - interval;\n      }\n    } else {\n      if (nextDiff >= 0) {\n        t = t - interval;\n      } else {\n        t = t + interval;\n      }\n    }\n  }\n\n  return t;\n} // Adjust edge to avoid\n\n\nexport default function adjustEdge(graph, scale) {\n  var tmp0 = [];\n  var quadraticSubdivide = curveTool.quadraticSubdivide;\n  var pts = [[], [], []];\n  var pts2 = [[], []];\n  var v = [];\n  scale /= 2;\n  graph.eachEdge(function (edge, idx) {\n    var linePoints = edge.getLayout();\n    var fromSymbol = edge.getVisual('fromSymbol');\n    var toSymbol = edge.getVisual('toSymbol');\n\n    if (!linePoints.__original) {\n      linePoints.__original = [vec2.clone(linePoints[0]), vec2.clone(linePoints[1])];\n\n      if (linePoints[2]) {\n        linePoints.__original.push(vec2.clone(linePoints[2]));\n      }\n    }\n\n    var originalPoints = linePoints.__original; // Quadratic curve\n\n    if (linePoints[2] != null) {\n      vec2.copy(pts[0], originalPoints[0]);\n      vec2.copy(pts[1], originalPoints[2]);\n      vec2.copy(pts[2], originalPoints[1]);\n\n      if (fromSymbol && fromSymbol !== 'none') {\n        var symbolSize = getSymbolSize(edge.node1);\n        var t = intersectCurveCircle(pts, originalPoints[0], symbolSize * scale); // Subdivide and get the second\n\n        quadraticSubdivide(pts[0][0], pts[1][0], pts[2][0], t, tmp0);\n        pts[0][0] = tmp0[3];\n        pts[1][0] = tmp0[4];\n        quadraticSubdivide(pts[0][1], pts[1][1], pts[2][1], t, tmp0);\n        pts[0][1] = tmp0[3];\n        pts[1][1] = tmp0[4];\n      }\n\n      if (toSymbol && toSymbol !== 'none') {\n        var symbolSize = getSymbolSize(edge.node2);\n        var t = intersectCurveCircle(pts, originalPoints[1], symbolSize * scale); // Subdivide and get the first\n\n        quadraticSubdivide(pts[0][0], pts[1][0], pts[2][0], t, tmp0);\n        pts[1][0] = tmp0[1];\n        pts[2][0] = tmp0[2];\n        quadraticSubdivide(pts[0][1], pts[1][1], pts[2][1], t, tmp0);\n        pts[1][1] = tmp0[1];\n        pts[2][1] = tmp0[2];\n      } // Copy back to layout\n\n\n      vec2.copy(linePoints[0], pts[0]);\n      vec2.copy(linePoints[1], pts[2]);\n      vec2.copy(linePoints[2], pts[1]);\n    } // Line\n    else {\n        vec2.copy(pts2[0], originalPoints[0]);\n        vec2.copy(pts2[1], originalPoints[1]);\n        vec2.sub(v, pts2[1], pts2[0]);\n        vec2.normalize(v, v);\n\n        if (fromSymbol && fromSymbol !== 'none') {\n          var symbolSize = getSymbolSize(edge.node1);\n          vec2.scaleAndAdd(pts2[0], pts2[0], v, symbolSize * scale);\n        }\n\n        if (toSymbol && toSymbol !== 'none') {\n          var symbolSize = getSymbolSize(edge.node2);\n          vec2.scaleAndAdd(pts2[1], pts2[1], v, -symbolSize * scale);\n        }\n\n        vec2.copy(linePoints[0], pts2[0]);\n        vec2.copy(linePoints[1], pts2[1]);\n      }\n  });\n}", "\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { __extends } from \"tslib\";\nimport * as zrUtil from 'zrender/lib/core/util';\nimport SymbolDraw from '../helper/SymbolDraw';\nimport LineDraw from '../helper/LineDraw';\nimport RoamController from '../../component/helper/RoamController';\nimport * as roamHelper from '../../component/helper/roamHelper';\nimport { onIrrelevantElement } from '../../component/helper/cursorHelper';\nimport * as graphic from '../../util/graphic';\nimport adjustEdge from './adjustEdge';\nimport { getNodeGlobalScale } from './graphHelper';\nimport ChartView from '../../view/Chart';\nimport { getECData } from '../../util/innerStore';\n\nfunction isViewCoordSys(coordSys) {\n  return coordSys.type === 'view';\n}\n\nvar GraphView =\n/** @class */\nfunction (_super) {\n  __extends(GraphView, _super);\n\n  function GraphView() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n\n    _this.type = GraphView.type;\n    return _this;\n  }\n\n  GraphView.prototype.init = function (ecModel, api) {\n    var symbolDraw = new SymbolDraw();\n    var lineDraw = new LineDraw();\n    var group = this.group;\n    this._controller = new RoamController(api.getZr());\n    this._controllerHost = {\n      target: group\n    };\n    group.add(symbolDraw.group);\n    group.add(lineDraw.group);\n    this._symbolDraw = symbolDraw;\n    this._lineDraw = lineDraw;\n    this._firstRender = true;\n  };\n\n  GraphView.prototype.render = function (seriesModel, ecModel, api) {\n    var _this = this;\n\n    var coordSys = seriesModel.coordinateSystem;\n    this._model = seriesModel;\n    var symbolDraw = this._symbolDraw;\n    var lineDraw = this._lineDraw;\n    var group = this.group;\n\n    if (isViewCoordSys(coordSys)) {\n      var groupNewProp = {\n        x: coordSys.x,\n        y: coordSys.y,\n        scaleX: coordSys.scaleX,\n        scaleY: coordSys.scaleY\n      };\n\n      if (this._firstRender) {\n        group.attr(groupNewProp);\n      } else {\n        graphic.updateProps(group, groupNewProp, seriesModel);\n      }\n    } // Fix edge contact point with node\n\n\n    adjustEdge(seriesModel.getGraph(), getNodeGlobalScale(seriesModel));\n    var data = seriesModel.getData();\n    symbolDraw.updateData(data);\n    var edgeData = seriesModel.getEdgeData(); // TODO: TYPE\n\n    lineDraw.updateData(edgeData);\n\n    this._updateNodeAndLinkScale();\n\n    this._updateController(seriesModel, ecModel, api);\n\n    clearTimeout(this._layoutTimeout);\n    var forceLayout = seriesModel.forceLayout;\n    var layoutAnimation = seriesModel.get(['force', 'layoutAnimation']);\n\n    if (forceLayout) {\n      this._startForceLayoutIteration(forceLayout, layoutAnimation);\n    }\n\n    data.graph.eachNode(function (node) {\n      var idx = node.dataIndex;\n      var el = node.getGraphicEl();\n      var itemModel = node.getModel(); // Update draggable\n\n      el.off('drag').off('dragend');\n      var draggable = itemModel.get('draggable');\n\n      if (draggable) {\n        el.on('drag', function () {\n          if (forceLayout) {\n            forceLayout.warmUp();\n            !_this._layouting && _this._startForceLayoutIteration(forceLayout, layoutAnimation);\n            forceLayout.setFixed(idx); // Write position back to layout\n\n            data.setItemLayout(idx, [el.x, el.y]);\n          }\n        }).on('dragend', function () {\n          if (forceLayout) {\n            forceLayout.setUnfixed(idx);\n          }\n        });\n      }\n\n      el.setDraggable(draggable && !!forceLayout);\n      var focus = itemModel.get(['emphasis', 'focus']);\n\n      if (focus === 'adjacency') {\n        getECData(el).focus = node.getAdjacentDataIndices();\n      }\n    });\n    data.graph.eachEdge(function (edge) {\n      var el = edge.getGraphicEl();\n      var focus = edge.getModel().get(['emphasis', 'focus']);\n\n      if (focus === 'adjacency') {\n        getECData(el).focus = {\n          edge: [edge.dataIndex],\n          node: [edge.node1.dataIndex, edge.node2.dataIndex]\n        };\n      }\n    });\n    var circularRotateLabel = seriesModel.get('layout') === 'circular' && seriesModel.get(['circular', 'rotateLabel']);\n    var cx = data.getLayout('cx');\n    var cy = data.getLayout('cy');\n    data.eachItemGraphicEl(function (el, idx) {\n      var itemModel = data.getItemModel(idx);\n      var labelRotate = itemModel.get(['label', 'rotate']) || 0;\n      var symbolPath = el.getSymbolPath();\n\n      if (circularRotateLabel) {\n        var pos = data.getItemLayout(idx);\n        var rad = Math.atan2(pos[1] - cy, pos[0] - cx);\n\n        if (rad < 0) {\n          rad = Math.PI * 2 + rad;\n        }\n\n        var isLeft = pos[0] < cx;\n\n        if (isLeft) {\n          rad = rad - Math.PI;\n        }\n\n        var textPosition = isLeft ? 'left' : 'right';\n        symbolPath.setTextConfig({\n          rotation: -rad,\n          position: textPosition,\n          origin: 'center'\n        });\n        var emphasisState = symbolPath.ensureState('emphasis');\n        zrUtil.extend(emphasisState.textConfig || (emphasisState.textConfig = {}), {\n          position: textPosition\n        });\n      } else {\n        symbolPath.setTextConfig({\n          rotation: labelRotate *= Math.PI / 180\n        });\n      }\n    });\n    this._firstRender = false;\n  };\n\n  GraphView.prototype.dispose = function () {\n    this._controller && this._controller.dispose();\n    this._controllerHost = null;\n  };\n\n  GraphView.prototype._startForceLayoutIteration = function (forceLayout, layoutAnimation) {\n    var self = this;\n\n    (function step() {\n      forceLayout.step(function (stopped) {\n        self.updateLayout(self._model);\n        (self._layouting = !stopped) && (layoutAnimation ? self._layoutTimeout = setTimeout(step, 16) : step());\n      });\n    })();\n  };\n\n  GraphView.prototype._updateController = function (seriesModel, ecModel, api) {\n    var _this = this;\n\n    var controller = this._controller;\n    var controllerHost = this._controllerHost;\n    var group = this.group;\n    controller.setPointerChecker(function (e, x, y) {\n      var rect = group.getBoundingRect();\n      rect.applyTransform(group.transform);\n      return rect.contain(x, y) && !onIrrelevantElement(e, api, seriesModel);\n    });\n\n    if (!isViewCoordSys(seriesModel.coordinateSystem)) {\n      controller.disable();\n      return;\n    }\n\n    controller.enable(seriesModel.get('roam'));\n    controllerHost.zoomLimit = seriesModel.get('scaleLimit');\n    controllerHost.zoom = seriesModel.coordinateSystem.getZoom();\n    controller.off('pan').off('zoom').on('pan', function (e) {\n      roamHelper.updateViewOnPan(controllerHost, e.dx, e.dy);\n      api.dispatchAction({\n        seriesId: seriesModel.id,\n        type: 'graphRoam',\n        dx: e.dx,\n        dy: e.dy\n      });\n    }).on('zoom', function (e) {\n      roamHelper.updateViewOnZoom(controllerHost, e.scale, e.originX, e.originY);\n      api.dispatchAction({\n        seriesId: seriesModel.id,\n        type: 'graphRoam',\n        zoom: e.scale,\n        originX: e.originX,\n        originY: e.originY\n      });\n\n      _this._updateNodeAndLinkScale();\n\n      adjustEdge(seriesModel.getGraph(), getNodeGlobalScale(seriesModel));\n\n      _this._lineDraw.updateLayout(); // Only update label layout on zoom\n\n\n      api.updateLabelLayout();\n    });\n  };\n\n  GraphView.prototype._updateNodeAndLinkScale = function () {\n    var seriesModel = this._model;\n    var data = seriesModel.getData();\n    var nodeScale = getNodeGlobalScale(seriesModel);\n    data.eachItemGraphicEl(function (el, idx) {\n      el.setSymbolScale(nodeScale);\n    });\n  };\n\n  GraphView.prototype.updateLayout = function (seriesModel) {\n    adjustEdge(seriesModel.getGraph(), getNodeGlobalScale(seriesModel));\n\n    this._symbolDraw.updateLayout();\n\n    this._lineDraw.updateLayout();\n  };\n\n  GraphView.prototype.remove = function (ecModel, api) {\n    this._symbolDraw && this._symbolDraw.remove();\n    this._lineDraw && this._lineDraw.remove();\n  };\n\n  GraphView.type = 'graph';\n  return GraphView;\n}(ChartView);\n\nexport default GraphView;", "\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport * as zrUtil from 'zrender/lib/core/util'; // id may be function name of Object, add a prefix to avoid this problem.\n\nfunction generateNodeKey(id) {\n  return '_EC_' + id;\n}\n\nvar Graph =\n/** @class */\nfunction () {\n  function Graph(directed) {\n    this.type = 'graph';\n    this.nodes = [];\n    this.edges = [];\n    this._nodesMap = {};\n    /**\n     * @type {Object.<string, module:echarts/data/Graph.Edge>}\n     * @private\n     */\n\n    this._edgesMap = {};\n    this._directed = directed || false;\n  }\n  /**\n   * If is directed graph\n   */\n\n\n  Graph.prototype.isDirected = function () {\n    return this._directed;\n  };\n\n  ;\n  /**\n   * Add a new node\n   */\n\n  Graph.prototype.addNode = function (id, dataIndex) {\n    id = id == null ? '' + dataIndex : '' + id;\n    var nodesMap = this._nodesMap;\n\n    if (nodesMap[generateNodeKey(id)]) {\n      if (process.env.NODE_ENV !== 'production') {\n        console.error('Graph nodes have duplicate name or id');\n      }\n\n      return;\n    }\n\n    var node = new GraphNode(id, dataIndex);\n    node.hostGraph = this;\n    this.nodes.push(node);\n    nodesMap[generateNodeKey(id)] = node;\n    return node;\n  };\n\n  ;\n  /**\n   * Get node by data index\n   */\n\n  Graph.prototype.getNodeByIndex = function (dataIndex) {\n    var rawIdx = this.data.getRawIndex(dataIndex);\n    return this.nodes[rawIdx];\n  };\n\n  ;\n  /**\n   * Get node by id\n   */\n\n  Graph.prototype.getNodeById = function (id) {\n    return this._nodesMap[generateNodeKey(id)];\n  };\n\n  ;\n  /**\n   * Add a new edge\n   */\n\n  Graph.prototype.addEdge = function (n1, n2, dataIndex) {\n    var nodesMap = this._nodesMap;\n    var edgesMap = this._edgesMap; // PNEDING\n\n    if (typeof n1 === 'number') {\n      n1 = this.nodes[n1];\n    }\n\n    if (typeof n2 === 'number') {\n      n2 = this.nodes[n2];\n    }\n\n    if (!(n1 instanceof GraphNode)) {\n      n1 = nodesMap[generateNodeKey(n1)];\n    }\n\n    if (!(n2 instanceof GraphNode)) {\n      n2 = nodesMap[generateNodeKey(n2)];\n    }\n\n    if (!n1 || !n2) {\n      return;\n    }\n\n    var key = n1.id + '-' + n2.id;\n    var edge = new GraphEdge(n1, n2, dataIndex);\n    edge.hostGraph = this;\n\n    if (this._directed) {\n      n1.outEdges.push(edge);\n      n2.inEdges.push(edge);\n    }\n\n    n1.edges.push(edge);\n\n    if (n1 !== n2) {\n      n2.edges.push(edge);\n    }\n\n    this.edges.push(edge);\n    edgesMap[key] = edge;\n    return edge;\n  };\n\n  ;\n  /**\n   * Get edge by data index\n   */\n\n  Graph.prototype.getEdgeByIndex = function (dataIndex) {\n    var rawIdx = this.edgeData.getRawIndex(dataIndex);\n    return this.edges[rawIdx];\n  };\n\n  ;\n  /**\n   * Get edge by two linked nodes\n   */\n\n  Graph.prototype.getEdge = function (n1, n2) {\n    if (n1 instanceof GraphNode) {\n      n1 = n1.id;\n    }\n\n    if (n2 instanceof GraphNode) {\n      n2 = n2.id;\n    }\n\n    var edgesMap = this._edgesMap;\n\n    if (this._directed) {\n      return edgesMap[n1 + '-' + n2];\n    } else {\n      return edgesMap[n1 + '-' + n2] || edgesMap[n2 + '-' + n1];\n    }\n  };\n\n  ;\n  /**\n   * Iterate all nodes\n   */\n\n  Graph.prototype.eachNode = function (cb, context) {\n    var nodes = this.nodes;\n    var len = nodes.length;\n\n    for (var i = 0; i < len; i++) {\n      if (nodes[i].dataIndex >= 0) {\n        cb.call(context, nodes[i], i);\n      }\n    }\n  };\n\n  ;\n  /**\n   * Iterate all edges\n   */\n\n  Graph.prototype.eachEdge = function (cb, context) {\n    var edges = this.edges;\n    var len = edges.length;\n\n    for (var i = 0; i < len; i++) {\n      if (edges[i].dataIndex >= 0 && edges[i].node1.dataIndex >= 0 && edges[i].node2.dataIndex >= 0) {\n        cb.call(context, edges[i], i);\n      }\n    }\n  };\n\n  ;\n  /**\n   * Breadth first traverse\n   * Return true to stop traversing\n   */\n\n  Graph.prototype.breadthFirstTraverse = function (cb, startNode, direction, context) {\n    if (!(startNode instanceof GraphNode)) {\n      startNode = this._nodesMap[generateNodeKey(startNode)];\n    }\n\n    if (!startNode) {\n      return;\n    }\n\n    var edgeType = direction === 'out' ? 'outEdges' : direction === 'in' ? 'inEdges' : 'edges';\n\n    for (var i = 0; i < this.nodes.length; i++) {\n      this.nodes[i].__visited = false;\n    }\n\n    if (cb.call(context, startNode, null)) {\n      return;\n    }\n\n    var queue = [startNode];\n\n    while (queue.length) {\n      var currentNode = queue.shift();\n      var edges = currentNode[edgeType];\n\n      for (var i = 0; i < edges.length; i++) {\n        var e = edges[i];\n        var otherNode = e.node1 === currentNode ? e.node2 : e.node1;\n\n        if (!otherNode.__visited) {\n          if (cb.call(context, otherNode, currentNode)) {\n            // Stop traversing\n            return;\n          }\n\n          queue.push(otherNode);\n          otherNode.__visited = true;\n        }\n      }\n    }\n  };\n\n  ; // TODO\n  // depthFirstTraverse(\n  //     cb, startNode, direction, context\n  // ) {\n  // };\n  // Filter update\n\n  Graph.prototype.update = function () {\n    var data = this.data;\n    var edgeData = this.edgeData;\n    var nodes = this.nodes;\n    var edges = this.edges;\n\n    for (var i = 0, len = nodes.length; i < len; i++) {\n      nodes[i].dataIndex = -1;\n    }\n\n    for (var i = 0, len = data.count(); i < len; i++) {\n      nodes[data.getRawIndex(i)].dataIndex = i;\n    }\n\n    edgeData.filterSelf(function (idx) {\n      var edge = edges[edgeData.getRawIndex(idx)];\n      return edge.node1.dataIndex >= 0 && edge.node2.dataIndex >= 0;\n    }); // Update edge\n\n    for (var i = 0, len = edges.length; i < len; i++) {\n      edges[i].dataIndex = -1;\n    }\n\n    for (var i = 0, len = edgeData.count(); i < len; i++) {\n      edges[edgeData.getRawIndex(i)].dataIndex = i;\n    }\n  };\n\n  ;\n  /**\n   * @return {module:echarts/data/Graph}\n   */\n\n  Graph.prototype.clone = function () {\n    var graph = new Graph(this._directed);\n    var nodes = this.nodes;\n    var edges = this.edges;\n\n    for (var i = 0; i < nodes.length; i++) {\n      graph.addNode(nodes[i].id, nodes[i].dataIndex);\n    }\n\n    for (var i = 0; i < edges.length; i++) {\n      var e = edges[i];\n      graph.addEdge(e.node1.id, e.node2.id, e.dataIndex);\n    }\n\n    return graph;\n  };\n\n  ;\n  return Graph;\n}();\n\nvar GraphNode =\n/** @class */\nfunction () {\n  function GraphNode(id, dataIndex) {\n    this.inEdges = [];\n    this.outEdges = [];\n    this.edges = [];\n    this.dataIndex = -1;\n    this.id = id == null ? '' : id;\n    this.dataIndex = dataIndex == null ? -1 : dataIndex;\n  }\n  /**\n   * @return {number}\n   */\n\n\n  GraphNode.prototype.degree = function () {\n    return this.edges.length;\n  };\n  /**\n   * @return {number}\n   */\n\n\n  GraphNode.prototype.inDegree = function () {\n    return this.inEdges.length;\n  };\n  /**\n  * @return {number}\n  */\n\n\n  GraphNode.prototype.outDegree = function () {\n    return this.outEdges.length;\n  };\n\n  GraphNode.prototype.getModel = function (path) {\n    if (this.dataIndex < 0) {\n      return;\n    }\n\n    var graph = this.hostGraph;\n    var itemModel = graph.data.getItemModel(this.dataIndex);\n    return itemModel.getModel(path);\n  };\n\n  GraphNode.prototype.getAdjacentDataIndices = function () {\n    var dataIndices = {\n      edge: [],\n      node: []\n    };\n\n    for (var i = 0; i < this.edges.length; i++) {\n      var adjacentEdge = this.edges[i];\n\n      if (adjacentEdge.dataIndex < 0) {\n        continue;\n      }\n\n      dataIndices.edge.push(adjacentEdge.dataIndex);\n      dataIndices.node.push(adjacentEdge.node1.dataIndex, adjacentEdge.node2.dataIndex);\n    }\n\n    return dataIndices;\n  };\n\n  return GraphNode;\n}();\n\nvar GraphEdge =\n/** @class */\nfunction () {\n  function GraphEdge(n1, n2, dataIndex) {\n    this.dataIndex = -1;\n    this.node1 = n1;\n    this.node2 = n2;\n    this.dataIndex = dataIndex == null ? -1 : dataIndex;\n  }\n\n  GraphEdge.prototype.getModel = function (path) {\n    if (this.dataIndex < 0) {\n      return;\n    }\n\n    var graph = this.hostGraph;\n    var itemModel = graph.edgeData.getItemModel(this.dataIndex);\n    return itemModel.getModel(path);\n  };\n\n  GraphEdge.prototype.getAdjacentDataIndices = function () {\n    return {\n      edge: [this.dataIndex],\n      node: [this.node1.dataIndex, this.node2.dataIndex]\n    };\n  };\n\n  return GraphEdge;\n}();\n\nfunction createGraphDataProxyMixin(hostName, dataName) {\n  return {\n    /**\n     * @param Default 'value'. can be 'a', 'b', 'c', 'd', 'e'.\n     */\n    getValue: function (dimension) {\n      var data = this[hostName][dataName];\n      return data.get(data.getDimension(dimension || 'value'), this.dataIndex);\n    },\n    // TODO: TYPE stricter type.\n    setVisual: function (key, value) {\n      this.dataIndex >= 0 && this[hostName][dataName].setItemVisual(this.dataIndex, key, value);\n    },\n    getVisual: function (key) {\n      return this[hostName][dataName].getItemVisual(this.dataIndex, key);\n    },\n    setLayout: function (layout, merge) {\n      this.dataIndex >= 0 && this[hostName][dataName].setItemLayout(this.dataIndex, layout, merge);\n    },\n    getLayout: function () {\n      return this[hostName][dataName].getItemLayout(this.dataIndex);\n    },\n    getGraphicEl: function () {\n      return this[hostName][dataName].getItemGraphicEl(this.dataIndex);\n    },\n    getRawIndex: function () {\n      return this[hostName][dataName].getRawIndex(this.dataIndex);\n    }\n  };\n}\n\n;\n;\n;\nzrUtil.mixin(GraphNode, createGraphDataProxyMixin('hostGraph', 'data'));\nzrUtil.mixin(GraphEdge, createGraphDataProxyMixin('hostGraph', 'edgeData'));\nexport default Graph;\nexport { GraphNode, GraphEdge };", "\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport * as zrUtil from 'zrender/lib/core/util';\nimport List from '../../data/List';\nimport Graph from '../../data/Graph';\nimport linkList from '../../data/helper/linkList';\nimport createDimensions from '../../data/helper/createDimensions';\nimport CoordinateSystem from '../../core/CoordinateSystem';\nimport createListFromArray from './createListFromArray';\nimport { convertOptionIdName } from '../../util/model';\nexport default function createGraphFromNodeEdge(nodes, edges, seriesModel, directed, beforeLink) {\n  // ??? TODO\n  // support dataset?\n  var graph = new Graph(directed);\n\n  for (var i = 0; i < nodes.length; i++) {\n    graph.addNode(zrUtil.retrieve( // Id, name, dataIndex\n    nodes[i].id, nodes[i].name, i), i);\n  }\n\n  var linkNameList = [];\n  var validEdges = [];\n  var linkCount = 0;\n\n  for (var i = 0; i < edges.length; i++) {\n    var link = edges[i];\n    var source = link.source;\n    var target = link.target; // addEdge may fail when source or target not exists\n\n    if (graph.addEdge(source, target, linkCount)) {\n      validEdges.push(link);\n      linkNameList.push(zrUtil.retrieve(convertOptionIdName(link.id, null), source + ' > ' + target));\n      linkCount++;\n    }\n  }\n\n  var coordSys = seriesModel.get('coordinateSystem');\n  var nodeData;\n\n  if (coordSys === 'cartesian2d' || coordSys === 'polar') {\n    nodeData = createListFromArray(nodes, seriesModel);\n  } else {\n    var coordSysCtor = CoordinateSystem.get(coordSys);\n    var coordDimensions = coordSysCtor ? coordSysCtor.dimensions || [] : []; // FIXME: Some geo do not need `value` dimenson, whereas `calendar` needs\n    // `value` dimension, but graph need `value` dimension. It's better to\n    // uniform this behavior.\n\n    if (zrUtil.indexOf(coordDimensions, 'value') < 0) {\n      coordDimensions.concat(['value']);\n    }\n\n    var dimensionNames = createDimensions(nodes, {\n      coordDimensions: coordDimensions\n    });\n    nodeData = new List(dimensionNames, seriesModel);\n    nodeData.initData(nodes);\n  }\n\n  var edgeData = new List(['value'], seriesModel);\n  edgeData.initData(validEdges, linkNameList);\n  beforeLink && beforeLink(nodeData, edgeData);\n  linkList({\n    mainData: nodeData,\n    struct: graph,\n    structAttr: 'graph',\n    datas: {\n      node: nodeData,\n      edge: edgeData\n    },\n    datasAttr: {\n      node: 'data',\n      edge: 'edgeData'\n    }\n  }); // Update dataIndex of nodes and edges because invalid edge may be removed\n\n  graph.update();\n  return graph;\n}", "\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { __extends } from \"tslib\";\nimport List from '../../data/List';\nimport * as zrUtil from 'zrender/lib/core/util';\nimport { defaultEmphasis } from '../../util/model';\nimport Model from '../../model/Model';\nimport createGraphFromNodeEdge from '../helper/createGraphFromNodeEdge';\nimport LegendVisualProvider from '../../visual/LegendVisualProvider';\nimport SeriesModel from '../../model/Series';\nimport { createTooltipMarkup } from '../../component/tooltip/tooltipMarkup';\nimport { defaultSeriesFormatTooltip } from '../../component/tooltip/seriesFormatTooltip';\nimport { initCurvenessList, createEdgeMapForCurveness } from '../helper/multipleGraphEdgeHelper';\n\nvar GraphSeriesModel =\n/** @class */\nfunction (_super) {\n  __extends(GraphSeriesModel, _super);\n\n  function GraphSeriesModel() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n\n    _this.type = GraphSeriesModel.type;\n    _this.hasSymbolVisual = true;\n    return _this;\n  }\n\n  GraphSeriesModel.prototype.init = function (option) {\n    _super.prototype.init.apply(this, arguments);\n\n    var self = this;\n\n    function getCategoriesData() {\n      return self._categoriesData;\n    } // Provide data for legend select\n\n\n    this.legendVisualProvider = new LegendVisualProvider(getCategoriesData, getCategoriesData);\n    this.fillDataTextStyle(option.edges || option.links);\n\n    this._updateCategoriesData();\n  };\n\n  GraphSeriesModel.prototype.mergeOption = function (option) {\n    _super.prototype.mergeOption.apply(this, arguments);\n\n    this.fillDataTextStyle(option.edges || option.links);\n\n    this._updateCategoriesData();\n  };\n\n  GraphSeriesModel.prototype.mergeDefaultAndTheme = function (option) {\n    _super.prototype.mergeDefaultAndTheme.apply(this, arguments);\n\n    defaultEmphasis(option, 'edgeLabel', ['show']);\n  };\n\n  GraphSeriesModel.prototype.getInitialData = function (option, ecModel) {\n    var edges = option.edges || option.links || [];\n    var nodes = option.data || option.nodes || [];\n    var self = this;\n\n    if (nodes && edges) {\n      // auto curveness\n      initCurvenessList(this);\n      var graph = createGraphFromNodeEdge(nodes, edges, this, true, beforeLink);\n      zrUtil.each(graph.edges, function (edge) {\n        createEdgeMapForCurveness(edge.node1, edge.node2, this, edge.dataIndex);\n      }, this);\n      return graph.data;\n    }\n\n    function beforeLink(nodeData, edgeData) {\n      // Overwrite nodeData.getItemModel to\n      nodeData.wrapMethod('getItemModel', function (model) {\n        var categoriesModels = self._categoriesModels;\n        var categoryIdx = model.getShallow('category');\n        var categoryModel = categoriesModels[categoryIdx];\n\n        if (categoryModel) {\n          categoryModel.parentModel = model.parentModel;\n          model.parentModel = categoryModel;\n        }\n\n        return model;\n      }); // TODO Inherit resolveParentPath by default in Model#getModel?\n\n      var oldGetModel = Model.prototype.getModel;\n\n      function newGetModel(path, parentModel) {\n        var model = oldGetModel.call(this, path, parentModel);\n        model.resolveParentPath = resolveParentPath;\n        return model;\n      }\n\n      edgeData.wrapMethod('getItemModel', function (model) {\n        model.resolveParentPath = resolveParentPath;\n        model.getModel = newGetModel;\n        return model;\n      });\n\n      function resolveParentPath(pathArr) {\n        if (pathArr && (pathArr[0] === 'label' || pathArr[1] === 'label')) {\n          var newPathArr = pathArr.slice();\n\n          if (pathArr[0] === 'label') {\n            newPathArr[0] = 'edgeLabel';\n          } else if (pathArr[1] === 'label') {\n            newPathArr[1] = 'edgeLabel';\n          }\n\n          return newPathArr;\n        }\n\n        return pathArr;\n      }\n    }\n  };\n\n  GraphSeriesModel.prototype.getGraph = function () {\n    return this.getData().graph;\n  };\n\n  GraphSeriesModel.prototype.getEdgeData = function () {\n    return this.getGraph().edgeData;\n  };\n\n  GraphSeriesModel.prototype.getCategoriesData = function () {\n    return this._categoriesData;\n  };\n\n  GraphSeriesModel.prototype.formatTooltip = function (dataIndex, multipleSeries, dataType) {\n    if (dataType === 'edge') {\n      var nodeData = this.getData();\n      var params = this.getDataParams(dataIndex, dataType);\n      var edge = nodeData.graph.getEdgeByIndex(dataIndex);\n      var sourceName = nodeData.getName(edge.node1.dataIndex);\n      var targetName = nodeData.getName(edge.node2.dataIndex);\n      var nameArr = [];\n      sourceName != null && nameArr.push(sourceName);\n      targetName != null && nameArr.push(targetName);\n      return createTooltipMarkup('nameValue', {\n        name: nameArr.join(' > '),\n        value: params.value,\n        noValue: params.value == null\n      });\n    } // dataType === 'node' or empty\n\n\n    var nodeMarkup = defaultSeriesFormatTooltip({\n      series: this,\n      dataIndex: dataIndex,\n      multipleSeries: multipleSeries\n    });\n    return nodeMarkup;\n  };\n\n  GraphSeriesModel.prototype._updateCategoriesData = function () {\n    var categories = zrUtil.map(this.option.categories || [], function (category) {\n      // Data must has value\n      return category.value != null ? category : zrUtil.extend({\n        value: 0\n      }, category);\n    });\n    var categoriesData = new List(['value'], this);\n    categoriesData.initData(categories);\n    this._categoriesData = categoriesData;\n    this._categoriesModels = categoriesData.mapArray(function (idx) {\n      return categoriesData.getItemModel(idx);\n    });\n  };\n\n  GraphSeriesModel.prototype.setZoom = function (zoom) {\n    this.option.zoom = zoom;\n  };\n\n  GraphSeriesModel.prototype.setCenter = function (center) {\n    this.option.center = center;\n  };\n\n  GraphSeriesModel.prototype.isAnimationEnabled = function () {\n    return _super.prototype.isAnimationEnabled.call(this) // Not enable animation when do force layout\n    && !(this.get('layout') === 'force' && this.get(['force', 'layoutAnimation']));\n  };\n\n  GraphSeriesModel.type = 'series.graph';\n  GraphSeriesModel.dependencies = ['grid', 'polar', 'geo', 'singleAxis', 'calendar'];\n  GraphSeriesModel.defaultOption = {\n    zlevel: 0,\n    z: 2,\n    coordinateSystem: 'view',\n    // Default option for all coordinate systems\n    // xAxisIndex: 0,\n    // yAxisIndex: 0,\n    // polarIndex: 0,\n    // geoIndex: 0,\n    legendHoverLink: true,\n    layout: null,\n    // Configuration of circular layout\n    circular: {\n      rotateLabel: false\n    },\n    // Configuration of force directed layout\n    force: {\n      initLayout: null,\n      // Node repulsion. Can be an array to represent range.\n      repulsion: [0, 50],\n      gravity: 0.1,\n      // Initial friction\n      friction: 0.6,\n      // Edge length. Can be an array to represent range.\n      edgeLength: 30,\n      layoutAnimation: true\n    },\n    left: 'center',\n    top: 'center',\n    // right: null,\n    // bottom: null,\n    // width: '80%',\n    // height: '80%',\n    symbol: 'circle',\n    symbolSize: 10,\n    edgeSymbol: ['none', 'none'],\n    edgeSymbolSize: 10,\n    edgeLabel: {\n      position: 'middle',\n      distance: 5\n    },\n    draggable: false,\n    roam: false,\n    // Default on center of graph\n    center: null,\n    zoom: 1,\n    // Symbol size scale ratio in roam\n    nodeScaleRatio: 0.6,\n    // cursor: null,\n    // categories: [],\n    // data: []\n    // Or\n    // nodes: []\n    //\n    // links: []\n    // Or\n    // edges: []\n    label: {\n      show: false,\n      formatter: '{b}'\n    },\n    itemStyle: {},\n    lineStyle: {\n      color: '#aaa',\n      width: 1,\n      opacity: 0.5\n    },\n    emphasis: {\n      scale: true,\n      label: {\n        show: true\n      }\n    },\n    select: {\n      itemStyle: {\n        borderColor: '#212121'\n      }\n    }\n  };\n  return GraphSeriesModel;\n}(SeriesModel);\n\nexport default GraphSeriesModel;", "\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport categoryFilter from './categoryFilter';\nimport categoryVisual from './categoryVisual';\nimport edgeVisual from './edgeVisual';\nimport simpleLayout from './simpleLayout';\nimport circularLayout from './circularLayout';\nimport forceLayout from './forceLayout';\nimport createView from './createView';\nimport View from '../../coord/View';\nimport GraphView from './GraphView';\nimport GraphSeriesModel from './GraphSeries';\nimport { updateCenterAndZoom } from '../../action/roamHelper';\nvar actionInfo = {\n  type: 'graphRoam',\n  event: 'graphRoam',\n  update: 'none'\n};\nexport function install(registers) {\n  registers.registerChartView(GraphView);\n  registers.registerSeriesModel(GraphSeriesModel);\n  registers.registerProcessor(categoryFilter);\n  registers.registerVisual(categoryVisual);\n  registers.registerVisual(edgeVisual);\n  registers.registerLayout(simpleLayout);\n  registers.registerLayout(registers.PRIORITY.VISUAL.POST_CHART_LAYOUT, circularLayout);\n  registers.registerLayout(forceLayout);\n  registers.registerCoordinateSystem('graphView', {\n    dimensions: View.dimensions,\n    create: createView\n  }); // Register legacy focus actions\n\n  registers.registerAction({\n    type: 'focusNodeAdjacency',\n    event: 'focusNodeAdjacency',\n    update: 'series:focusNodeAdjacency'\n  }, function () {});\n  registers.registerAction({\n    type: 'unfocusNodeAdjacency',\n    event: 'unfocusNodeAdjacency',\n    update: 'series:unfocusNodeAdjacency'\n  }, function () {}); // Register roam action.\n\n  registers.registerAction(actionInfo, function (payload, ecModel) {\n    ecModel.eachComponent({\n      mainType: 'series',\n      query: payload\n    }, function (seriesModel) {\n      var coordSys = seriesModel.coordinateSystem;\n      var res = updateCenterAndZoom(coordSys, payload);\n      seriesModel.setCenter && seriesModel.setCenter(res.center);\n      seriesModel.setZoom && seriesModel.setZoom(res.zoom);\n    });\n  });\n}", "\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { __extends } from \"tslib\";\nimport Path from 'zrender/lib/graphic/Path';\n\nvar PointerShape =\n/** @class */\nfunction () {\n  function PointerShape() {\n    this.angle = 0;\n    this.width = 10;\n    this.r = 10;\n    this.x = 0;\n    this.y = 0;\n  }\n\n  return PointerShape;\n}();\n\nvar PointerPath =\n/** @class */\nfunction (_super) {\n  __extends(PointerPath, _super);\n\n  function PointerPath(opts) {\n    var _this = _super.call(this, opts) || this;\n\n    _this.type = 'pointer';\n    return _this;\n  }\n\n  PointerPath.prototype.getDefaultShape = function () {\n    return new PointerShape();\n  };\n\n  PointerPath.prototype.buildPath = function (ctx, shape) {\n    var mathCos = Math.cos;\n    var mathSin = Math.sin;\n    var r = shape.r;\n    var width = shape.width;\n    var angle = shape.angle;\n    var x = shape.x - mathCos(angle) * width * (width >= r / 3 ? 1 : 2);\n    var y = shape.y - mathSin(angle) * width * (width >= r / 3 ? 1 : 2);\n    angle = shape.angle - Math.PI / 2;\n    ctx.moveTo(x, y);\n    ctx.lineTo(shape.x + mathCos(angle) * width, shape.y + mathSin(angle) * width);\n    ctx.lineTo(shape.x + mathCos(shape.angle) * r, shape.y + mathSin(shape.angle) * r);\n    ctx.lineTo(shape.x - mathCos(angle) * width, shape.y - mathSin(angle) * width);\n    ctx.lineTo(x, y);\n  };\n\n  return PointerPath;\n}(Path);\n\nexport default PointerPath;", "\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { __extends } from \"tslib\";\nimport PointerPath from './PointerPath';\nimport * as graphic from '../../util/graphic';\nimport { setStatesStylesFromModel, enableHoverEmphasis } from '../../util/states';\nimport { createTextStyle, setLabelValueAnimation, animateLabelValue } from '../../label/labelStyle';\nimport ChartView from '../../view/Chart';\nimport { parsePercent, round, linearMap } from '../../util/number';\nimport Sausage from '../../util/shape/sausage';\nimport { createSymbol } from '../../util/symbol';\nimport ZRImage from 'zrender/lib/graphic/Image';\nimport { extend } from 'zrender/lib/core/util';\n\nfunction parsePosition(seriesModel, api) {\n  var center = seriesModel.get('center');\n  var width = api.getWidth();\n  var height = api.getHeight();\n  var size = Math.min(width, height);\n  var cx = parsePercent(center[0], api.getWidth());\n  var cy = parsePercent(center[1], api.getHeight());\n  var r = parsePercent(seriesModel.get('radius'), size / 2);\n  return {\n    cx: cx,\n    cy: cy,\n    r: r\n  };\n}\n\nfunction formatLabel(value, labelFormatter) {\n  var label = value == null ? '' : value + '';\n\n  if (labelFormatter) {\n    if (typeof labelFormatter === 'string') {\n      label = labelFormatter.replace('{value}', label);\n    } else if (typeof labelFormatter === 'function') {\n      label = labelFormatter(value);\n    }\n  }\n\n  return label;\n}\n\nvar PI2 = Math.PI * 2;\n\nvar GaugeView =\n/** @class */\nfunction (_super) {\n  __extends(GaugeView, _super);\n\n  function GaugeView() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n\n    _this.type = GaugeView.type;\n    return _this;\n  }\n\n  GaugeView.prototype.render = function (seriesModel, ecModel, api) {\n    this.group.removeAll();\n    var colorList = seriesModel.get(['axisLine', 'lineStyle', 'color']);\n    var posInfo = parsePosition(seriesModel, api);\n\n    this._renderMain(seriesModel, ecModel, api, colorList, posInfo);\n\n    this._data = seriesModel.getData();\n  };\n\n  GaugeView.prototype.dispose = function () {};\n\n  GaugeView.prototype._renderMain = function (seriesModel, ecModel, api, colorList, posInfo) {\n    var group = this.group;\n    var clockwise = seriesModel.get('clockwise');\n    var startAngle = -seriesModel.get('startAngle') / 180 * Math.PI;\n    var endAngle = -seriesModel.get('endAngle') / 180 * Math.PI;\n    var axisLineModel = seriesModel.getModel('axisLine');\n    var roundCap = axisLineModel.get('roundCap');\n    var MainPath = roundCap ? Sausage : graphic.Sector;\n    var showAxis = axisLineModel.get('show');\n    var lineStyleModel = axisLineModel.getModel('lineStyle');\n    var axisLineWidth = lineStyleModel.get('width');\n    var angleRangeSpan = !((endAngle - startAngle) % PI2) && endAngle !== startAngle ? PI2 : (endAngle - startAngle) % PI2;\n    var prevEndAngle = startAngle;\n\n    for (var i = 0; showAxis && i < colorList.length; i++) {\n      // Clamp\n      var percent = Math.min(Math.max(colorList[i][0], 0), 1);\n      endAngle = startAngle + angleRangeSpan * percent;\n      var sector = new MainPath({\n        shape: {\n          startAngle: prevEndAngle,\n          endAngle: endAngle,\n          cx: posInfo.cx,\n          cy: posInfo.cy,\n          clockwise: clockwise,\n          r0: posInfo.r - axisLineWidth,\n          r: posInfo.r\n        },\n        silent: true\n      });\n      sector.setStyle({\n        fill: colorList[i][1]\n      });\n      sector.setStyle(lineStyleModel.getLineStyle( // Because we use sector to simulate arc\n      // so the properties for stroking are useless\n      ['color', 'width']));\n      group.add(sector);\n      prevEndAngle = endAngle;\n    }\n\n    var getColor = function (percent) {\n      // Less than 0\n      if (percent <= 0) {\n        return colorList[0][1];\n      }\n\n      var i;\n\n      for (i = 0; i < colorList.length; i++) {\n        if (colorList[i][0] >= percent && (i === 0 ? 0 : colorList[i - 1][0]) < percent) {\n          return colorList[i][1];\n        }\n      } // More than 1\n\n\n      return colorList[i - 1][1];\n    };\n\n    if (!clockwise) {\n      var tmp = startAngle;\n      startAngle = endAngle;\n      endAngle = tmp;\n    }\n\n    this._renderTicks(seriesModel, ecModel, api, getColor, posInfo, startAngle, endAngle, clockwise, axisLineWidth);\n\n    this._renderTitleAndDetail(seriesModel, ecModel, api, getColor, posInfo);\n\n    this._renderAnchor(seriesModel, posInfo);\n\n    this._renderPointer(seriesModel, ecModel, api, getColor, posInfo, startAngle, endAngle, clockwise, axisLineWidth);\n  };\n\n  GaugeView.prototype._renderTicks = function (seriesModel, ecModel, api, getColor, posInfo, startAngle, endAngle, clockwise, axisLineWidth) {\n    var group = this.group;\n    var cx = posInfo.cx;\n    var cy = posInfo.cy;\n    var r = posInfo.r;\n    var minVal = +seriesModel.get('min');\n    var maxVal = +seriesModel.get('max');\n    var splitLineModel = seriesModel.getModel('splitLine');\n    var tickModel = seriesModel.getModel('axisTick');\n    var labelModel = seriesModel.getModel('axisLabel');\n    var splitNumber = seriesModel.get('splitNumber');\n    var subSplitNumber = tickModel.get('splitNumber');\n    var splitLineLen = parsePercent(splitLineModel.get('length'), r);\n    var tickLen = parsePercent(tickModel.get('length'), r);\n    var angle = startAngle;\n    var step = (endAngle - startAngle) / splitNumber;\n    var subStep = step / subSplitNumber;\n    var splitLineStyle = splitLineModel.getModel('lineStyle').getLineStyle();\n    var tickLineStyle = tickModel.getModel('lineStyle').getLineStyle();\n    var splitLineDistance = splitLineModel.get('distance');\n    var unitX;\n    var unitY;\n\n    for (var i = 0; i <= splitNumber; i++) {\n      unitX = Math.cos(angle);\n      unitY = Math.sin(angle); // Split line\n\n      if (splitLineModel.get('show')) {\n        var distance = splitLineDistance ? splitLineDistance + axisLineWidth : axisLineWidth;\n        var splitLine = new graphic.Line({\n          shape: {\n            x1: unitX * (r - distance) + cx,\n            y1: unitY * (r - distance) + cy,\n            x2: unitX * (r - splitLineLen - distance) + cx,\n            y2: unitY * (r - splitLineLen - distance) + cy\n          },\n          style: splitLineStyle,\n          silent: true\n        });\n\n        if (splitLineStyle.stroke === 'auto') {\n          splitLine.setStyle({\n            stroke: getColor(i / splitNumber)\n          });\n        }\n\n        group.add(splitLine);\n      } // Label\n\n\n      if (labelModel.get('show')) {\n        var distance = labelModel.get('distance') + splitLineDistance;\n        var label = formatLabel(round(i / splitNumber * (maxVal - minVal) + minVal), labelModel.get('formatter'));\n        var autoColor = getColor(i / splitNumber);\n        group.add(new graphic.Text({\n          style: createTextStyle(labelModel, {\n            text: label,\n            x: unitX * (r - splitLineLen - distance) + cx,\n            y: unitY * (r - splitLineLen - distance) + cy,\n            verticalAlign: unitY < -0.8 ? 'top' : unitY > 0.8 ? 'bottom' : 'middle',\n            align: unitX < -0.4 ? 'left' : unitX > 0.4 ? 'right' : 'center'\n          }, {\n            inheritColor: autoColor\n          }),\n          silent: true\n        }));\n      } // Axis tick\n\n\n      if (tickModel.get('show') && i !== splitNumber) {\n        var distance = tickModel.get('distance');\n        distance = distance ? distance + axisLineWidth : axisLineWidth;\n\n        for (var j = 0; j <= subSplitNumber; j++) {\n          unitX = Math.cos(angle);\n          unitY = Math.sin(angle);\n          var tickLine = new graphic.Line({\n            shape: {\n              x1: unitX * (r - distance) + cx,\n              y1: unitY * (r - distance) + cy,\n              x2: unitX * (r - tickLen - distance) + cx,\n              y2: unitY * (r - tickLen - distance) + cy\n            },\n            silent: true,\n            style: tickLineStyle\n          });\n\n          if (tickLineStyle.stroke === 'auto') {\n            tickLine.setStyle({\n              stroke: getColor((i + j / subSplitNumber) / splitNumber)\n            });\n          }\n\n          group.add(tickLine);\n          angle += subStep;\n        }\n\n        angle -= subStep;\n      } else {\n        angle += step;\n      }\n    }\n  };\n\n  GaugeView.prototype._renderPointer = function (seriesModel, ecModel, api, getColor, posInfo, startAngle, endAngle, clockwise, axisLineWidth) {\n    var group = this.group;\n    var oldData = this._data;\n    var oldProgressData = this._progressEls;\n    var progressList = [];\n    var showPointer = seriesModel.get(['pointer', 'show']);\n    var progressModel = seriesModel.getModel('progress');\n    var showProgress = progressModel.get('show');\n    var data = seriesModel.getData();\n    var valueDim = data.mapDimension('value');\n    var minVal = +seriesModel.get('min');\n    var maxVal = +seriesModel.get('max');\n    var valueExtent = [minVal, maxVal];\n    var angleExtent = [startAngle, endAngle];\n\n    function createPointer(idx, angle) {\n      var itemModel = data.getItemModel(idx);\n      var pointerModel = itemModel.getModel('pointer');\n      var pointerWidth = parsePercent(pointerModel.get('width'), posInfo.r);\n      var pointerLength = parsePercent(pointerModel.get('length'), posInfo.r);\n      var pointerStr = seriesModel.get(['pointer', 'icon']);\n      var pointerOffset = pointerModel.get('offsetCenter');\n      var pointerOffsetX = parsePercent(pointerOffset[0], posInfo.r);\n      var pointerOffsetY = parsePercent(pointerOffset[1], posInfo.r);\n      var pointerKeepAspect = pointerModel.get('keepAspect');\n      var pointer; // not exist icon type will be set 'rect'\n\n      if (pointerStr) {\n        pointer = createSymbol(pointerStr, pointerOffsetX - pointerWidth / 2, pointerOffsetY - pointerLength, pointerWidth, pointerLength, null, pointerKeepAspect);\n      } else {\n        pointer = new PointerPath({\n          shape: {\n            angle: -Math.PI / 2,\n            width: pointerWidth,\n            r: pointerLength,\n            x: pointerOffsetX,\n            y: pointerOffsetY\n          }\n        });\n      }\n\n      pointer.rotation = -(angle + Math.PI / 2);\n      pointer.x = posInfo.cx;\n      pointer.y = posInfo.cy;\n      return pointer;\n    }\n\n    function createProgress(idx, endAngle) {\n      var roundCap = progressModel.get('roundCap');\n      var ProgressPath = roundCap ? Sausage : graphic.Sector;\n      var isOverlap = progressModel.get('overlap');\n      var progressWidth = isOverlap ? progressModel.get('width') : axisLineWidth / data.count();\n      var r0 = isOverlap ? posInfo.r - progressWidth : posInfo.r - (idx + 1) * progressWidth;\n      var r = isOverlap ? posInfo.r : posInfo.r - idx * progressWidth;\n      var progress = new ProgressPath({\n        shape: {\n          startAngle: startAngle,\n          endAngle: endAngle,\n          cx: posInfo.cx,\n          cy: posInfo.cy,\n          clockwise: clockwise,\n          r0: r0,\n          r: r\n        }\n      });\n      isOverlap && (progress.z2 = maxVal - data.get(valueDim, idx) % maxVal);\n      return progress;\n    }\n\n    if (showProgress || showPointer) {\n      data.diff(oldData).add(function (idx) {\n        if (showPointer) {\n          var pointer = createPointer(idx, startAngle);\n          graphic.initProps(pointer, {\n            rotation: -(linearMap(data.get(valueDim, idx), valueExtent, angleExtent, true) + Math.PI / 2)\n          }, seriesModel);\n          group.add(pointer);\n          data.setItemGraphicEl(idx, pointer);\n        }\n\n        if (showProgress) {\n          var progress = createProgress(idx, startAngle);\n          var isClip = progressModel.get('clip');\n          graphic.initProps(progress, {\n            shape: {\n              endAngle: linearMap(data.get(valueDim, idx), valueExtent, angleExtent, isClip)\n            }\n          }, seriesModel);\n          group.add(progress);\n          progressList[idx] = progress;\n        }\n      }).update(function (newIdx, oldIdx) {\n        if (showPointer) {\n          var previousPointer = oldData.getItemGraphicEl(oldIdx);\n          var previousRotate = previousPointer ? previousPointer.rotation : startAngle;\n          var pointer = createPointer(newIdx, previousRotate);\n          pointer.rotation = previousRotate;\n          graphic.updateProps(pointer, {\n            rotation: -(linearMap(data.get(valueDim, newIdx), valueExtent, angleExtent, true) + Math.PI / 2)\n          }, seriesModel);\n          group.add(pointer);\n          data.setItemGraphicEl(newIdx, pointer);\n        }\n\n        if (showProgress) {\n          var previousProgress = oldProgressData[oldIdx];\n          var previousEndAngle = previousProgress ? previousProgress.shape.endAngle : startAngle;\n          var progress = createProgress(newIdx, previousEndAngle);\n          var isClip = progressModel.get('clip');\n          graphic.updateProps(progress, {\n            shape: {\n              endAngle: linearMap(data.get(valueDim, newIdx), valueExtent, angleExtent, isClip)\n            }\n          }, seriesModel);\n          group.add(progress);\n          progressList[newIdx] = progress;\n        }\n      }).execute();\n      data.each(function (idx) {\n        var itemModel = data.getItemModel(idx);\n        var emphasisModel = itemModel.getModel('emphasis');\n\n        if (showPointer) {\n          var pointer = data.getItemGraphicEl(idx);\n          var symbolStyle = data.getItemVisual(idx, 'style');\n          var visualColor = symbolStyle.fill;\n\n          if (pointer instanceof ZRImage) {\n            var pathStyle = pointer.style;\n            pointer.useStyle(extend({\n              image: pathStyle.image,\n              x: pathStyle.x,\n              y: pathStyle.y,\n              width: pathStyle.width,\n              height: pathStyle.height\n            }, symbolStyle));\n          } else {\n            pointer.useStyle(symbolStyle);\n            pointer.type !== 'pointer' && pointer.setColor(visualColor);\n          }\n\n          pointer.setStyle(itemModel.getModel(['pointer', 'itemStyle']).getItemStyle());\n\n          if (pointer.style.fill === 'auto') {\n            pointer.setStyle('fill', getColor(linearMap(data.get(valueDim, idx), valueExtent, [0, 1], true)));\n          }\n\n          pointer.z2EmphasisLift = 0;\n          setStatesStylesFromModel(pointer, itemModel);\n          enableHoverEmphasis(pointer, emphasisModel.get('focus'), emphasisModel.get('blurScope'));\n        }\n\n        if (showProgress) {\n          var progress = progressList[idx];\n          progress.useStyle(data.getItemVisual(idx, 'style'));\n          progress.setStyle(itemModel.getModel(['progress', 'itemStyle']).getItemStyle());\n          progress.z2EmphasisLift = 0;\n          setStatesStylesFromModel(progress, itemModel);\n          enableHoverEmphasis(progress, emphasisModel.get('focus'), emphasisModel.get('blurScope'));\n        }\n      });\n      this._progressEls = progressList;\n    }\n  };\n\n  GaugeView.prototype._renderAnchor = function (seriesModel, posInfo) {\n    var anchorModel = seriesModel.getModel('anchor');\n    var showAnchor = anchorModel.get('show');\n\n    if (showAnchor) {\n      var anchorSize = anchorModel.get('size');\n      var anchorType = anchorModel.get('icon');\n      var offsetCenter = anchorModel.get('offsetCenter');\n      var anchorKeepAspect = anchorModel.get('keepAspect');\n      var anchor = createSymbol(anchorType, posInfo.cx - anchorSize / 2 + parsePercent(offsetCenter[0], posInfo.r), posInfo.cy - anchorSize / 2 + parsePercent(offsetCenter[1], posInfo.r), anchorSize, anchorSize, null, anchorKeepAspect);\n      anchor.z2 = anchorModel.get('showAbove') ? 1 : 0;\n      anchor.setStyle(anchorModel.getModel('itemStyle').getItemStyle());\n      this.group.add(anchor);\n    }\n  };\n\n  GaugeView.prototype._renderTitleAndDetail = function (seriesModel, ecModel, api, getColor, posInfo) {\n    var _this = this;\n\n    var data = seriesModel.getData();\n    var valueDim = data.mapDimension('value');\n    var minVal = +seriesModel.get('min');\n    var maxVal = +seriesModel.get('max');\n    var contentGroup = new graphic.Group();\n    var newTitleEls = [];\n    var newDetailEls = [];\n    var hasAnimation = seriesModel.isAnimationEnabled();\n    data.diff(this._data).add(function (idx) {\n      newTitleEls[idx] = new graphic.Text({\n        silent: true\n      });\n      newDetailEls[idx] = new graphic.Text({\n        silent: true\n      });\n    }).update(function (idx, oldIdx) {\n      newTitleEls[idx] = _this._titleEls[oldIdx];\n      newDetailEls[idx] = _this._detailEls[oldIdx];\n    }).execute();\n    data.each(function (idx) {\n      var itemModel = data.getItemModel(idx);\n      var value = data.get(valueDim, idx);\n      var itemGroup = new graphic.Group();\n      var autoColor = getColor(linearMap(value, [minVal, maxVal], [0, 1], true));\n      var itemTitleModel = itemModel.getModel('title');\n\n      if (itemTitleModel.get('show')) {\n        var titleOffsetCenter = itemTitleModel.get('offsetCenter');\n        var titleX = posInfo.cx + parsePercent(titleOffsetCenter[0], posInfo.r);\n        var titleY = posInfo.cy + parsePercent(titleOffsetCenter[1], posInfo.r);\n        var labelEl = newTitleEls[idx];\n        labelEl.attr({\n          style: createTextStyle(itemTitleModel, {\n            x: titleX,\n            y: titleY,\n            text: data.getName(idx),\n            align: 'center',\n            verticalAlign: 'middle'\n          }, {\n            inheritColor: autoColor\n          })\n        });\n        itemGroup.add(labelEl);\n      }\n\n      var itemDetailModel = itemModel.getModel('detail');\n\n      if (itemDetailModel.get('show')) {\n        var detailOffsetCenter = itemDetailModel.get('offsetCenter');\n        var detailX = posInfo.cx + parsePercent(detailOffsetCenter[0], posInfo.r);\n        var detailY = posInfo.cy + parsePercent(detailOffsetCenter[1], posInfo.r);\n        var width = parsePercent(itemDetailModel.get('width'), posInfo.r);\n        var height = parsePercent(itemDetailModel.get('height'), posInfo.r);\n        var detailColor = seriesModel.get(['progress', 'show']) ? data.getItemVisual(idx, 'style').fill : autoColor;\n        var labelEl = newDetailEls[idx];\n        var formatter_1 = itemDetailModel.get('formatter');\n        labelEl.attr({\n          style: createTextStyle(itemDetailModel, {\n            x: detailX,\n            y: detailY,\n            text: formatLabel(value, formatter_1),\n            width: isNaN(width) ? null : width,\n            height: isNaN(height) ? null : height,\n            align: 'center',\n            verticalAlign: 'middle'\n          }, {\n            inheritColor: detailColor\n          })\n        });\n        setLabelValueAnimation(labelEl, {\n          normal: itemDetailModel\n        }, value, function (value) {\n          return formatLabel(value, formatter_1);\n        });\n        hasAnimation && animateLabelValue(labelEl, idx, data, seriesModel, {\n          getFormattedLabel: function (labelDataIndex, status, dataType, labelDimIndex, fmt, extendParams) {\n            return formatLabel(extendParams ? extendParams.interpolatedValue : value, formatter_1);\n          }\n        });\n        itemGroup.add(labelEl);\n      }\n\n      contentGroup.add(itemGroup);\n    });\n    this.group.add(contentGroup);\n    this._titleEls = newTitleEls;\n    this._detailEls = newDetailEls;\n  };\n\n  GaugeView.type = 'gauge';\n  return GaugeView;\n}(ChartView);\n\nexport default GaugeView;", "\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { __extends } from \"tslib\";\nimport createListSimply from '../helper/createListSimply';\nimport SeriesModel from '../../model/Series';\n\nvar GaugeSeriesModel =\n/** @class */\nfunction (_super) {\n  __extends(GaugeSeriesModel, _super);\n\n  function GaugeSeriesModel() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n\n    _this.type = GaugeSeriesModel.type;\n    _this.visualStyleAccessPath = 'itemStyle';\n    _this.useColorPaletteOnData = true;\n    return _this;\n  }\n\n  GaugeSeriesModel.prototype.getInitialData = function (option, ecModel) {\n    return createListSimply(this, ['value']);\n  };\n\n  GaugeSeriesModel.type = 'series.gauge';\n  GaugeSeriesModel.defaultOption = {\n    zlevel: 0,\n    z: 2,\n    // \u9ED8\u8BA4\u5168\u5C40\u5C45\u4E2D\n    center: ['50%', '50%'],\n    legendHoverLink: true,\n    radius: '75%',\n    startAngle: 225,\n    endAngle: -45,\n    clockwise: true,\n    // \u6700\u5C0F\u503C\n    min: 0,\n    // \u6700\u5927\u503C\n    max: 100,\n    // \u5206\u5272\u6BB5\u6570\uFF0C\u9ED8\u8BA4\u4E3A10\n    splitNumber: 10,\n    // \u5750\u6807\u8F74\u7EBF\n    axisLine: {\n      // \u9ED8\u8BA4\u663E\u793A\uFF0C\u5C5E\u6027show\u63A7\u5236\u663E\u793A\u4E0E\u5426\n      show: true,\n      roundCap: false,\n      lineStyle: {\n        color: [[1, '#E6EBF8']],\n        width: 10\n      }\n    },\n    // \u5750\u6807\u8F74\u7EBF\n    progress: {\n      // \u9ED8\u8BA4\u663E\u793A\uFF0C\u5C5E\u6027show\u63A7\u5236\u663E\u793A\u4E0E\u5426\n      show: false,\n      overlap: true,\n      width: 10,\n      roundCap: false,\n      clip: true\n    },\n    // \u5206\u9694\u7EBF\n    splitLine: {\n      // \u9ED8\u8BA4\u663E\u793A\uFF0C\u5C5E\u6027show\u63A7\u5236\u663E\u793A\u4E0E\u5426\n      show: true,\n      // \u5C5E\u6027length\u63A7\u5236\u7EBF\u957F\n      length: 10,\n      distance: 10,\n      // \u5C5E\u6027lineStyle\uFF08\u8BE6\u89C1lineStyle\uFF09\u63A7\u5236\u7EBF\u6761\u6837\u5F0F\n      lineStyle: {\n        color: '#63677A',\n        width: 3,\n        type: 'solid'\n      }\n    },\n    // \u5750\u6807\u8F74\u5C0F\u6807\u8BB0\n    axisTick: {\n      // \u5C5E\u6027show\u63A7\u5236\u663E\u793A\u4E0E\u5426\uFF0C\u9ED8\u8BA4\u4E0D\u663E\u793A\n      show: true,\n      // \u6BCF\u4EFDsplit\u7EC6\u5206\u591A\u5C11\u6BB5\n      splitNumber: 5,\n      // \u5C5E\u6027length\u63A7\u5236\u7EBF\u957F\n      length: 6,\n      distance: 10,\n      // \u5C5E\u6027lineStyle\u63A7\u5236\u7EBF\u6761\u6837\u5F0F\n      lineStyle: {\n        color: '#63677A',\n        width: 1,\n        type: 'solid'\n      }\n    },\n    axisLabel: {\n      show: true,\n      distance: 15,\n      // formatter: null,\n      color: '#464646',\n      fontSize: 12\n    },\n    pointer: {\n      icon: null,\n      offsetCenter: [0, 0],\n      show: true,\n      length: '60%',\n      width: 6,\n      keepAspect: false\n    },\n    anchor: {\n      show: false,\n      showAbove: false,\n      size: 6,\n      icon: 'circle',\n      offsetCenter: [0, 0],\n      keepAspect: false,\n      itemStyle: {\n        color: '#fff',\n        borderWidth: 0,\n        borderColor: '#5470c6'\n      }\n    },\n    title: {\n      show: true,\n      // x, y\uFF0C\u5355\u4F4Dpx\n      offsetCenter: [0, '20%'],\n      // \u5176\u4F59\u5C5E\u6027\u9ED8\u8BA4\u4F7F\u7528\u5168\u5C40\u6587\u672C\u6837\u5F0F\uFF0C\u8BE6\u89C1TEXTSTYLE\n      color: '#464646',\n      fontSize: 16,\n      valueAnimation: false\n    },\n    detail: {\n      show: true,\n      backgroundColor: 'rgba(0,0,0,0)',\n      borderWidth: 0,\n      borderColor: '#ccc',\n      width: 100,\n      height: null,\n      padding: [5, 10],\n      // x, y\uFF0C\u5355\u4F4Dpx\n      offsetCenter: [0, '40%'],\n      // formatter: null,\n      // \u5176\u4F59\u5C5E\u6027\u9ED8\u8BA4\u4F7F\u7528\u5168\u5C40\u6587\u672C\u6837\u5F0F\uFF0C\u8BE6\u89C1TEXTSTYLE\n      color: '#464646',\n      fontSize: 30,\n      fontWeight: 'bold',\n      lineHeight: 30,\n      valueAnimation: false\n    }\n  };\n  return GaugeSeriesModel;\n}(SeriesModel);\n\nexport default GaugeSeriesModel;", "\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport GaugeView from './GaugeView';\nimport GaugeSeriesModel from './GaugeSeries';\nexport function install(registers) {\n  registers.registerChartView(GaugeView);\n  registers.registerSeriesModel(GaugeSeriesModel);\n}", "\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { __extends } from \"tslib\";\nimport * as graphic from '../../util/graphic';\nimport { setStatesStylesFromModel, enableHoverEmphasis } from '../../util/states';\nimport ChartView from '../../view/Chart';\nimport { setLabelLineStyle, getLabelLineStatesModels } from '../../label/labelGuideHelper';\nimport { setLabelStyle, getLabelStatesModels } from '../../label/labelStyle';\nvar opacityAccessPath = ['itemStyle', 'opacity'];\n/**\n * Piece of pie including Sector, Label, LabelLine\n */\n\nvar FunnelPiece =\n/** @class */\nfunction (_super) {\n  __extends(FunnelPiece, _super);\n\n  function FunnelPiece(data, idx) {\n    var _this = _super.call(this) || this;\n\n    var polygon = _this;\n    var labelLine = new graphic.Polyline();\n    var text = new graphic.Text();\n    polygon.setTextContent(text);\n\n    _this.setTextGuideLine(labelLine);\n\n    _this.updateData(data, idx, true);\n\n    return _this;\n  }\n\n  FunnelPiece.prototype.updateData = function (data, idx, firstCreate) {\n    var polygon = this;\n    var seriesModel = data.hostModel;\n    var itemModel = data.getItemModel(idx);\n    var layout = data.getItemLayout(idx);\n    var emphasisModel = itemModel.getModel('emphasis');\n    var opacity = itemModel.get(opacityAccessPath);\n    opacity = opacity == null ? 1 : opacity; // Update common style\n\n    polygon.useStyle(data.getItemVisual(idx, 'style'));\n    polygon.style.lineJoin = 'round';\n\n    if (firstCreate) {\n      polygon.setShape({\n        points: layout.points\n      });\n      polygon.style.opacity = 0;\n      graphic.initProps(polygon, {\n        style: {\n          opacity: opacity\n        }\n      }, seriesModel, idx);\n    } else {\n      graphic.updateProps(polygon, {\n        style: {\n          opacity: opacity\n        },\n        shape: {\n          points: layout.points\n        }\n      }, seriesModel, idx);\n    }\n\n    setStatesStylesFromModel(polygon, itemModel);\n\n    this._updateLabel(data, idx);\n\n    enableHoverEmphasis(this, emphasisModel.get('focus'), emphasisModel.get('blurScope'));\n  };\n\n  FunnelPiece.prototype._updateLabel = function (data, idx) {\n    var polygon = this;\n    var labelLine = this.getTextGuideLine();\n    var labelText = polygon.getTextContent();\n    var seriesModel = data.hostModel;\n    var itemModel = data.getItemModel(idx);\n    var layout = data.getItemLayout(idx);\n    var labelLayout = layout.label;\n    var style = data.getItemVisual(idx, 'style');\n    var visualColor = style.fill;\n    setLabelStyle( // position will not be used in setLabelStyle\n    labelText, getLabelStatesModels(itemModel), {\n      labelFetcher: data.hostModel,\n      labelDataIndex: idx,\n      defaultOpacity: style.opacity,\n      defaultText: data.getName(idx)\n    }, {\n      normal: {\n        align: labelLayout.textAlign,\n        verticalAlign: labelLayout.verticalAlign\n      }\n    });\n    polygon.setTextConfig({\n      local: true,\n      inside: !!labelLayout.inside,\n      insideStroke: visualColor,\n      // insideFill: 'auto',\n      outsideFill: visualColor\n    });\n    var linePoints = labelLayout.linePoints;\n    labelLine.setShape({\n      points: linePoints\n    });\n    polygon.textGuideLineConfig = {\n      anchor: linePoints ? new graphic.Point(linePoints[0][0], linePoints[0][1]) : null\n    }; // Make sure update style on labelText after setLabelStyle.\n    // Because setLabelStyle will replace a new style on it.\n\n    graphic.updateProps(labelText, {\n      style: {\n        x: labelLayout.x,\n        y: labelLayout.y\n      }\n    }, seriesModel, idx);\n    labelText.attr({\n      rotation: labelLayout.rotation,\n      originX: labelLayout.x,\n      originY: labelLayout.y,\n      z2: 10\n    });\n    setLabelLineStyle(polygon, getLabelLineStatesModels(itemModel), {\n      // Default use item visual color\n      stroke: visualColor\n    });\n  };\n\n  return FunnelPiece;\n}(graphic.Polygon);\n\nvar FunnelView =\n/** @class */\nfunction (_super) {\n  __extends(FunnelView, _super);\n\n  function FunnelView() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n\n    _this.type = FunnelView.type;\n    _this.ignoreLabelLineUpdate = true;\n    return _this;\n  }\n\n  FunnelView.prototype.render = function (seriesModel, ecModel, api) {\n    var data = seriesModel.getData();\n    var oldData = this._data;\n    var group = this.group;\n    data.diff(oldData).add(function (idx) {\n      var funnelPiece = new FunnelPiece(data, idx);\n      data.setItemGraphicEl(idx, funnelPiece);\n      group.add(funnelPiece);\n    }).update(function (newIdx, oldIdx) {\n      var piece = oldData.getItemGraphicEl(oldIdx);\n      piece.updateData(data, newIdx);\n      group.add(piece);\n      data.setItemGraphicEl(newIdx, piece);\n    }).remove(function (idx) {\n      var piece = oldData.getItemGraphicEl(idx);\n      graphic.removeElementWithFadeOut(piece, seriesModel, idx);\n    }).execute();\n    this._data = data;\n  };\n\n  FunnelView.prototype.remove = function () {\n    this.group.removeAll();\n    this._data = null;\n  };\n\n  FunnelView.prototype.dispose = function () {};\n\n  FunnelView.type = 'funnel';\n  return FunnelView;\n}(ChartView);\n\nexport default FunnelView;", "\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { __extends } from \"tslib\";\nimport * as zrUtil from 'zrender/lib/core/util';\nimport createListSimply from '../helper/createListSimply';\nimport { defaultEmphasis } from '../../util/model';\nimport { makeSeriesEncodeForNameBased } from '../../data/helper/sourceHelper';\nimport LegendVisualProvider from '../../visual/LegendVisualProvider';\nimport SeriesModel from '../../model/Series';\n\nvar FunnelSeriesModel =\n/** @class */\nfunction (_super) {\n  __extends(FunnelSeriesModel, _super);\n\n  function FunnelSeriesModel() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n\n    _this.type = FunnelSeriesModel.type;\n    _this.useColorPaletteOnData = true;\n    return _this;\n  }\n\n  FunnelSeriesModel.prototype.init = function (option) {\n    _super.prototype.init.apply(this, arguments); // Enable legend selection for each data item\n    // Use a function instead of direct access because data reference may changed\n\n\n    this.legendVisualProvider = new LegendVisualProvider(zrUtil.bind(this.getData, this), zrUtil.bind(this.getRawData, this)); // Extend labelLine emphasis\n\n    this._defaultLabelLine(option);\n  };\n\n  FunnelSeriesModel.prototype.getInitialData = function (option, ecModel) {\n    return createListSimply(this, {\n      coordDimensions: ['value'],\n      encodeDefaulter: zrUtil.curry(makeSeriesEncodeForNameBased, this)\n    });\n  };\n\n  FunnelSeriesModel.prototype._defaultLabelLine = function (option) {\n    // Extend labelLine emphasis\n    defaultEmphasis(option, 'labelLine', ['show']);\n    var labelLineNormalOpt = option.labelLine;\n    var labelLineEmphasisOpt = option.emphasis.labelLine; // Not show label line if `label.normal.show = false`\n\n    labelLineNormalOpt.show = labelLineNormalOpt.show && option.label.show;\n    labelLineEmphasisOpt.show = labelLineEmphasisOpt.show && option.emphasis.label.show;\n  }; // Overwrite\n\n\n  FunnelSeriesModel.prototype.getDataParams = function (dataIndex) {\n    var data = this.getData();\n\n    var params = _super.prototype.getDataParams.call(this, dataIndex);\n\n    var valueDim = data.mapDimension('value');\n    var sum = data.getSum(valueDim); // Percent is 0 if sum is 0\n\n    params.percent = !sum ? 0 : +(data.get(valueDim, dataIndex) / sum * 100).toFixed(2);\n    params.$vars.push('percent');\n    return params;\n  };\n\n  FunnelSeriesModel.type = 'series.funnel';\n  FunnelSeriesModel.defaultOption = {\n    zlevel: 0,\n    z: 2,\n    legendHoverLink: true,\n    left: 80,\n    top: 60,\n    right: 80,\n    bottom: 60,\n    // width: {totalWidth} - left - right,\n    // height: {totalHeight} - top - bottom,\n    // \u9ED8\u8BA4\u53D6\u6570\u636E\u6700\u5C0F\u6700\u5927\u503C\n    // min: 0,\n    // max: 100,\n    minSize: '0%',\n    maxSize: '100%',\n    sort: 'descending',\n    orient: 'vertical',\n    gap: 0,\n    funnelAlign: 'center',\n    label: {\n      show: true,\n      position: 'outer' // formatter: \u6807\u7B7E\u6587\u672C\u683C\u5F0F\u5668\uFF0C\u540CTooltip.formatter\uFF0C\u4E0D\u652F\u6301\u5F02\u6B65\u56DE\u8C03\n\n    },\n    labelLine: {\n      show: true,\n      length: 20,\n      lineStyle: {\n        // color: \u5404\u5F02,\n        width: 1\n      }\n    },\n    itemStyle: {\n      // color: \u5404\u5F02,\n      borderColor: '#fff',\n      borderWidth: 1\n    },\n    emphasis: {\n      label: {\n        show: true\n      }\n    },\n    select: {\n      itemStyle: {\n        borderColor: '#212121'\n      }\n    }\n  };\n  return FunnelSeriesModel;\n}(SeriesModel);\n\nexport default FunnelSeriesModel;", "\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport * as layout from '../../util/layout';\nimport { parsePercent, linearMap } from '../../util/number';\n\nfunction getViewRect(seriesModel, api) {\n  return layout.getLayoutRect(seriesModel.getBoxLayoutParams(), {\n    width: api.getWidth(),\n    height: api.getHeight()\n  });\n}\n\nfunction getSortedIndices(data, sort) {\n  var valueDim = data.mapDimension('value');\n  var valueArr = data.mapArray(valueDim, function (val) {\n    return val;\n  });\n  var indices = [];\n  var isAscending = sort === 'ascending';\n\n  for (var i = 0, len = data.count(); i < len; i++) {\n    indices[i] = i;\n  } // Add custom sortable function & none sortable opetion by \"options.sort\"\n\n\n  if (typeof sort === 'function') {\n    indices.sort(sort);\n  } else if (sort !== 'none') {\n    indices.sort(function (a, b) {\n      return isAscending ? valueArr[a] - valueArr[b] : valueArr[b] - valueArr[a];\n    });\n  }\n\n  return indices;\n}\n\nfunction labelLayout(data) {\n  var seriesModel = data.hostModel;\n  var orient = seriesModel.get('orient');\n  data.each(function (idx) {\n    var itemModel = data.getItemModel(idx);\n    var labelModel = itemModel.getModel('label');\n    var labelPosition = labelModel.get('position');\n    var labelLineModel = itemModel.getModel('labelLine');\n    var layout = data.getItemLayout(idx);\n    var points = layout.points;\n    var isLabelInside = labelPosition === 'inner' || labelPosition === 'inside' || labelPosition === 'center' || labelPosition === 'insideLeft' || labelPosition === 'insideRight';\n    var textAlign;\n    var textX;\n    var textY;\n    var linePoints;\n\n    if (isLabelInside) {\n      if (labelPosition === 'insideLeft') {\n        textX = (points[0][0] + points[3][0]) / 2 + 5;\n        textY = (points[0][1] + points[3][1]) / 2;\n        textAlign = 'left';\n      } else if (labelPosition === 'insideRight') {\n        textX = (points[1][0] + points[2][0]) / 2 - 5;\n        textY = (points[1][1] + points[2][1]) / 2;\n        textAlign = 'right';\n      } else {\n        textX = (points[0][0] + points[1][0] + points[2][0] + points[3][0]) / 4;\n        textY = (points[0][1] + points[1][1] + points[2][1] + points[3][1]) / 4;\n        textAlign = 'center';\n      }\n\n      linePoints = [[textX, textY], [textX, textY]];\n    } else {\n      var x1 = void 0;\n      var y1 = void 0;\n      var x2 = void 0;\n      var y2 = void 0;\n      var labelLineLen = labelLineModel.get('length');\n\n      if (process.env.NODE_ENV !== 'production') {\n        if (orient === 'vertical' && ['top', 'bottom'].indexOf(labelPosition) > -1) {\n          labelPosition = 'left';\n          console.warn('Position error: Funnel chart on vertical orient dose not support top and bottom.');\n        }\n\n        if (orient === 'horizontal' && ['left', 'right'].indexOf(labelPosition) > -1) {\n          labelPosition = 'bottom';\n          console.warn('Position error: Funnel chart on horizontal orient dose not support left and right.');\n        }\n      }\n\n      if (labelPosition === 'left') {\n        // Left side\n        x1 = (points[3][0] + points[0][0]) / 2;\n        y1 = (points[3][1] + points[0][1]) / 2;\n        x2 = x1 - labelLineLen;\n        textX = x2 - 5;\n        textAlign = 'right';\n      } else if (labelPosition === 'right') {\n        // Right side\n        x1 = (points[1][0] + points[2][0]) / 2;\n        y1 = (points[1][1] + points[2][1]) / 2;\n        x2 = x1 + labelLineLen;\n        textX = x2 + 5;\n        textAlign = 'left';\n      } else if (labelPosition === 'top') {\n        // Top side\n        x1 = (points[3][0] + points[0][0]) / 2;\n        y1 = (points[3][1] + points[0][1]) / 2;\n        y2 = y1 - labelLineLen;\n        textY = y2 - 5;\n        textAlign = 'center';\n      } else if (labelPosition === 'bottom') {\n        // Bottom side\n        x1 = (points[1][0] + points[2][0]) / 2;\n        y1 = (points[1][1] + points[2][1]) / 2;\n        y2 = y1 + labelLineLen;\n        textY = y2 + 5;\n        textAlign = 'center';\n      } else if (labelPosition === 'rightTop') {\n        // RightTop side\n        x1 = orient === 'horizontal' ? points[3][0] : points[1][0];\n        y1 = orient === 'horizontal' ? points[3][1] : points[1][1];\n\n        if (orient === 'horizontal') {\n          y2 = y1 - labelLineLen;\n          textY = y2 - 5;\n          textAlign = 'center';\n        } else {\n          x2 = x1 + labelLineLen;\n          textX = x2 + 5;\n          textAlign = 'top';\n        }\n      } else if (labelPosition === 'rightBottom') {\n        // RightBottom side\n        x1 = points[2][0];\n        y1 = points[2][1];\n\n        if (orient === 'horizontal') {\n          y2 = y1 + labelLineLen;\n          textY = y2 + 5;\n          textAlign = 'center';\n        } else {\n          x2 = x1 + labelLineLen;\n          textX = x2 + 5;\n          textAlign = 'bottom';\n        }\n      } else if (labelPosition === 'leftTop') {\n        // LeftTop side\n        x1 = points[0][0];\n        y1 = orient === 'horizontal' ? points[0][1] : points[1][1];\n\n        if (orient === 'horizontal') {\n          y2 = y1 - labelLineLen;\n          textY = y2 - 5;\n          textAlign = 'center';\n        } else {\n          x2 = x1 - labelLineLen;\n          textX = x2 - 5;\n          textAlign = 'right';\n        }\n      } else if (labelPosition === 'leftBottom') {\n        // LeftBottom side\n        x1 = orient === 'horizontal' ? points[1][0] : points[3][0];\n        y1 = orient === 'horizontal' ? points[1][1] : points[2][1];\n\n        if (orient === 'horizontal') {\n          y2 = y1 + labelLineLen;\n          textY = y2 + 5;\n          textAlign = 'center';\n        } else {\n          x2 = x1 - labelLineLen;\n          textX = x2 - 5;\n          textAlign = 'right';\n        }\n      } else {\n        // Right side or Bottom side\n        x1 = (points[1][0] + points[2][0]) / 2;\n        y1 = (points[1][1] + points[2][1]) / 2;\n\n        if (orient === 'horizontal') {\n          y2 = y1 + labelLineLen;\n          textY = y2 + 5;\n          textAlign = 'center';\n        } else {\n          x2 = x1 + labelLineLen;\n          textX = x2 + 5;\n          textAlign = 'left';\n        }\n      }\n\n      if (orient === 'horizontal') {\n        x2 = x1;\n        textX = x2;\n      } else {\n        y2 = y1;\n        textY = y2;\n      }\n\n      linePoints = [[x1, y1], [x2, y2]];\n    }\n\n    layout.label = {\n      linePoints: linePoints,\n      x: textX,\n      y: textY,\n      verticalAlign: 'middle',\n      textAlign: textAlign,\n      inside: isLabelInside\n    };\n  });\n}\n\nexport default function funnelLayout(ecModel, api) {\n  ecModel.eachSeriesByType('funnel', function (seriesModel) {\n    var data = seriesModel.getData();\n    var valueDim = data.mapDimension('value');\n    var sort = seriesModel.get('sort');\n    var viewRect = getViewRect(seriesModel, api);\n    var orient = seriesModel.get('orient');\n    var viewWidth = viewRect.width;\n    var viewHeight = viewRect.height;\n    var indices = getSortedIndices(data, sort);\n    var x = viewRect.x;\n    var y = viewRect.y;\n    var sizeExtent = orient === 'horizontal' ? [parsePercent(seriesModel.get('minSize'), viewHeight), parsePercent(seriesModel.get('maxSize'), viewHeight)] : [parsePercent(seriesModel.get('minSize'), viewWidth), parsePercent(seriesModel.get('maxSize'), viewWidth)];\n    var dataExtent = data.getDataExtent(valueDim);\n    var min = seriesModel.get('min');\n    var max = seriesModel.get('max');\n\n    if (min == null) {\n      min = Math.min(dataExtent[0], 0);\n    }\n\n    if (max == null) {\n      max = dataExtent[1];\n    }\n\n    var funnelAlign = seriesModel.get('funnelAlign');\n    var gap = seriesModel.get('gap');\n    var viewSize = orient === 'horizontal' ? viewWidth : viewHeight;\n    var itemSize = (viewSize - gap * (data.count() - 1)) / data.count();\n\n    var getLinePoints = function (idx, offset) {\n      // End point index is data.count() and we assign it 0\n      if (orient === 'horizontal') {\n        var val_1 = data.get(valueDim, idx) || 0;\n        var itemHeight = linearMap(val_1, [min, max], sizeExtent, true);\n        var y0 = void 0;\n\n        switch (funnelAlign) {\n          case 'top':\n            y0 = y;\n            break;\n\n          case 'center':\n            y0 = y + (viewHeight - itemHeight) / 2;\n            break;\n\n          case 'bottom':\n            y0 = y + (viewHeight - itemHeight);\n            break;\n        }\n\n        return [[offset, y0], [offset, y0 + itemHeight]];\n      }\n\n      var val = data.get(valueDim, idx) || 0;\n      var itemWidth = linearMap(val, [min, max], sizeExtent, true);\n      var x0;\n\n      switch (funnelAlign) {\n        case 'left':\n          x0 = x;\n          break;\n\n        case 'center':\n          x0 = x + (viewWidth - itemWidth) / 2;\n          break;\n\n        case 'right':\n          x0 = x + viewWidth - itemWidth;\n          break;\n      }\n\n      return [[x0, offset], [x0 + itemWidth, offset]];\n    };\n\n    if (sort === 'ascending') {\n      // From bottom to top\n      itemSize = -itemSize;\n      gap = -gap;\n\n      if (orient === 'horizontal') {\n        x += viewWidth;\n      } else {\n        y += viewHeight;\n      }\n\n      indices = indices.reverse();\n    }\n\n    for (var i = 0; i < indices.length; i++) {\n      var idx = indices[i];\n      var nextIdx = indices[i + 1];\n      var itemModel = data.getItemModel(idx);\n\n      if (orient === 'horizontal') {\n        var width = itemModel.get(['itemStyle', 'width']);\n\n        if (width == null) {\n          width = itemSize;\n        } else {\n          width = parsePercent(width, viewWidth);\n\n          if (sort === 'ascending') {\n            width = -width;\n          }\n        }\n\n        var start = getLinePoints(idx, x);\n        var end = getLinePoints(nextIdx, x + width);\n        x += width + gap;\n        data.setItemLayout(idx, {\n          points: start.concat(end.slice().reverse())\n        });\n      } else {\n        var height = itemModel.get(['itemStyle', 'height']);\n\n        if (height == null) {\n          height = itemSize;\n        } else {\n          height = parsePercent(height, viewHeight);\n\n          if (sort === 'ascending') {\n            height = -height;\n          }\n        }\n\n        var start = getLinePoints(idx, y);\n        var end = getLinePoints(nextIdx, y + height);\n        y += height + gap;\n        data.setItemLayout(idx, {\n          points: start.concat(end.slice().reverse())\n        });\n      }\n    }\n\n    labelLayout(data);\n  });\n}", "\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport FunnelView from './FunnelView';\nimport FunnelSeriesModel from './FunnelSeries';\nimport funnelLayout from './funnelLayout';\nimport dataFilter from '../../processor/dataFilter';\nexport function install(registers) {\n  registers.registerChartView(FunnelView);\n  registers.registerSeriesModel(FunnelSeriesModel);\n  registers.registerLayout(funnelLayout);\n  registers.registerProcessor(dataFilter('funnel'));\n}", "\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { __extends } from \"tslib\";\nimport * as graphic from '../../util/graphic';\nimport { setStatesStylesFromModel, enableHoverEmphasis } from '../../util/states';\nimport ChartView from '../../view/Chart';\nimport { numericToNumber } from '../../util/number';\nimport { eqNaN } from 'zrender/lib/core/util';\nvar DEFAULT_SMOOTH = 0.3;\n\nvar ParallelView =\n/** @class */\nfunction (_super) {\n  __extends(ParallelView, _super);\n\n  function ParallelView() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n\n    _this.type = ParallelView.type;\n    _this._dataGroup = new graphic.Group();\n    _this._initialized = false;\n    return _this;\n  }\n\n  ParallelView.prototype.init = function () {\n    this.group.add(this._dataGroup);\n  };\n  /**\n   * @override\n   */\n\n\n  ParallelView.prototype.render = function (seriesModel, ecModel, api, payload) {\n    var dataGroup = this._dataGroup;\n    var data = seriesModel.getData();\n    var oldData = this._data;\n    var coordSys = seriesModel.coordinateSystem;\n    var dimensions = coordSys.dimensions;\n    var seriesScope = makeSeriesScope(seriesModel);\n    data.diff(oldData).add(add).update(update).remove(remove).execute();\n\n    function add(newDataIndex) {\n      var line = addEl(data, dataGroup, newDataIndex, dimensions, coordSys);\n      updateElCommon(line, data, newDataIndex, seriesScope);\n    }\n\n    function update(newDataIndex, oldDataIndex) {\n      var line = oldData.getItemGraphicEl(oldDataIndex);\n      var points = createLinePoints(data, newDataIndex, dimensions, coordSys);\n      data.setItemGraphicEl(newDataIndex, line);\n      graphic.updateProps(line, {\n        shape: {\n          points: points\n        }\n      }, seriesModel, newDataIndex);\n      updateElCommon(line, data, newDataIndex, seriesScope);\n    }\n\n    function remove(oldDataIndex) {\n      var line = oldData.getItemGraphicEl(oldDataIndex);\n      dataGroup.remove(line);\n    } // First create\n\n\n    if (!this._initialized) {\n      this._initialized = true;\n      var clipPath = createGridClipShape(coordSys, seriesModel, function () {\n        // Callback will be invoked immediately if there is no animation\n        setTimeout(function () {\n          dataGroup.removeClipPath();\n        });\n      });\n      dataGroup.setClipPath(clipPath);\n    }\n\n    this._data = data;\n  };\n\n  ParallelView.prototype.incrementalPrepareRender = function (seriesModel, ecModel, api) {\n    this._initialized = true;\n    this._data = null;\n\n    this._dataGroup.removeAll();\n  };\n\n  ParallelView.prototype.incrementalRender = function (taskParams, seriesModel, ecModel) {\n    var data = seriesModel.getData();\n    var coordSys = seriesModel.coordinateSystem;\n    var dimensions = coordSys.dimensions;\n    var seriesScope = makeSeriesScope(seriesModel);\n\n    for (var dataIndex = taskParams.start; dataIndex < taskParams.end; dataIndex++) {\n      var line = addEl(data, this._dataGroup, dataIndex, dimensions, coordSys);\n      line.incremental = true;\n      updateElCommon(line, data, dataIndex, seriesScope);\n    }\n  };\n\n  ParallelView.prototype.remove = function () {\n    this._dataGroup && this._dataGroup.removeAll();\n    this._data = null;\n  };\n\n  ParallelView.type = 'parallel';\n  return ParallelView;\n}(ChartView);\n\nfunction createGridClipShape(coordSys, seriesModel, cb) {\n  var parallelModel = coordSys.model;\n  var rect = coordSys.getRect();\n  var rectEl = new graphic.Rect({\n    shape: {\n      x: rect.x,\n      y: rect.y,\n      width: rect.width,\n      height: rect.height\n    }\n  });\n  var dim = parallelModel.get('layout') === 'horizontal' ? 'width' : 'height';\n  rectEl.setShape(dim, 0);\n  graphic.initProps(rectEl, {\n    shape: {\n      width: rect.width,\n      height: rect.height\n    }\n  }, seriesModel, cb);\n  return rectEl;\n}\n\nfunction createLinePoints(data, dataIndex, dimensions, coordSys) {\n  var points = [];\n\n  for (var i = 0; i < dimensions.length; i++) {\n    var dimName = dimensions[i];\n    var value = data.get(data.mapDimension(dimName), dataIndex);\n\n    if (!isEmptyValue(value, coordSys.getAxis(dimName).type)) {\n      points.push(coordSys.dataToPoint(value, dimName));\n    }\n  }\n\n  return points;\n}\n\nfunction addEl(data, dataGroup, dataIndex, dimensions, coordSys) {\n  var points = createLinePoints(data, dataIndex, dimensions, coordSys);\n  var line = new graphic.Polyline({\n    shape: {\n      points: points\n    },\n    // silent: true,\n    z2: 10\n  });\n  dataGroup.add(line);\n  data.setItemGraphicEl(dataIndex, line);\n  return line;\n}\n\nfunction makeSeriesScope(seriesModel) {\n  var smooth = seriesModel.get('smooth', true);\n  smooth === true && (smooth = DEFAULT_SMOOTH);\n  smooth = numericToNumber(smooth);\n  eqNaN(smooth) && (smooth = 0);\n  return {\n    smooth: smooth\n  };\n}\n\nfunction updateElCommon(el, data, dataIndex, seriesScope) {\n  el.useStyle(data.getItemVisual(dataIndex, 'style'));\n  el.style.fill = null;\n  el.setShape('smooth', seriesScope.smooth);\n  var itemModel = data.getItemModel(dataIndex);\n  var emphasisModel = itemModel.getModel('emphasis');\n  setStatesStylesFromModel(el, itemModel, 'lineStyle');\n  enableHoverEmphasis(el, emphasisModel.get('focus'), emphasisModel.get('blurScope'));\n} // function simpleDiff(oldData, newData, dimensions) {\n//     let oldLen;\n//     if (!oldData\n//         || !oldData.__plProgressive\n//         || (oldLen = oldData.count()) !== newData.count()\n//     ) {\n//         return true;\n//     }\n//     let dimLen = dimensions.length;\n//     for (let i = 0; i < oldLen; i++) {\n//         for (let j = 0; j < dimLen; j++) {\n//             if (oldData.get(dimensions[j], i) !== newData.get(dimensions[j], i)) {\n//                 return true;\n//             }\n//         }\n//     }\n//     return false;\n// }\n// FIXME put in common util?\n\n\nfunction isEmptyValue(val, axisType) {\n  return axisType === 'category' ? val == null : val == null || isNaN(val); // axisType === 'value'\n}\n\nexport default ParallelView;", "\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { __extends } from \"tslib\";\nimport { each, bind } from 'zrender/lib/core/util';\nimport SeriesModel from '../../model/Series';\nimport createListFromArray from '../helper/createListFromArray';\n\nvar ParallelSeriesModel =\n/** @class */\nfunction (_super) {\n  __extends(ParallelSeriesModel, _super);\n\n  function ParallelSeriesModel() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n\n    _this.type = ParallelSeriesModel.type;\n    _this.visualStyleAccessPath = 'lineStyle';\n    _this.visualDrawType = 'stroke';\n    return _this;\n  }\n\n  ParallelSeriesModel.prototype.getInitialData = function (option, ecModel) {\n    return createListFromArray(this.getSource(), this, {\n      useEncodeDefaulter: bind(makeDefaultEncode, null, this)\n    });\n  };\n  /**\n   * User can get data raw indices on 'axisAreaSelected' event received.\n   *\n   * @return Raw indices\n   */\n\n\n  ParallelSeriesModel.prototype.getRawIndicesByActiveState = function (activeState) {\n    var coordSys = this.coordinateSystem;\n    var data = this.getData();\n    var indices = [];\n    coordSys.eachActiveState(data, function (theActiveState, dataIndex) {\n      if (activeState === theActiveState) {\n        indices.push(data.getRawIndex(dataIndex));\n      }\n    });\n    return indices;\n  };\n\n  ParallelSeriesModel.type = 'series.parallel';\n  ParallelSeriesModel.dependencies = ['parallel'];\n  ParallelSeriesModel.defaultOption = {\n    zlevel: 0,\n    z: 2,\n    coordinateSystem: 'parallel',\n    parallelIndex: 0,\n    label: {\n      show: false\n    },\n    inactiveOpacity: 0.05,\n    activeOpacity: 1,\n    lineStyle: {\n      width: 1,\n      opacity: 0.45,\n      type: 'solid'\n    },\n    emphasis: {\n      label: {\n        show: false\n      }\n    },\n    progressive: 500,\n    smooth: false,\n    animationEasing: 'linear'\n  };\n  return ParallelSeriesModel;\n}(SeriesModel);\n\nfunction makeDefaultEncode(seriesModel) {\n  // The mapping of parallelAxis dimension to data dimension can\n  // be specified in parallelAxis.option.dim. For example, if\n  // parallelAxis.option.dim is 'dim3', it mapping to the third\n  // dimension of data. But `data.encode` has higher priority.\n  // Moreover, parallelModel.dimension should not be regarded as data\n  // dimensions. Consider dimensions = ['dim4', 'dim2', 'dim6'];\n  var parallelModel = seriesModel.ecModel.getComponent('parallel', seriesModel.get('parallelIndex'));\n\n  if (!parallelModel) {\n    return;\n  }\n\n  var encodeDefine = {};\n  each(parallelModel.dimensions, function (axisDim) {\n    var dataDimIndex = convertDimNameToNumber(axisDim);\n    encodeDefine[axisDim] = dataDimIndex;\n  });\n  return encodeDefine;\n}\n\nfunction convertDimNameToNumber(dimName) {\n  return +dimName.replace('dim', '');\n}\n\nexport default ParallelSeriesModel;", "\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nvar opacityAccessPath = ['lineStyle', 'opacity'];\nvar parallelVisual = {\n  seriesType: 'parallel',\n  reset: function (seriesModel, ecModel) {\n    var coordSys = seriesModel.coordinateSystem;\n    var opacityMap = {\n      normal: seriesModel.get(['lineStyle', 'opacity']),\n      active: seriesModel.get('activeOpacity'),\n      inactive: seriesModel.get('inactiveOpacity')\n    };\n    return {\n      progress: function (params, data) {\n        coordSys.eachActiveState(data, function (activeState, dataIndex) {\n          var opacity = opacityMap[activeState];\n\n          if (activeState === 'normal' && data.hasItemOption) {\n            var itemOpacity = data.getItemModel(dataIndex).get(opacityAccessPath, true);\n            itemOpacity != null && (opacity = itemOpacity);\n          }\n\n          var existsStyle = data.ensureUniqueItemVisual(dataIndex, 'style');\n          existsStyle.opacity = opacity;\n        }, params.start, params.end);\n      }\n    };\n  }\n};\nexport default parallelVisual;", "\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { use } from '../../extension';\nimport ParallelView from './ParallelView';\nimport ParallelSeriesModel from './ParallelSeries';\nimport parallelVisual from './parallelVisual';\nimport { install as installParallelComponent } from '../../component/parallel/install';\nexport function install(registers) {\n  use(installParallelComponent);\n  registers.registerChartView(ParallelView);\n  registers.registerSeriesModel(ParallelSeriesModel);\n  registers.registerVisual(registers.PRIORITY.VISUAL.BRUSH, parallelVisual);\n}", "\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { __extends } from \"tslib\";\nimport * as graphic from '../../util/graphic';\nimport { enterEmphasis, leaveEmphasis, enableHoverEmphasis, setStatesStylesFromModel } from '../../util/states';\nimport ChartView from '../../view/Chart';\nimport { setLabelStyle, getLabelStatesModels } from '../../label/labelStyle';\nimport { getECData } from '../../util/innerStore';\n\nvar SankeyPathShape =\n/** @class */\nfunction () {\n  function SankeyPathShape() {\n    this.x1 = 0;\n    this.y1 = 0;\n    this.x2 = 0;\n    this.y2 = 0;\n    this.cpx1 = 0;\n    this.cpy1 = 0;\n    this.cpx2 = 0;\n    this.cpy2 = 0;\n    this.extent = 0;\n  }\n\n  return SankeyPathShape;\n}();\n\nvar SankeyPath =\n/** @class */\nfunction (_super) {\n  __extends(SankeyPath, _super);\n\n  function SankeyPath(opts) {\n    return _super.call(this, opts) || this;\n  }\n\n  SankeyPath.prototype.getDefaultShape = function () {\n    return new SankeyPathShape();\n  };\n\n  SankeyPath.prototype.buildPath = function (ctx, shape) {\n    var extent = shape.extent;\n    ctx.moveTo(shape.x1, shape.y1);\n    ctx.bezierCurveTo(shape.cpx1, shape.cpy1, shape.cpx2, shape.cpy2, shape.x2, shape.y2);\n\n    if (shape.orient === 'vertical') {\n      ctx.lineTo(shape.x2 + extent, shape.y2);\n      ctx.bezierCurveTo(shape.cpx2 + extent, shape.cpy2, shape.cpx1 + extent, shape.cpy1, shape.x1 + extent, shape.y1);\n    } else {\n      ctx.lineTo(shape.x2, shape.y2 + extent);\n      ctx.bezierCurveTo(shape.cpx2, shape.cpy2 + extent, shape.cpx1, shape.cpy1 + extent, shape.x1, shape.y1 + extent);\n    }\n\n    ctx.closePath();\n  };\n\n  SankeyPath.prototype.highlight = function () {\n    enterEmphasis(this);\n  };\n\n  SankeyPath.prototype.downplay = function () {\n    leaveEmphasis(this);\n  };\n\n  return SankeyPath;\n}(graphic.Path);\n\nvar SankeyView =\n/** @class */\nfunction (_super) {\n  __extends(SankeyView, _super);\n\n  function SankeyView() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n\n    _this.type = SankeyView.type;\n    _this._focusAdjacencyDisabled = false;\n    return _this;\n  }\n\n  SankeyView.prototype.render = function (seriesModel, ecModel, api) {\n    var sankeyView = this;\n    var graph = seriesModel.getGraph();\n    var group = this.group;\n    var layoutInfo = seriesModel.layoutInfo; // view width\n\n    var width = layoutInfo.width; // view height\n\n    var height = layoutInfo.height;\n    var nodeData = seriesModel.getData();\n    var edgeData = seriesModel.getData('edge');\n    var orient = seriesModel.get('orient');\n    this._model = seriesModel;\n    group.removeAll();\n    group.x = layoutInfo.x;\n    group.y = layoutInfo.y; // generate a bezire Curve for each edge\n\n    graph.eachEdge(function (edge) {\n      var curve = new SankeyPath();\n      var ecData = getECData(curve);\n      ecData.dataIndex = edge.dataIndex;\n      ecData.seriesIndex = seriesModel.seriesIndex;\n      ecData.dataType = 'edge';\n      var edgeModel = edge.getModel();\n      var lineStyleModel = edgeModel.getModel('lineStyle');\n      var curvature = lineStyleModel.get('curveness');\n      var n1Layout = edge.node1.getLayout();\n      var node1Model = edge.node1.getModel();\n      var dragX1 = node1Model.get('localX');\n      var dragY1 = node1Model.get('localY');\n      var n2Layout = edge.node2.getLayout();\n      var node2Model = edge.node2.getModel();\n      var dragX2 = node2Model.get('localX');\n      var dragY2 = node2Model.get('localY');\n      var edgeLayout = edge.getLayout();\n      var x1;\n      var y1;\n      var x2;\n      var y2;\n      var cpx1;\n      var cpy1;\n      var cpx2;\n      var cpy2;\n      curve.shape.extent = Math.max(1, edgeLayout.dy);\n      curve.shape.orient = orient;\n\n      if (orient === 'vertical') {\n        x1 = (dragX1 != null ? dragX1 * width : n1Layout.x) + edgeLayout.sy;\n        y1 = (dragY1 != null ? dragY1 * height : n1Layout.y) + n1Layout.dy;\n        x2 = (dragX2 != null ? dragX2 * width : n2Layout.x) + edgeLayout.ty;\n        y2 = dragY2 != null ? dragY2 * height : n2Layout.y;\n        cpx1 = x1;\n        cpy1 = y1 * (1 - curvature) + y2 * curvature;\n        cpx2 = x2;\n        cpy2 = y1 * curvature + y2 * (1 - curvature);\n      } else {\n        x1 = (dragX1 != null ? dragX1 * width : n1Layout.x) + n1Layout.dx;\n        y1 = (dragY1 != null ? dragY1 * height : n1Layout.y) + edgeLayout.sy;\n        x2 = dragX2 != null ? dragX2 * width : n2Layout.x;\n        y2 = (dragY2 != null ? dragY2 * height : n2Layout.y) + edgeLayout.ty;\n        cpx1 = x1 * (1 - curvature) + x2 * curvature;\n        cpy1 = y1;\n        cpx2 = x1 * curvature + x2 * (1 - curvature);\n        cpy2 = y2;\n      }\n\n      curve.setShape({\n        x1: x1,\n        y1: y1,\n        x2: x2,\n        y2: y2,\n        cpx1: cpx1,\n        cpy1: cpy1,\n        cpx2: cpx2,\n        cpy2: cpy2\n      });\n      curve.useStyle(lineStyleModel.getItemStyle()); // Special color, use source node color or target node color\n\n      switch (curve.style.fill) {\n        case 'source':\n          curve.style.fill = edge.node1.getVisual('color');\n          curve.style.decal = edge.node1.getVisual('style').decal;\n          break;\n\n        case 'target':\n          curve.style.fill = edge.node2.getVisual('color');\n          curve.style.decal = edge.node2.getVisual('style').decal;\n          break;\n\n        case 'gradient':\n          var sourceColor = edge.node1.getVisual('color');\n          var targetColor = edge.node2.getVisual('color');\n\n          if (typeof sourceColor === 'string' && typeof targetColor === 'string') {\n            curve.style.fill = new graphic.LinearGradient(0, 0, 1, 0, [{\n              color: sourceColor,\n              offset: 0\n            }, {\n              color: targetColor,\n              offset: 1\n            }]);\n          }\n\n      }\n\n      var emphasisModel = edgeModel.getModel('emphasis');\n      setStatesStylesFromModel(curve, edgeModel, 'lineStyle', function (model) {\n        return model.getItemStyle();\n      });\n      group.add(curve);\n      edgeData.setItemGraphicEl(edge.dataIndex, curve);\n      var focus = emphasisModel.get('focus');\n      enableHoverEmphasis(curve, focus === 'adjacency' ? edge.getAdjacentDataIndices() : focus, emphasisModel.get('blurScope'));\n      getECData(curve).dataType = 'edge';\n    }); // Generate a rect for each node\n\n    graph.eachNode(function (node) {\n      var layout = node.getLayout();\n      var itemModel = node.getModel();\n      var dragX = itemModel.get('localX');\n      var dragY = itemModel.get('localY');\n      var emphasisModel = itemModel.getModel('emphasis');\n      var rect = new graphic.Rect({\n        shape: {\n          x: dragX != null ? dragX * width : layout.x,\n          y: dragY != null ? dragY * height : layout.y,\n          width: layout.dx,\n          height: layout.dy\n        },\n        style: itemModel.getModel('itemStyle').getItemStyle(),\n        z2: 10\n      });\n      setLabelStyle(rect, getLabelStatesModels(itemModel), {\n        labelFetcher: seriesModel,\n        labelDataIndex: node.dataIndex,\n        defaultText: node.id\n      });\n      rect.disableLabelAnimation = true;\n      rect.setStyle('fill', node.getVisual('color'));\n      rect.setStyle('decal', node.getVisual('style').decal);\n      setStatesStylesFromModel(rect, itemModel);\n      group.add(rect);\n      nodeData.setItemGraphicEl(node.dataIndex, rect);\n      getECData(rect).dataType = 'node';\n      var focus = emphasisModel.get('focus');\n      enableHoverEmphasis(rect, focus === 'adjacency' ? node.getAdjacentDataIndices() : focus, emphasisModel.get('blurScope'));\n    });\n    nodeData.eachItemGraphicEl(function (el, dataIndex) {\n      var itemModel = nodeData.getItemModel(dataIndex);\n\n      if (itemModel.get('draggable')) {\n        el.drift = function (dx, dy) {\n          sankeyView._focusAdjacencyDisabled = true;\n          this.shape.x += dx;\n          this.shape.y += dy;\n          this.dirty();\n          api.dispatchAction({\n            type: 'dragNode',\n            seriesId: seriesModel.id,\n            dataIndex: nodeData.getRawIndex(dataIndex),\n            localX: this.shape.x / width,\n            localY: this.shape.y / height\n          });\n        };\n\n        el.ondragend = function () {\n          sankeyView._focusAdjacencyDisabled = false;\n        };\n\n        el.draggable = true;\n        el.cursor = 'move';\n      }\n    });\n\n    if (!this._data && seriesModel.isAnimationEnabled()) {\n      group.setClipPath(createGridClipShape(group.getBoundingRect(), seriesModel, function () {\n        group.removeClipPath();\n      }));\n    }\n\n    this._data = seriesModel.getData();\n  };\n\n  SankeyView.prototype.dispose = function () {};\n\n  SankeyView.type = 'sankey';\n  return SankeyView;\n}(ChartView); // Add animation to the view\n\n\nfunction createGridClipShape(rect, seriesModel, cb) {\n  var rectEl = new graphic.Rect({\n    shape: {\n      x: rect.x - 10,\n      y: rect.y - 10,\n      width: 0,\n      height: rect.height + 20\n    }\n  });\n  graphic.initProps(rectEl, {\n    shape: {\n      width: rect.width + 20\n    }\n  }, seriesModel, cb);\n  return rectEl;\n}\n\nexport default SankeyView;", "\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { __extends } from \"tslib\";\nimport SeriesModel from '../../model/Series';\nimport createGraphFromNodeEdge from '../helper/createGraphFromNodeEdge';\nimport Model from '../../model/Model';\nimport { createTooltipMarkup } from '../../component/tooltip/tooltipMarkup';\n\nvar SankeySeriesModel =\n/** @class */\nfunction (_super) {\n  __extends(SankeySeriesModel, _super);\n\n  function SankeySeriesModel() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n\n    _this.type = SankeySeriesModel.type;\n    return _this;\n  }\n  /**\n   * Init a graph data structure from data in option series\n   *\n   * @param  {Object} option  the object used to config echarts view\n   * @return {module:echarts/data/List} storage initial data\n   */\n\n\n  SankeySeriesModel.prototype.getInitialData = function (option, ecModel) {\n    var links = option.edges || option.links;\n    var nodes = option.data || option.nodes;\n    var levels = option.levels;\n    this.levelModels = [];\n    var levelModels = this.levelModels;\n\n    for (var i = 0; i < levels.length; i++) {\n      if (levels[i].depth != null && levels[i].depth >= 0) {\n        levelModels[levels[i].depth] = new Model(levels[i], this, ecModel);\n      } else {\n        if (process.env.NODE_ENV !== 'production') {\n          throw new Error('levels[i].depth is mandatory and should be natural number');\n        }\n      }\n    }\n\n    if (nodes && links) {\n      var graph = createGraphFromNodeEdge(nodes, links, this, true, beforeLink);\n      return graph.data;\n    }\n\n    function beforeLink(nodeData, edgeData) {\n      nodeData.wrapMethod('getItemModel', function (model, idx) {\n        var seriesModel = model.parentModel;\n        var layout = seriesModel.getData().getItemLayout(idx);\n\n        if (layout) {\n          var nodeDepth = layout.depth;\n          var levelModel = seriesModel.levelModels[nodeDepth];\n\n          if (levelModel) {\n            model.parentModel = levelModel;\n          }\n        }\n\n        return model;\n      });\n      edgeData.wrapMethod('getItemModel', function (model, idx) {\n        var seriesModel = model.parentModel;\n        var edge = seriesModel.getGraph().getEdgeByIndex(idx);\n        var layout = edge.node1.getLayout();\n\n        if (layout) {\n          var depth = layout.depth;\n          var levelModel = seriesModel.levelModels[depth];\n\n          if (levelModel) {\n            model.parentModel = levelModel;\n          }\n        }\n\n        return model;\n      });\n    }\n  };\n\n  SankeySeriesModel.prototype.setNodePosition = function (dataIndex, localPosition) {\n    var dataItem = this.option.data[dataIndex];\n    dataItem.localX = localPosition[0];\n    dataItem.localY = localPosition[1];\n  };\n  /**\n   * Return the graphic data structure\n   *\n   * @return graphic data structure\n   */\n\n\n  SankeySeriesModel.prototype.getGraph = function () {\n    return this.getData().graph;\n  };\n  /**\n   * Get edge data of graphic data structure\n   *\n   * @return data structure of list\n   */\n\n\n  SankeySeriesModel.prototype.getEdgeData = function () {\n    return this.getGraph().edgeData;\n  };\n\n  SankeySeriesModel.prototype.formatTooltip = function (dataIndex, multipleSeries, dataType) {\n    function noValue(val) {\n      return isNaN(val) || val == null;\n    } // dataType === 'node' or empty do not show tooltip by default\n\n\n    if (dataType === 'edge') {\n      var params = this.getDataParams(dataIndex, dataType);\n      var rawDataOpt = params.data;\n      var edgeValue = params.value;\n      var edgeName = rawDataOpt.source + ' -- ' + rawDataOpt.target;\n      return createTooltipMarkup('nameValue', {\n        name: edgeName,\n        value: edgeValue,\n        noValue: noValue(edgeValue)\n      });\n    } // dataType === 'node'\n    else {\n        var node = this.getGraph().getNodeByIndex(dataIndex);\n        var value = node.getLayout().value;\n        var name_1 = this.getDataParams(dataIndex, dataType).data.name;\n        return createTooltipMarkup('nameValue', {\n          name: name_1 != null ? name_1 + '' : null,\n          value: value,\n          noValue: noValue(value)\n        });\n      }\n  };\n\n  SankeySeriesModel.prototype.optionUpdated = function () {}; // Override Series.getDataParams()\n\n\n  SankeySeriesModel.prototype.getDataParams = function (dataIndex, dataType) {\n    var params = _super.prototype.getDataParams.call(this, dataIndex, dataType);\n\n    if (params.value == null && dataType === 'node') {\n      var node = this.getGraph().getNodeByIndex(dataIndex);\n      var nodeValue = node.getLayout().value;\n      params.value = nodeValue;\n    }\n\n    return params;\n  };\n\n  SankeySeriesModel.type = 'series.sankey';\n  SankeySeriesModel.defaultOption = {\n    zlevel: 0,\n    z: 2,\n    coordinateSystem: 'view',\n    left: '5%',\n    top: '5%',\n    right: '20%',\n    bottom: '5%',\n    orient: 'horizontal',\n    nodeWidth: 20,\n    nodeGap: 8,\n    draggable: true,\n    layoutIterations: 32,\n    label: {\n      show: true,\n      position: 'right',\n      fontSize: 12\n    },\n    levels: [],\n    nodeAlign: 'justify',\n    lineStyle: {\n      color: '#314656',\n      opacity: 0.2,\n      curveness: 0.5\n    },\n    emphasis: {\n      label: {\n        show: true\n      },\n      lineStyle: {\n        opacity: 0.5\n      }\n    },\n    select: {\n      itemStyle: {\n        borderColor: '#212121'\n      }\n    },\n    animationEasing: 'linear',\n    animationDuration: 1000\n  };\n  return SankeySeriesModel;\n}(SeriesModel);\n\nexport default SankeySeriesModel;", "\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport * as layout from '../../util/layout';\nimport * as zrUtil from 'zrender/lib/core/util';\nimport { groupData } from '../../util/model';\nexport default function sankeyLayout(ecModel, api) {\n  ecModel.eachSeriesByType('sankey', function (seriesModel) {\n    var nodeWidth = seriesModel.get('nodeWidth');\n    var nodeGap = seriesModel.get('nodeGap');\n    var layoutInfo = getViewRect(seriesModel, api);\n    seriesModel.layoutInfo = layoutInfo;\n    var width = layoutInfo.width;\n    var height = layoutInfo.height;\n    var graph = seriesModel.getGraph();\n    var nodes = graph.nodes;\n    var edges = graph.edges;\n    computeNodeValues(nodes);\n    var filteredNodes = zrUtil.filter(nodes, function (node) {\n      return node.getLayout().value === 0;\n    });\n    var iterations = filteredNodes.length !== 0 ? 0 : seriesModel.get('layoutIterations');\n    var orient = seriesModel.get('orient');\n    var nodeAlign = seriesModel.get('nodeAlign');\n    layoutSankey(nodes, edges, nodeWidth, nodeGap, width, height, iterations, orient, nodeAlign);\n  });\n}\n/**\n * Get the layout position of the whole view\n */\n\nfunction getViewRect(seriesModel, api) {\n  return layout.getLayoutRect(seriesModel.getBoxLayoutParams(), {\n    width: api.getWidth(),\n    height: api.getHeight()\n  });\n}\n\nfunction layoutSankey(nodes, edges, nodeWidth, nodeGap, width, height, iterations, orient, nodeAlign) {\n  computeNodeBreadths(nodes, edges, nodeWidth, width, height, orient, nodeAlign);\n  computeNodeDepths(nodes, edges, height, width, nodeGap, iterations, orient);\n  computeEdgeDepths(nodes, orient);\n}\n/**\n * Compute the value of each node by summing the associated edge's value\n */\n\n\nfunction computeNodeValues(nodes) {\n  zrUtil.each(nodes, function (node) {\n    var value1 = sum(node.outEdges, getEdgeValue);\n    var value2 = sum(node.inEdges, getEdgeValue);\n    var nodeRawValue = node.getValue() || 0;\n    var value = Math.max(value1, value2, nodeRawValue);\n    node.setLayout({\n      value: value\n    }, true);\n  });\n}\n/**\n * Compute the x-position for each node.\n *\n * Here we use Kahn algorithm to detect cycle when we traverse\n * the node to computer the initial x position.\n */\n\n\nfunction computeNodeBreadths(nodes, edges, nodeWidth, width, height, orient, nodeAlign) {\n  // Used to mark whether the edge is deleted. if it is deleted,\n  // the value is 0, otherwise it is 1.\n  var remainEdges = []; // Storage each node's indegree.\n\n  var indegreeArr = []; //Used to storage the node with indegree is equal to 0.\n\n  var zeroIndegrees = [];\n  var nextTargetNode = [];\n  var x = 0; // let kx = 0;\n\n  for (var i = 0; i < edges.length; i++) {\n    remainEdges[i] = 1;\n  }\n\n  for (var i = 0; i < nodes.length; i++) {\n    indegreeArr[i] = nodes[i].inEdges.length;\n\n    if (indegreeArr[i] === 0) {\n      zeroIndegrees.push(nodes[i]);\n    }\n  }\n\n  var maxNodeDepth = -1; // Traversing nodes using topological sorting to calculate the\n  // horizontal(if orient === 'horizontal') or vertical(if orient === 'vertical')\n  // position of the nodes.\n\n  while (zeroIndegrees.length) {\n    for (var idx = 0; idx < zeroIndegrees.length; idx++) {\n      var node = zeroIndegrees[idx];\n      var item = node.hostGraph.data.getRawDataItem(node.dataIndex);\n      var isItemDepth = item.depth != null && item.depth >= 0;\n\n      if (isItemDepth && item.depth > maxNodeDepth) {\n        maxNodeDepth = item.depth;\n      }\n\n      node.setLayout({\n        depth: isItemDepth ? item.depth : x\n      }, true);\n      orient === 'vertical' ? node.setLayout({\n        dy: nodeWidth\n      }, true) : node.setLayout({\n        dx: nodeWidth\n      }, true);\n\n      for (var edgeIdx = 0; edgeIdx < node.outEdges.length; edgeIdx++) {\n        var edge = node.outEdges[edgeIdx];\n        var indexEdge = edges.indexOf(edge);\n        remainEdges[indexEdge] = 0;\n        var targetNode = edge.node2;\n        var nodeIndex = nodes.indexOf(targetNode);\n\n        if (--indegreeArr[nodeIndex] === 0 && nextTargetNode.indexOf(targetNode) < 0) {\n          nextTargetNode.push(targetNode);\n        }\n      }\n    }\n\n    ++x;\n    zeroIndegrees = nextTargetNode;\n    nextTargetNode = [];\n  }\n\n  for (var i = 0; i < remainEdges.length; i++) {\n    if (remainEdges[i] === 1) {\n      throw new Error('Sankey is a DAG, the original data has cycle!');\n    }\n  }\n\n  var maxDepth = maxNodeDepth > x - 1 ? maxNodeDepth : x - 1;\n\n  if (nodeAlign && nodeAlign !== 'left') {\n    adjustNodeWithNodeAlign(nodes, nodeAlign, orient, maxDepth);\n  }\n\n  var kx = orient === 'vertical' ? (height - nodeWidth) / maxDepth : (width - nodeWidth) / maxDepth;\n  scaleNodeBreadths(nodes, kx, orient);\n}\n\nfunction isNodeDepth(node) {\n  var item = node.hostGraph.data.getRawDataItem(node.dataIndex);\n  return item.depth != null && item.depth >= 0;\n}\n\nfunction adjustNodeWithNodeAlign(nodes, nodeAlign, orient, maxDepth) {\n  if (nodeAlign === 'right') {\n    var nextSourceNode = [];\n    var remainNodes = nodes;\n    var nodeHeight = 0;\n\n    while (remainNodes.length) {\n      for (var i = 0; i < remainNodes.length; i++) {\n        var node = remainNodes[i];\n        node.setLayout({\n          skNodeHeight: nodeHeight\n        }, true);\n\n        for (var j = 0; j < node.inEdges.length; j++) {\n          var edge = node.inEdges[j];\n\n          if (nextSourceNode.indexOf(edge.node1) < 0) {\n            nextSourceNode.push(edge.node1);\n          }\n        }\n      }\n\n      remainNodes = nextSourceNode;\n      nextSourceNode = [];\n      ++nodeHeight;\n    }\n\n    zrUtil.each(nodes, function (node) {\n      if (!isNodeDepth(node)) {\n        node.setLayout({\n          depth: Math.max(0, maxDepth - node.getLayout().skNodeHeight)\n        }, true);\n      }\n    });\n  } else if (nodeAlign === 'justify') {\n    moveSinksRight(nodes, maxDepth);\n  }\n}\n/**\n * All the node without outEgdes are assigned maximum x-position and\n *     be aligned in the last column.\n *\n * @param nodes.  node of sankey view.\n * @param maxDepth.  use to assign to node without outEdges as x-position.\n */\n\n\nfunction moveSinksRight(nodes, maxDepth) {\n  zrUtil.each(nodes, function (node) {\n    if (!isNodeDepth(node) && !node.outEdges.length) {\n      node.setLayout({\n        depth: maxDepth\n      }, true);\n    }\n  });\n}\n/**\n * Scale node x-position to the width\n *\n * @param nodes  node of sankey view\n * @param kx   multiple used to scale nodes\n */\n\n\nfunction scaleNodeBreadths(nodes, kx, orient) {\n  zrUtil.each(nodes, function (node) {\n    var nodeDepth = node.getLayout().depth * kx;\n    orient === 'vertical' ? node.setLayout({\n      y: nodeDepth\n    }, true) : node.setLayout({\n      x: nodeDepth\n    }, true);\n  });\n}\n/**\n * Using Gauss-Seidel iterations method to compute the node depth(y-position)\n *\n * @param nodes  node of sankey view\n * @param edges  edge of sankey view\n * @param height  the whole height of the area to draw the view\n * @param nodeGap  the vertical distance between two nodes\n *     in the same column.\n * @param iterations  the number of iterations for the algorithm\n */\n\n\nfunction computeNodeDepths(nodes, edges, height, width, nodeGap, iterations, orient) {\n  var nodesByBreadth = prepareNodesByBreadth(nodes, orient);\n  initializeNodeDepth(nodesByBreadth, edges, height, width, nodeGap, orient);\n  resolveCollisions(nodesByBreadth, nodeGap, height, width, orient);\n\n  for (var alpha = 1; iterations > 0; iterations--) {\n    // 0.99 is a experience parameter, ensure that each iterations of\n    // changes as small as possible.\n    alpha *= 0.99;\n    relaxRightToLeft(nodesByBreadth, alpha, orient);\n    resolveCollisions(nodesByBreadth, nodeGap, height, width, orient);\n    relaxLeftToRight(nodesByBreadth, alpha, orient);\n    resolveCollisions(nodesByBreadth, nodeGap, height, width, orient);\n  }\n}\n\nfunction prepareNodesByBreadth(nodes, orient) {\n  var nodesByBreadth = [];\n  var keyAttr = orient === 'vertical' ? 'y' : 'x';\n  var groupResult = groupData(nodes, function (node) {\n    return node.getLayout()[keyAttr];\n  });\n  groupResult.keys.sort(function (a, b) {\n    return a - b;\n  });\n  zrUtil.each(groupResult.keys, function (key) {\n    nodesByBreadth.push(groupResult.buckets.get(key));\n  });\n  return nodesByBreadth;\n}\n/**\n * Compute the original y-position for each node\n */\n\n\nfunction initializeNodeDepth(nodesByBreadth, edges, height, width, nodeGap, orient) {\n  var minKy = Infinity;\n  zrUtil.each(nodesByBreadth, function (nodes) {\n    var n = nodes.length;\n    var sum = 0;\n    zrUtil.each(nodes, function (node) {\n      sum += node.getLayout().value;\n    });\n    var ky = orient === 'vertical' ? (width - (n - 1) * nodeGap) / sum : (height - (n - 1) * nodeGap) / sum;\n\n    if (ky < minKy) {\n      minKy = ky;\n    }\n  });\n  zrUtil.each(nodesByBreadth, function (nodes) {\n    zrUtil.each(nodes, function (node, i) {\n      var nodeDy = node.getLayout().value * minKy;\n\n      if (orient === 'vertical') {\n        node.setLayout({\n          x: i\n        }, true);\n        node.setLayout({\n          dx: nodeDy\n        }, true);\n      } else {\n        node.setLayout({\n          y: i\n        }, true);\n        node.setLayout({\n          dy: nodeDy\n        }, true);\n      }\n    });\n  });\n  zrUtil.each(edges, function (edge) {\n    var edgeDy = +edge.getValue() * minKy;\n    edge.setLayout({\n      dy: edgeDy\n    }, true);\n  });\n}\n/**\n * Resolve the collision of initialized depth (y-position)\n */\n\n\nfunction resolveCollisions(nodesByBreadth, nodeGap, height, width, orient) {\n  var keyAttr = orient === 'vertical' ? 'x' : 'y';\n  zrUtil.each(nodesByBreadth, function (nodes) {\n    nodes.sort(function (a, b) {\n      return a.getLayout()[keyAttr] - b.getLayout()[keyAttr];\n    });\n    var nodeX;\n    var node;\n    var dy;\n    var y0 = 0;\n    var n = nodes.length;\n    var nodeDyAttr = orient === 'vertical' ? 'dx' : 'dy';\n\n    for (var i = 0; i < n; i++) {\n      node = nodes[i];\n      dy = y0 - node.getLayout()[keyAttr];\n\n      if (dy > 0) {\n        nodeX = node.getLayout()[keyAttr] + dy;\n        orient === 'vertical' ? node.setLayout({\n          x: nodeX\n        }, true) : node.setLayout({\n          y: nodeX\n        }, true);\n      }\n\n      y0 = node.getLayout()[keyAttr] + node.getLayout()[nodeDyAttr] + nodeGap;\n    }\n\n    var viewWidth = orient === 'vertical' ? width : height; // If the bottommost node goes outside the bounds, push it back up\n\n    dy = y0 - nodeGap - viewWidth;\n\n    if (dy > 0) {\n      nodeX = node.getLayout()[keyAttr] - dy;\n      orient === 'vertical' ? node.setLayout({\n        x: nodeX\n      }, true) : node.setLayout({\n        y: nodeX\n      }, true);\n      y0 = nodeX;\n\n      for (var i = n - 2; i >= 0; --i) {\n        node = nodes[i];\n        dy = node.getLayout()[keyAttr] + node.getLayout()[nodeDyAttr] + nodeGap - y0;\n\n        if (dy > 0) {\n          nodeX = node.getLayout()[keyAttr] - dy;\n          orient === 'vertical' ? node.setLayout({\n            x: nodeX\n          }, true) : node.setLayout({\n            y: nodeX\n          }, true);\n        }\n\n        y0 = node.getLayout()[keyAttr];\n      }\n    }\n  });\n}\n/**\n * Change the y-position of the nodes, except most the right side nodes\n * @param nodesByBreadth\n * @param alpha  parameter used to adjust the nodes y-position\n */\n\n\nfunction relaxRightToLeft(nodesByBreadth, alpha, orient) {\n  zrUtil.each(nodesByBreadth.slice().reverse(), function (nodes) {\n    zrUtil.each(nodes, function (node) {\n      if (node.outEdges.length) {\n        var y = sum(node.outEdges, weightedTarget, orient) / sum(node.outEdges, getEdgeValue);\n\n        if (isNaN(y)) {\n          var len = node.outEdges.length;\n          y = len ? sum(node.outEdges, centerTarget, orient) / len : 0;\n        }\n\n        if (orient === 'vertical') {\n          var nodeX = node.getLayout().x + (y - center(node, orient)) * alpha;\n          node.setLayout({\n            x: nodeX\n          }, true);\n        } else {\n          var nodeY = node.getLayout().y + (y - center(node, orient)) * alpha;\n          node.setLayout({\n            y: nodeY\n          }, true);\n        }\n      }\n    });\n  });\n}\n\nfunction weightedTarget(edge, orient) {\n  return center(edge.node2, orient) * edge.getValue();\n}\n\nfunction centerTarget(edge, orient) {\n  return center(edge.node2, orient);\n}\n\nfunction weightedSource(edge, orient) {\n  return center(edge.node1, orient) * edge.getValue();\n}\n\nfunction centerSource(edge, orient) {\n  return center(edge.node1, orient);\n}\n\nfunction center(node, orient) {\n  return orient === 'vertical' ? node.getLayout().x + node.getLayout().dx / 2 : node.getLayout().y + node.getLayout().dy / 2;\n}\n\nfunction getEdgeValue(edge) {\n  return edge.getValue();\n}\n\nfunction sum(array, cb, orient) {\n  var sum = 0;\n  var len = array.length;\n  var i = -1;\n\n  while (++i < len) {\n    var value = +cb(array[i], orient);\n\n    if (!isNaN(value)) {\n      sum += value;\n    }\n  }\n\n  return sum;\n}\n/**\n * Change the y-position of the nodes, except most the left side nodes\n */\n\n\nfunction relaxLeftToRight(nodesByBreadth, alpha, orient) {\n  zrUtil.each(nodesByBreadth, function (nodes) {\n    zrUtil.each(nodes, function (node) {\n      if (node.inEdges.length) {\n        var y = sum(node.inEdges, weightedSource, orient) / sum(node.inEdges, getEdgeValue);\n\n        if (isNaN(y)) {\n          var len = node.inEdges.length;\n          y = len ? sum(node.inEdges, centerSource, orient) / len : 0;\n        }\n\n        if (orient === 'vertical') {\n          var nodeX = node.getLayout().x + (y - center(node, orient)) * alpha;\n          node.setLayout({\n            x: nodeX\n          }, true);\n        } else {\n          var nodeY = node.getLayout().y + (y - center(node, orient)) * alpha;\n          node.setLayout({\n            y: nodeY\n          }, true);\n        }\n      }\n    });\n  });\n}\n/**\n * Compute the depth(y-position) of each edge\n */\n\n\nfunction computeEdgeDepths(nodes, orient) {\n  var keyAttr = orient === 'vertical' ? 'x' : 'y';\n  zrUtil.each(nodes, function (node) {\n    node.outEdges.sort(function (a, b) {\n      return a.node2.getLayout()[keyAttr] - b.node2.getLayout()[keyAttr];\n    });\n    node.inEdges.sort(function (a, b) {\n      return a.node1.getLayout()[keyAttr] - b.node1.getLayout()[keyAttr];\n    });\n  });\n  zrUtil.each(nodes, function (node) {\n    var sy = 0;\n    var ty = 0;\n    zrUtil.each(node.outEdges, function (edge) {\n      edge.setLayout({\n        sy: sy\n      }, true);\n      sy += edge.getLayout().dy;\n    });\n    zrUtil.each(node.inEdges, function (edge) {\n      edge.setLayout({\n        ty: ty\n      }, true);\n      ty += edge.getLayout().dy;\n    });\n  });\n}", "\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport * as zrUtil from 'zrender/lib/core/util';\nimport VisualMapping from '../../visual/VisualMapping';\nexport default function sankeyVisual(ecModel) {\n  ecModel.eachSeriesByType('sankey', function (seriesModel) {\n    var graph = seriesModel.getGraph();\n    var nodes = graph.nodes;\n\n    if (nodes.length) {\n      var minValue_1 = Infinity;\n      var maxValue_1 = -Infinity;\n      zrUtil.each(nodes, function (node) {\n        var nodeValue = node.getLayout().value;\n\n        if (nodeValue < minValue_1) {\n          minValue_1 = nodeValue;\n        }\n\n        if (nodeValue > maxValue_1) {\n          maxValue_1 = nodeValue;\n        }\n      });\n      zrUtil.each(nodes, function (node) {\n        var mapping = new VisualMapping({\n          type: 'color',\n          mappingMethod: 'linear',\n          dataExtent: [minValue_1, maxValue_1],\n          visual: seriesModel.get('color')\n        });\n        var mapValueToColor = mapping.mapValueToVisual(node.getLayout().value);\n        var customColor = node.getModel().get(['itemStyle', 'color']);\n\n        if (customColor != null) {\n          node.setVisual('color', customColor);\n          node.setVisual('style', {\n            fill: customColor\n          });\n        } else {\n          node.setVisual('color', mapValueToColor);\n          node.setVisual('style', {\n            fill: mapValueToColor\n          });\n        }\n      });\n    }\n  });\n}", "\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport SankeyView from './SankeyView';\nimport SankeySeriesModel from './SankeySeries';\nimport sankeyLayout from './sankeyLayout';\nimport sankeyVisual from './sankeyVisual';\nexport function install(registers) {\n  registers.registerChartView(SankeyView);\n  registers.registerSeriesModel(SankeySeriesModel);\n  registers.registerLayout(sankeyLayout);\n  registers.registerVisual(sankeyVisual);\n  registers.registerAction({\n    type: 'dragNode',\n    event: 'dragnode',\n    // here can only use 'update' now, other value is not support in echarts.\n    update: 'update'\n  }, function (payload, ecModel) {\n    ecModel.eachComponent({\n      mainType: 'series',\n      subType: 'sankey',\n      query: payload\n    }, function (seriesModel) {\n      seriesModel.setNodePosition(payload.dataIndex, [payload.localX, payload.localY]);\n    });\n  });\n}", "\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport createListSimply from '../helper/createListSimply';\nimport * as zrUtil from 'zrender/lib/core/util';\nimport { getDimensionTypeByAxis } from '../../data/helper/dimensionHelper';\nimport { makeSeriesEncodeForAxisCoordSys } from '../../data/helper/sourceHelper';\n\nvar WhiskerBoxCommonMixin =\n/** @class */\nfunction () {\n  function WhiskerBoxCommonMixin() {}\n  /**\n   * @override\n   */\n\n\n  WhiskerBoxCommonMixin.prototype.getInitialData = function (option, ecModel) {\n    // When both types of xAxis and yAxis are 'value', layout is\n    // needed to be specified by user. Otherwise, layout can be\n    // judged by which axis is category.\n    var ordinalMeta;\n    var xAxisModel = ecModel.getComponent('xAxis', this.get('xAxisIndex'));\n    var yAxisModel = ecModel.getComponent('yAxis', this.get('yAxisIndex'));\n    var xAxisType = xAxisModel.get('type');\n    var yAxisType = yAxisModel.get('type');\n    var addOrdinal; // FIXME\n    // Consider time axis.\n\n    if (xAxisType === 'category') {\n      option.layout = 'horizontal';\n      ordinalMeta = xAxisModel.getOrdinalMeta();\n      addOrdinal = true;\n    } else if (yAxisType === 'category') {\n      option.layout = 'vertical';\n      ordinalMeta = yAxisModel.getOrdinalMeta();\n      addOrdinal = true;\n    } else {\n      option.layout = option.layout || 'horizontal';\n    }\n\n    var coordDims = ['x', 'y'];\n    var baseAxisDimIndex = option.layout === 'horizontal' ? 0 : 1;\n    var baseAxisDim = this._baseAxisDim = coordDims[baseAxisDimIndex];\n    var otherAxisDim = coordDims[1 - baseAxisDimIndex];\n    var axisModels = [xAxisModel, yAxisModel];\n    var baseAxisType = axisModels[baseAxisDimIndex].get('type');\n    var otherAxisType = axisModels[1 - baseAxisDimIndex].get('type');\n    var data = option.data; // ??? FIXME make a stage to perform data transfrom.\n    // MUST create a new data, consider setOption({}) again.\n\n    if (data && addOrdinal) {\n      var newOptionData_1 = [];\n      zrUtil.each(data, function (item, index) {\n        var newItem;\n\n        if (zrUtil.isArray(item)) {\n          newItem = item.slice();\n          item.unshift(index);\n        } else if (zrUtil.isArray(item.value)) {\n          newItem = item.value.slice();\n          item.value.unshift(index);\n        } else {\n          newItem = item;\n        }\n\n        newOptionData_1.push(newItem);\n      });\n      option.data = newOptionData_1;\n    }\n\n    var defaultValueDimensions = this.defaultValueDimensions;\n    var coordDimensions = [{\n      name: baseAxisDim,\n      type: getDimensionTypeByAxis(baseAxisType),\n      ordinalMeta: ordinalMeta,\n      otherDims: {\n        tooltip: false,\n        itemName: 0\n      },\n      dimsDef: ['base']\n    }, {\n      name: otherAxisDim,\n      type: getDimensionTypeByAxis(otherAxisType),\n      dimsDef: defaultValueDimensions.slice()\n    }];\n    return createListSimply(this, {\n      coordDimensions: coordDimensions,\n      dimensionsCount: defaultValueDimensions.length + 1,\n      encodeDefaulter: zrUtil.curry(makeSeriesEncodeForAxisCoordSys, coordDimensions, this)\n    });\n  };\n  /**\n   * If horizontal, base axis is x, otherwise y.\n   * @override\n   */\n\n\n  WhiskerBoxCommonMixin.prototype.getBaseAxis = function () {\n    var dim = this._baseAxisDim;\n    return this.ecModel.getComponent(dim + 'Axis', this.get(dim + 'AxisIndex')).axis;\n  };\n\n  return WhiskerBoxCommonMixin;\n}();\n\n;\nexport { WhiskerBoxCommonMixin };", "\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { __extends } from \"tslib\";\nimport SeriesModel from '../../model/Series';\nimport { WhiskerBoxCommonMixin } from '../helper/whiskerBoxCommon';\nimport { mixin } from 'zrender/lib/core/util';\n\nvar BoxplotSeriesModel =\n/** @class */\nfunction (_super) {\n  __extends(BoxplotSeriesModel, _super);\n\n  function BoxplotSeriesModel() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n\n    _this.type = BoxplotSeriesModel.type; // TODO\n    // box width represents group size, so dimension should have 'size'.\n\n    /**\n     * @see <https://en.wikipedia.org/wiki/Box_plot>\n     * The meanings of 'min' and 'max' depend on user,\n     * and echarts do not need to know it.\n     * @readOnly\n     */\n\n    _this.defaultValueDimensions = [{\n      name: 'min',\n      defaultTooltip: true\n    }, {\n      name: 'Q1',\n      defaultTooltip: true\n    }, {\n      name: 'median',\n      defaultTooltip: true\n    }, {\n      name: 'Q3',\n      defaultTooltip: true\n    }, {\n      name: 'max',\n      defaultTooltip: true\n    }];\n    _this.visualDrawType = 'stroke';\n    return _this;\n  }\n\n  BoxplotSeriesModel.type = 'series.boxplot';\n  BoxplotSeriesModel.dependencies = ['xAxis', 'yAxis', 'grid'];\n  BoxplotSeriesModel.defaultOption = {\n    zlevel: 0,\n    z: 2,\n    coordinateSystem: 'cartesian2d',\n    legendHoverLink: true,\n    layout: null,\n    boxWidth: [7, 50],\n    itemStyle: {\n      color: '#fff',\n      borderWidth: 1\n    },\n    emphasis: {\n      scale: true,\n      itemStyle: {\n        borderWidth: 2,\n        shadowBlur: 5,\n        shadowOffsetX: 1,\n        shadowOffsetY: 1,\n        shadowColor: 'rgba(0,0,0,0.2)'\n      }\n    },\n    animationDuration: 800\n  };\n  return BoxplotSeriesModel;\n}(SeriesModel);\n\nmixin(BoxplotSeriesModel, WhiskerBoxCommonMixin, true);\nexport default BoxplotSeriesModel;", "\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { __extends } from \"tslib\";\nimport * as zrUtil from 'zrender/lib/core/util';\nimport ChartView from '../../view/Chart';\nimport * as graphic from '../../util/graphic';\nimport { setStatesStylesFromModel, enableHoverEmphasis } from '../../util/states';\nimport Path from 'zrender/lib/graphic/Path';\n\nvar BoxplotView =\n/** @class */\nfunction (_super) {\n  __extends(BoxplotView, _super);\n\n  function BoxplotView() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n\n    _this.type = BoxplotView.type;\n    return _this;\n  }\n\n  BoxplotView.prototype.render = function (seriesModel, ecModel, api) {\n    var data = seriesModel.getData();\n    var group = this.group;\n    var oldData = this._data; // There is no old data only when first rendering or switching from\n    // stream mode to normal mode, where previous elements should be removed.\n\n    if (!this._data) {\n      group.removeAll();\n    }\n\n    var constDim = seriesModel.get('layout') === 'horizontal' ? 1 : 0;\n    data.diff(oldData).add(function (newIdx) {\n      if (data.hasValue(newIdx)) {\n        var itemLayout = data.getItemLayout(newIdx);\n        var symbolEl = createNormalBox(itemLayout, data, newIdx, constDim, true);\n        data.setItemGraphicEl(newIdx, symbolEl);\n        group.add(symbolEl);\n      }\n    }).update(function (newIdx, oldIdx) {\n      var symbolEl = oldData.getItemGraphicEl(oldIdx); // Empty data\n\n      if (!data.hasValue(newIdx)) {\n        group.remove(symbolEl);\n        return;\n      }\n\n      var itemLayout = data.getItemLayout(newIdx);\n\n      if (!symbolEl) {\n        symbolEl = createNormalBox(itemLayout, data, newIdx, constDim);\n      } else {\n        updateNormalBoxData(itemLayout, symbolEl, data, newIdx);\n      }\n\n      group.add(symbolEl);\n      data.setItemGraphicEl(newIdx, symbolEl);\n    }).remove(function (oldIdx) {\n      var el = oldData.getItemGraphicEl(oldIdx);\n      el && group.remove(el);\n    }).execute();\n    this._data = data;\n  };\n\n  BoxplotView.prototype.remove = function (ecModel) {\n    var group = this.group;\n    var data = this._data;\n    this._data = null;\n    data && data.eachItemGraphicEl(function (el) {\n      el && group.remove(el);\n    });\n  };\n\n  BoxplotView.type = 'boxplot';\n  return BoxplotView;\n}(ChartView);\n\nvar BoxPathShape =\n/** @class */\nfunction () {\n  function BoxPathShape() {}\n\n  return BoxPathShape;\n}();\n\nvar BoxPath =\n/** @class */\nfunction (_super) {\n  __extends(BoxPath, _super);\n\n  function BoxPath(opts) {\n    var _this = _super.call(this, opts) || this;\n\n    _this.type = 'boxplotBoxPath';\n    return _this;\n  }\n\n  BoxPath.prototype.getDefaultShape = function () {\n    return new BoxPathShape();\n  };\n\n  BoxPath.prototype.buildPath = function (ctx, shape) {\n    var ends = shape.points;\n    var i = 0;\n    ctx.moveTo(ends[i][0], ends[i][1]);\n    i++;\n\n    for (; i < 4; i++) {\n      ctx.lineTo(ends[i][0], ends[i][1]);\n    }\n\n    ctx.closePath();\n\n    for (; i < ends.length; i++) {\n      ctx.moveTo(ends[i][0], ends[i][1]);\n      i++;\n      ctx.lineTo(ends[i][0], ends[i][1]);\n    }\n  };\n\n  return BoxPath;\n}(Path);\n\nfunction createNormalBox(itemLayout, data, dataIndex, constDim, isInit) {\n  var ends = itemLayout.ends;\n  var el = new BoxPath({\n    shape: {\n      points: isInit ? transInit(ends, constDim, itemLayout) : ends\n    }\n  });\n  updateNormalBoxData(itemLayout, el, data, dataIndex, isInit);\n  return el;\n}\n\nfunction updateNormalBoxData(itemLayout, el, data, dataIndex, isInit) {\n  var seriesModel = data.hostModel;\n  var updateMethod = graphic[isInit ? 'initProps' : 'updateProps'];\n  updateMethod(el, {\n    shape: {\n      points: itemLayout.ends\n    }\n  }, seriesModel, dataIndex);\n  el.useStyle(data.getItemVisual(dataIndex, 'style'));\n  el.style.strokeNoScale = true;\n  el.z2 = 100;\n  var itemModel = data.getItemModel(dataIndex);\n  setStatesStylesFromModel(el, itemModel);\n  enableHoverEmphasis(el, itemModel.get(['emphasis', 'focus']), itemModel.get(['emphasis', 'blurScope']));\n}\n\nfunction transInit(points, dim, itemLayout) {\n  return zrUtil.map(points, function (point) {\n    point = point.slice();\n    point[dim] = itemLayout.initBaseline;\n    return point;\n  });\n}\n\nexport default BoxplotView;", "\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nexport default function boxplotVisual(ecModel, api) {}", "\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport * as zrUtil from 'zrender/lib/core/util';\nimport { parsePercent } from '../../util/number';\nvar each = zrUtil.each;\nexport default function boxplotLayout(ecModel) {\n  var groupResult = groupSeriesByAxis(ecModel);\n  each(groupResult, function (groupItem) {\n    var seriesModels = groupItem.seriesModels;\n\n    if (!seriesModels.length) {\n      return;\n    }\n\n    calculateBase(groupItem);\n    each(seriesModels, function (seriesModel, idx) {\n      layoutSingleSeries(seriesModel, groupItem.boxOffsetList[idx], groupItem.boxWidthList[idx]);\n    });\n  });\n}\n/**\n * Group series by axis.\n */\n\nfunction groupSeriesByAxis(ecModel) {\n  var result = [];\n  var axisList = [];\n  ecModel.eachSeriesByType('boxplot', function (seriesModel) {\n    var baseAxis = seriesModel.getBaseAxis();\n    var idx = zrUtil.indexOf(axisList, baseAxis);\n\n    if (idx < 0) {\n      idx = axisList.length;\n      axisList[idx] = baseAxis;\n      result[idx] = {\n        axis: baseAxis,\n        seriesModels: []\n      };\n    }\n\n    result[idx].seriesModels.push(seriesModel);\n  });\n  return result;\n}\n/**\n * Calculate offset and box width for each series.\n */\n\n\nfunction calculateBase(groupItem) {\n  var extent;\n  var baseAxis = groupItem.axis;\n  var seriesModels = groupItem.seriesModels;\n  var seriesCount = seriesModels.length;\n  var boxWidthList = groupItem.boxWidthList = [];\n  var boxOffsetList = groupItem.boxOffsetList = [];\n  var boundList = [];\n  var bandWidth;\n\n  if (baseAxis.type === 'category') {\n    bandWidth = baseAxis.getBandWidth();\n  } else {\n    var maxDataCount_1 = 0;\n    each(seriesModels, function (seriesModel) {\n      maxDataCount_1 = Math.max(maxDataCount_1, seriesModel.getData().count());\n    });\n    extent = baseAxis.getExtent(), Math.abs(extent[1] - extent[0]) / maxDataCount_1;\n  }\n\n  each(seriesModels, function (seriesModel) {\n    var boxWidthBound = seriesModel.get('boxWidth');\n\n    if (!zrUtil.isArray(boxWidthBound)) {\n      boxWidthBound = [boxWidthBound, boxWidthBound];\n    }\n\n    boundList.push([parsePercent(boxWidthBound[0], bandWidth) || 0, parsePercent(boxWidthBound[1], bandWidth) || 0]);\n  });\n  var availableWidth = bandWidth * 0.8 - 2;\n  var boxGap = availableWidth / seriesCount * 0.3;\n  var boxWidth = (availableWidth - boxGap * (seriesCount - 1)) / seriesCount;\n  var base = boxWidth / 2 - availableWidth / 2;\n  each(seriesModels, function (seriesModel, idx) {\n    boxOffsetList.push(base);\n    base += boxGap + boxWidth;\n    boxWidthList.push(Math.min(Math.max(boxWidth, boundList[idx][0]), boundList[idx][1]));\n  });\n}\n/**\n * Calculate points location for each series.\n */\n\n\nfunction layoutSingleSeries(seriesModel, offset, boxWidth) {\n  var coordSys = seriesModel.coordinateSystem;\n  var data = seriesModel.getData();\n  var halfWidth = boxWidth / 2;\n  var cDimIdx = seriesModel.get('layout') === 'horizontal' ? 0 : 1;\n  var vDimIdx = 1 - cDimIdx;\n  var coordDims = ['x', 'y'];\n  var cDim = data.mapDimension(coordDims[cDimIdx]);\n  var vDims = data.mapDimensionsAll(coordDims[vDimIdx]);\n\n  if (cDim == null || vDims.length < 5) {\n    return;\n  }\n\n  for (var dataIndex = 0; dataIndex < data.count(); dataIndex++) {\n    var axisDimVal = data.get(cDim, dataIndex);\n    var median = getPoint(axisDimVal, vDims[2], dataIndex);\n    var end1 = getPoint(axisDimVal, vDims[0], dataIndex);\n    var end2 = getPoint(axisDimVal, vDims[1], dataIndex);\n    var end4 = getPoint(axisDimVal, vDims[3], dataIndex);\n    var end5 = getPoint(axisDimVal, vDims[4], dataIndex);\n    var ends = [];\n    addBodyEnd(ends, end2, false);\n    addBodyEnd(ends, end4, true);\n    ends.push(end1, end2, end5, end4);\n    layEndLine(ends, end1);\n    layEndLine(ends, end5);\n    layEndLine(ends, median);\n    data.setItemLayout(dataIndex, {\n      initBaseline: median[vDimIdx],\n      ends: ends\n    });\n  }\n\n  function getPoint(axisDimVal, dim, dataIndex) {\n    var val = data.get(dim, dataIndex);\n    var p = [];\n    p[cDimIdx] = axisDimVal;\n    p[vDimIdx] = val;\n    var point;\n\n    if (isNaN(axisDimVal) || isNaN(val)) {\n      point = [NaN, NaN];\n    } else {\n      point = coordSys.dataToPoint(p);\n      point[cDimIdx] += offset;\n    }\n\n    return point;\n  }\n\n  function addBodyEnd(ends, point, start) {\n    var point1 = point.slice();\n    var point2 = point.slice();\n    point1[cDimIdx] += halfWidth;\n    point2[cDimIdx] -= halfWidth;\n    start ? ends.push(point1, point2) : ends.push(point2, point1);\n  }\n\n  function layEndLine(ends, endCenter) {\n    var from = endCenter.slice();\n    var to = endCenter.slice();\n    from[cDimIdx] -= halfWidth;\n    to[cDimIdx] += halfWidth;\n    ends.push(from, to);\n  }\n}", "\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { quantile, asc } from '../../util/number';\nimport { isFunction, isString } from 'zrender/lib/core/util';\n/**\n * See:\n *  <https://en.wikipedia.org/wiki/Box_plot#cite_note-frigge_hoaglin_iglewicz-2>\n *  <http://stat.ethz.ch/R-manual/R-devel/library/grDevices/html/boxplot.stats.html>\n *\n * Helper method for preparing data.\n *\n * @param rawData like\n *        [\n *            [12,232,443], (raw data set for the first box)\n *            [3843,5545,1232], (raw data set for the second box)\n *            ...\n *        ]\n * @param opt.boundIQR=1.5 Data less than min bound is outlier.\n *      default 1.5, means Q1 - 1.5 * (Q3 - Q1).\n *      If 'none'/0 passed, min bound will not be used.\n */\n\nexport default function prepareBoxplotData(rawData, opt) {\n  opt = opt || {};\n  var boxData = [];\n  var outliers = [];\n  var boundIQR = opt.boundIQR;\n  var useExtreme = boundIQR === 'none' || boundIQR === 0;\n\n  for (var i = 0; i < rawData.length; i++) {\n    var ascList = asc(rawData[i].slice());\n    var Q1 = quantile(ascList, 0.25);\n    var Q2 = quantile(ascList, 0.5);\n    var Q3 = quantile(ascList, 0.75);\n    var min = ascList[0];\n    var max = ascList[ascList.length - 1];\n    var bound = (boundIQR == null ? 1.5 : boundIQR) * (Q3 - Q1);\n    var low = useExtreme ? min : Math.max(min, Q1 - bound);\n    var high = useExtreme ? max : Math.min(max, Q3 + bound);\n    var itemNameFormatter = opt.itemNameFormatter;\n    var itemName = isFunction(itemNameFormatter) ? itemNameFormatter({\n      value: i\n    }) : isString(itemNameFormatter) ? itemNameFormatter.replace('{value}', i + '') : i + '';\n    boxData.push([itemName, low, Q1, Q2, Q3, high]);\n\n    for (var j = 0; j < ascList.length; j++) {\n      var dataItem = ascList[j];\n\n      if (dataItem < low || dataItem > high) {\n        var outlier = [itemName, dataItem];\n        outliers.push(outlier);\n      }\n    }\n  }\n\n  return {\n    boxData: boxData,\n    outliers: outliers\n  };\n}", "\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport prepareBoxplotData from './prepareBoxplotData';\nimport { throwError, makePrintable } from '../../util/log';\nimport { SOURCE_FORMAT_ARRAY_ROWS } from '../../util/types';\nexport var boxplotTransform = {\n  type: 'echarts:boxplot',\n  transform: function transform(params) {\n    var upstream = params.upstream;\n\n    if (upstream.sourceFormat !== SOURCE_FORMAT_ARRAY_ROWS) {\n      var errMsg = '';\n\n      if (process.env.NODE_ENV !== 'production') {\n        errMsg = makePrintable('source data is not applicable for this boxplot transform. Expect number[][].');\n      }\n\n      throwError(errMsg);\n    }\n\n    var result = prepareBoxplotData(upstream.getRawData(), params.config);\n    return [{\n      dimensions: ['ItemName', 'Low', 'Q1', 'Q2', 'Q3', 'High'],\n      data: result.boxData\n    }, {\n      data: result.outliers\n    }];\n  }\n};", "\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport BoxplotSeriesModel from './BoxplotSeries';\nimport BoxplotView from './BoxplotView';\nimport boxplotVisual from './boxplotVisual';\nimport boxplotLayout from './boxplotLayout';\nimport { boxplotTransform } from './boxplotTransform';\nexport function install(registers) {\n  registers.registerSeriesModel(BoxplotSeriesModel);\n  registers.registerChartView(BoxplotView);\n  registers.registerVisual(boxplotVisual);\n  registers.registerLayout(boxplotLayout);\n  registers.registerTransform(boxplotTransform);\n}", "\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { __extends } from \"tslib\";\nimport * as zrUtil from 'zrender/lib/core/util';\nimport ChartView from '../../view/Chart';\nimport * as graphic from '../../util/graphic';\nimport { setStatesStylesFromModel } from '../../util/states';\nimport Path from 'zrender/lib/graphic/Path';\nimport { createClipPath } from '../helper/createClipPathFromCoordSys';\nvar SKIP_PROPS = ['color', 'borderColor'];\n\nvar CandlestickView =\n/** @class */\nfunction (_super) {\n  __extends(CandlestickView, _super);\n\n  function CandlestickView() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n\n    _this.type = CandlestickView.type;\n    return _this;\n  }\n\n  CandlestickView.prototype.render = function (seriesModel, ecModel, api) {\n    // If there is clipPath created in large mode. Remove it.\n    this.group.removeClipPath();\n\n    this._updateDrawMode(seriesModel);\n\n    this._isLargeDraw ? this._renderLarge(seriesModel) : this._renderNormal(seriesModel);\n  };\n\n  CandlestickView.prototype.incrementalPrepareRender = function (seriesModel, ecModel, api) {\n    this._clear();\n\n    this._updateDrawMode(seriesModel);\n  };\n\n  CandlestickView.prototype.incrementalRender = function (params, seriesModel, ecModel, api) {\n    this._isLargeDraw ? this._incrementalRenderLarge(params, seriesModel) : this._incrementalRenderNormal(params, seriesModel);\n  };\n\n  CandlestickView.prototype._updateDrawMode = function (seriesModel) {\n    var isLargeDraw = seriesModel.pipelineContext.large;\n\n    if (this._isLargeDraw == null || isLargeDraw !== this._isLargeDraw) {\n      this._isLargeDraw = isLargeDraw;\n\n      this._clear();\n    }\n  };\n\n  CandlestickView.prototype._renderNormal = function (seriesModel) {\n    var data = seriesModel.getData();\n    var oldData = this._data;\n    var group = this.group;\n    var isSimpleBox = data.getLayout('isSimpleBox');\n    var needsClip = seriesModel.get('clip', true);\n    var coord = seriesModel.coordinateSystem;\n    var clipArea = coord.getArea && coord.getArea(); // There is no old data only when first rendering or switching from\n    // stream mode to normal mode, where previous elements should be removed.\n\n    if (!this._data) {\n      group.removeAll();\n    }\n\n    data.diff(oldData).add(function (newIdx) {\n      if (data.hasValue(newIdx)) {\n        var itemLayout = data.getItemLayout(newIdx);\n\n        if (needsClip && isNormalBoxClipped(clipArea, itemLayout)) {\n          return;\n        }\n\n        var el = createNormalBox(itemLayout, newIdx, true);\n        graphic.initProps(el, {\n          shape: {\n            points: itemLayout.ends\n          }\n        }, seriesModel, newIdx);\n        setBoxCommon(el, data, newIdx, isSimpleBox);\n        group.add(el);\n        data.setItemGraphicEl(newIdx, el);\n      }\n    }).update(function (newIdx, oldIdx) {\n      var el = oldData.getItemGraphicEl(oldIdx); // Empty data\n\n      if (!data.hasValue(newIdx)) {\n        group.remove(el);\n        return;\n      }\n\n      var itemLayout = data.getItemLayout(newIdx);\n\n      if (needsClip && isNormalBoxClipped(clipArea, itemLayout)) {\n        group.remove(el);\n        return;\n      }\n\n      if (!el) {\n        el = createNormalBox(itemLayout, newIdx);\n      } else {\n        graphic.updateProps(el, {\n          shape: {\n            points: itemLayout.ends\n          }\n        }, seriesModel, newIdx);\n      }\n\n      setBoxCommon(el, data, newIdx, isSimpleBox);\n      group.add(el);\n      data.setItemGraphicEl(newIdx, el);\n    }).remove(function (oldIdx) {\n      var el = oldData.getItemGraphicEl(oldIdx);\n      el && group.remove(el);\n    }).execute();\n    this._data = data;\n  };\n\n  CandlestickView.prototype._renderLarge = function (seriesModel) {\n    this._clear();\n\n    createLarge(seriesModel, this.group);\n    var clipPath = seriesModel.get('clip', true) ? createClipPath(seriesModel.coordinateSystem, false, seriesModel) : null;\n\n    if (clipPath) {\n      this.group.setClipPath(clipPath);\n    } else {\n      this.group.removeClipPath();\n    }\n  };\n\n  CandlestickView.prototype._incrementalRenderNormal = function (params, seriesModel) {\n    var data = seriesModel.getData();\n    var isSimpleBox = data.getLayout('isSimpleBox');\n    var dataIndex;\n\n    while ((dataIndex = params.next()) != null) {\n      var itemLayout = data.getItemLayout(dataIndex);\n      var el = createNormalBox(itemLayout, dataIndex);\n      setBoxCommon(el, data, dataIndex, isSimpleBox);\n      el.incremental = true;\n      this.group.add(el);\n    }\n  };\n\n  CandlestickView.prototype._incrementalRenderLarge = function (params, seriesModel) {\n    createLarge(seriesModel, this.group, true);\n  };\n\n  CandlestickView.prototype.remove = function (ecModel) {\n    this._clear();\n  };\n\n  CandlestickView.prototype._clear = function () {\n    this.group.removeAll();\n    this._data = null;\n  };\n\n  CandlestickView.type = 'candlestick';\n  return CandlestickView;\n}(ChartView);\n\nvar NormalBoxPathShape =\n/** @class */\nfunction () {\n  function NormalBoxPathShape() {}\n\n  return NormalBoxPathShape;\n}();\n\nvar NormalBoxPath =\n/** @class */\nfunction (_super) {\n  __extends(NormalBoxPath, _super);\n\n  function NormalBoxPath(opts) {\n    var _this = _super.call(this, opts) || this;\n\n    _this.type = 'normalCandlestickBox';\n    return _this;\n  }\n\n  NormalBoxPath.prototype.getDefaultShape = function () {\n    return new NormalBoxPathShape();\n  };\n\n  NormalBoxPath.prototype.buildPath = function (ctx, shape) {\n    var ends = shape.points;\n\n    if (this.__simpleBox) {\n      ctx.moveTo(ends[4][0], ends[4][1]);\n      ctx.lineTo(ends[6][0], ends[6][1]);\n    } else {\n      ctx.moveTo(ends[0][0], ends[0][1]);\n      ctx.lineTo(ends[1][0], ends[1][1]);\n      ctx.lineTo(ends[2][0], ends[2][1]);\n      ctx.lineTo(ends[3][0], ends[3][1]);\n      ctx.closePath();\n      ctx.moveTo(ends[4][0], ends[4][1]);\n      ctx.lineTo(ends[5][0], ends[5][1]);\n      ctx.moveTo(ends[6][0], ends[6][1]);\n      ctx.lineTo(ends[7][0], ends[7][1]);\n    }\n  };\n\n  return NormalBoxPath;\n}(Path);\n\nfunction createNormalBox(itemLayout, dataIndex, isInit) {\n  var ends = itemLayout.ends;\n  return new NormalBoxPath({\n    shape: {\n      points: isInit ? transInit(ends, itemLayout) : ends\n    },\n    z2: 100\n  });\n}\n\nfunction isNormalBoxClipped(clipArea, itemLayout) {\n  var clipped = true;\n\n  for (var i = 0; i < itemLayout.ends.length; i++) {\n    // If any point are in the region.\n    if (clipArea.contain(itemLayout.ends[i][0], itemLayout.ends[i][1])) {\n      clipped = false;\n      break;\n    }\n  }\n\n  return clipped;\n}\n\nfunction setBoxCommon(el, data, dataIndex, isSimpleBox) {\n  var itemModel = data.getItemModel(dataIndex);\n  el.useStyle(data.getItemVisual(dataIndex, 'style'));\n  el.style.strokeNoScale = true;\n  el.__simpleBox = isSimpleBox;\n  setStatesStylesFromModel(el, itemModel);\n}\n\nfunction transInit(points, itemLayout) {\n  return zrUtil.map(points, function (point) {\n    point = point.slice();\n    point[1] = itemLayout.initBaseline;\n    return point;\n  });\n}\n\nvar LargeBoxPathShape =\n/** @class */\nfunction () {\n  function LargeBoxPathShape() {}\n\n  return LargeBoxPathShape;\n}();\n\nvar LargeBoxPath =\n/** @class */\nfunction (_super) {\n  __extends(LargeBoxPath, _super);\n\n  function LargeBoxPath(opts) {\n    var _this = _super.call(this, opts) || this;\n\n    _this.type = 'largeCandlestickBox';\n    return _this;\n  }\n\n  LargeBoxPath.prototype.getDefaultShape = function () {\n    return new LargeBoxPathShape();\n  };\n\n  LargeBoxPath.prototype.buildPath = function (ctx, shape) {\n    // Drawing lines is more efficient than drawing\n    // a whole line or drawing rects.\n    var points = shape.points;\n\n    for (var i = 0; i < points.length;) {\n      if (this.__sign === points[i++]) {\n        var x = points[i++];\n        ctx.moveTo(x, points[i++]);\n        ctx.lineTo(x, points[i++]);\n      } else {\n        i += 3;\n      }\n    }\n  };\n\n  return LargeBoxPath;\n}(Path);\n\nfunction createLarge(seriesModel, group, incremental) {\n  var data = seriesModel.getData();\n  var largePoints = data.getLayout('largePoints');\n  var elP = new LargeBoxPath({\n    shape: {\n      points: largePoints\n    },\n    __sign: 1\n  });\n  group.add(elP);\n  var elN = new LargeBoxPath({\n    shape: {\n      points: largePoints\n    },\n    __sign: -1\n  });\n  group.add(elN);\n  setLargeStyle(1, elP, seriesModel, data);\n  setLargeStyle(-1, elN, seriesModel, data);\n\n  if (incremental) {\n    elP.incremental = true;\n    elN.incremental = true;\n  }\n}\n\nfunction setLargeStyle(sign, el, seriesModel, data) {\n  // TODO put in visual?\n  var borderColor = seriesModel.get(['itemStyle', sign > 0 ? 'borderColor' : 'borderColor0']) || seriesModel.get(['itemStyle', sign > 0 ? 'color' : 'color0']); // Color must be excluded.\n  // Because symbol provide setColor individually to set fill and stroke\n\n  var itemStyle = seriesModel.getModel('itemStyle').getItemStyle(SKIP_PROPS);\n  el.useStyle(itemStyle);\n  el.style.fill = null;\n  el.style.stroke = borderColor;\n}\n\nexport default CandlestickView;", "\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { __extends } from \"tslib\";\nimport SeriesModel from '../../model/Series';\nimport { WhiskerBoxCommonMixin } from '../helper/whiskerBoxCommon';\nimport { mixin } from 'zrender/lib/core/util';\n\nvar CandlestickSeriesModel =\n/** @class */\nfunction (_super) {\n  __extends(CandlestickSeriesModel, _super);\n\n  function CandlestickSeriesModel() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n\n    _this.type = CandlestickSeriesModel.type;\n    _this.defaultValueDimensions = [{\n      name: 'open',\n      defaultTooltip: true\n    }, {\n      name: 'close',\n      defaultTooltip: true\n    }, {\n      name: 'lowest',\n      defaultTooltip: true\n    }, {\n      name: 'highest',\n      defaultTooltip: true\n    }];\n    return _this;\n  }\n  /**\n   * Get dimension for shadow in dataZoom\n   * @return dimension name\n   */\n\n\n  CandlestickSeriesModel.prototype.getShadowDim = function () {\n    return 'open';\n  };\n\n  CandlestickSeriesModel.prototype.brushSelector = function (dataIndex, data, selectors) {\n    var itemLayout = data.getItemLayout(dataIndex);\n    return itemLayout && selectors.rect(itemLayout.brushRect);\n  };\n\n  CandlestickSeriesModel.type = 'series.candlestick';\n  CandlestickSeriesModel.dependencies = ['xAxis', 'yAxis', 'grid'];\n  CandlestickSeriesModel.defaultOption = {\n    zlevel: 0,\n    z: 2,\n    coordinateSystem: 'cartesian2d',\n    legendHoverLink: true,\n    // xAxisIndex: 0,\n    // yAxisIndex: 0,\n    layout: null,\n    clip: true,\n    itemStyle: {\n      color: '#eb5454',\n      color0: '#47b262',\n      borderColor: '#eb5454',\n      borderColor0: '#47b262',\n      // borderColor: '#d24040',\n      // borderColor0: '#398f4f',\n      borderWidth: 1\n    },\n    emphasis: {\n      scale: true,\n      itemStyle: {\n        borderWidth: 2\n      }\n    },\n    barMaxWidth: null,\n    barMinWidth: null,\n    barWidth: null,\n    large: true,\n    largeThreshold: 600,\n    progressive: 3e3,\n    progressiveThreshold: 1e4,\n    progressiveChunkMode: 'mod',\n    animationEasing: 'linear',\n    animationDuration: 300\n  };\n  return CandlestickSeriesModel;\n}(SeriesModel);\n\nmixin(CandlestickSeriesModel, WhiskerBoxCommonMixin, true);\nexport default CandlestickSeriesModel;", "\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport * as zrUtil from 'zrender/lib/core/util';\nexport default function candlestickPreprocessor(option) {\n  if (!option || !zrUtil.isArray(option.series)) {\n    return;\n  } // Translate 'k' to 'candlestick'.\n\n\n  zrUtil.each(option.series, function (seriesItem) {\n    if (zrUtil.isObject(seriesItem) && seriesItem.type === 'k') {\n      seriesItem.type = 'candlestick';\n    }\n  });\n}", "\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport createRenderPlanner from '../helper/createRenderPlanner';\nimport { extend } from 'zrender/lib/core/util';\nvar positiveBorderColorQuery = ['itemStyle', 'borderColor'];\nvar negativeBorderColorQuery = ['itemStyle', 'borderColor0'];\nvar positiveColorQuery = ['itemStyle', 'color'];\nvar negativeColorQuery = ['itemStyle', 'color0'];\nvar candlestickVisual = {\n  seriesType: 'candlestick',\n  plan: createRenderPlanner(),\n  // For legend.\n  performRawSeries: true,\n  reset: function (seriesModel, ecModel) {\n    function getColor(sign, model) {\n      return model.get(sign > 0 ? positiveColorQuery : negativeColorQuery);\n    }\n\n    function getBorderColor(sign, model) {\n      return model.get(sign > 0 ? positiveBorderColorQuery : negativeBorderColorQuery);\n    } // Only visible series has each data be visual encoded\n\n\n    if (ecModel.isSeriesFiltered(seriesModel)) {\n      return;\n    }\n\n    var isLargeRender = seriesModel.pipelineContext.large;\n    return !isLargeRender && {\n      progress: function (params, data) {\n        var dataIndex;\n\n        while ((dataIndex = params.next()) != null) {\n          var itemModel = data.getItemModel(dataIndex);\n          var sign = data.getItemLayout(dataIndex).sign;\n          var style = itemModel.getItemStyle();\n          style.fill = getColor(sign, itemModel);\n          style.stroke = getBorderColor(sign, itemModel) || style.fill;\n          var existsStyle = data.ensureUniqueItemVisual(dataIndex, 'style');\n          extend(existsStyle, style);\n        }\n      }\n    };\n  }\n};\nexport default candlestickVisual;", "\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n/* global Float32Array */\nimport { subPixelOptimize } from '../../util/graphic';\nimport createRenderPlanner from '../helper/createRenderPlanner';\nimport { parsePercent } from '../../util/number';\nimport { retrieve2 } from 'zrender/lib/core/util';\nvar LargeArr = typeof Float32Array !== 'undefined' ? Float32Array : Array;\nvar candlestickLayout = {\n  seriesType: 'candlestick',\n  plan: createRenderPlanner(),\n  reset: function (seriesModel) {\n    var coordSys = seriesModel.coordinateSystem;\n    var data = seriesModel.getData();\n    var candleWidth = calculateCandleWidth(seriesModel, data);\n    var cDimIdx = 0;\n    var vDimIdx = 1;\n    var coordDims = ['x', 'y'];\n    var cDim = data.mapDimension(coordDims[cDimIdx]);\n    var vDims = data.mapDimensionsAll(coordDims[vDimIdx]);\n    var openDim = vDims[0];\n    var closeDim = vDims[1];\n    var lowestDim = vDims[2];\n    var highestDim = vDims[3];\n    data.setLayout({\n      candleWidth: candleWidth,\n      // The value is experimented visually.\n      isSimpleBox: candleWidth <= 1.3\n    });\n\n    if (cDim == null || vDims.length < 4) {\n      return;\n    }\n\n    return {\n      progress: seriesModel.pipelineContext.large ? largeProgress : normalProgress\n    };\n\n    function normalProgress(params, data) {\n      var dataIndex;\n\n      while ((dataIndex = params.next()) != null) {\n        var axisDimVal = data.get(cDim, dataIndex);\n        var openVal = data.get(openDim, dataIndex);\n        var closeVal = data.get(closeDim, dataIndex);\n        var lowestVal = data.get(lowestDim, dataIndex);\n        var highestVal = data.get(highestDim, dataIndex);\n        var ocLow = Math.min(openVal, closeVal);\n        var ocHigh = Math.max(openVal, closeVal);\n        var ocLowPoint = getPoint(ocLow, axisDimVal);\n        var ocHighPoint = getPoint(ocHigh, axisDimVal);\n        var lowestPoint = getPoint(lowestVal, axisDimVal);\n        var highestPoint = getPoint(highestVal, axisDimVal);\n        var ends = [];\n        addBodyEnd(ends, ocHighPoint, 0);\n        addBodyEnd(ends, ocLowPoint, 1);\n        ends.push(subPixelOptimizePoint(highestPoint), subPixelOptimizePoint(ocHighPoint), subPixelOptimizePoint(lowestPoint), subPixelOptimizePoint(ocLowPoint));\n        data.setItemLayout(dataIndex, {\n          sign: getSign(data, dataIndex, openVal, closeVal, closeDim),\n          initBaseline: openVal > closeVal ? ocHighPoint[vDimIdx] : ocLowPoint[vDimIdx],\n          ends: ends,\n          brushRect: makeBrushRect(lowestVal, highestVal, axisDimVal)\n        });\n      }\n\n      function getPoint(val, axisDimVal) {\n        var p = [];\n        p[cDimIdx] = axisDimVal;\n        p[vDimIdx] = val;\n        return isNaN(axisDimVal) || isNaN(val) ? [NaN, NaN] : coordSys.dataToPoint(p);\n      }\n\n      function addBodyEnd(ends, point, start) {\n        var point1 = point.slice();\n        var point2 = point.slice();\n        point1[cDimIdx] = subPixelOptimize(point1[cDimIdx] + candleWidth / 2, 1, false);\n        point2[cDimIdx] = subPixelOptimize(point2[cDimIdx] - candleWidth / 2, 1, true);\n        start ? ends.push(point1, point2) : ends.push(point2, point1);\n      }\n\n      function makeBrushRect(lowestVal, highestVal, axisDimVal) {\n        var pmin = getPoint(lowestVal, axisDimVal);\n        var pmax = getPoint(highestVal, axisDimVal);\n        pmin[cDimIdx] -= candleWidth / 2;\n        pmax[cDimIdx] -= candleWidth / 2;\n        return {\n          x: pmin[0],\n          y: pmin[1],\n          width: vDimIdx ? candleWidth : pmax[0] - pmin[0],\n          height: vDimIdx ? pmax[1] - pmin[1] : candleWidth\n        };\n      }\n\n      function subPixelOptimizePoint(point) {\n        point[cDimIdx] = subPixelOptimize(point[cDimIdx], 1);\n        return point;\n      }\n    }\n\n    function largeProgress(params, data) {\n      // Structure: [sign, x, yhigh, ylow, sign, x, yhigh, ylow, ...]\n      var points = new LargeArr(params.count * 4);\n      var offset = 0;\n      var point;\n      var tmpIn = [];\n      var tmpOut = [];\n      var dataIndex;\n\n      while ((dataIndex = params.next()) != null) {\n        var axisDimVal = data.get(cDim, dataIndex);\n        var openVal = data.get(openDim, dataIndex);\n        var closeVal = data.get(closeDim, dataIndex);\n        var lowestVal = data.get(lowestDim, dataIndex);\n        var highestVal = data.get(highestDim, dataIndex);\n\n        if (isNaN(axisDimVal) || isNaN(lowestVal) || isNaN(highestVal)) {\n          points[offset++] = NaN;\n          offset += 3;\n          continue;\n        }\n\n        points[offset++] = getSign(data, dataIndex, openVal, closeVal, closeDim);\n        tmpIn[cDimIdx] = axisDimVal;\n        tmpIn[vDimIdx] = lowestVal;\n        point = coordSys.dataToPoint(tmpIn, null, tmpOut);\n        points[offset++] = point ? point[0] : NaN;\n        points[offset++] = point ? point[1] : NaN;\n        tmpIn[vDimIdx] = highestVal;\n        point = coordSys.dataToPoint(tmpIn, null, tmpOut);\n        points[offset++] = point ? point[1] : NaN;\n      }\n\n      data.setLayout('largePoints', points);\n    }\n  }\n};\n\nfunction getSign(data, dataIndex, openVal, closeVal, closeDim) {\n  var sign;\n\n  if (openVal > closeVal) {\n    sign = -1;\n  } else if (openVal < closeVal) {\n    sign = 1;\n  } else {\n    sign = dataIndex > 0 // If close === open, compare with close of last record\n    ? data.get(closeDim, dataIndex - 1) <= closeVal ? 1 : -1 : // No record of previous, set to be positive\n    1;\n  }\n\n  return sign;\n}\n\nfunction calculateCandleWidth(seriesModel, data) {\n  var baseAxis = seriesModel.getBaseAxis();\n  var extent;\n  var bandWidth = baseAxis.type === 'category' ? baseAxis.getBandWidth() : (extent = baseAxis.getExtent(), Math.abs(extent[1] - extent[0]) / data.count());\n  var barMaxWidth = parsePercent(retrieve2(seriesModel.get('barMaxWidth'), bandWidth), bandWidth);\n  var barMinWidth = parsePercent(retrieve2(seriesModel.get('barMinWidth'), 1), bandWidth);\n  var barWidth = seriesModel.get('barWidth');\n  return barWidth != null ? parsePercent(barWidth, bandWidth) // Put max outer to ensure bar visible in spite of overlap.\n  : Math.max(Math.min(bandWidth / 2, barMaxWidth), barMinWidth);\n}\n\nexport default candlestickLayout;", "\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport CandlestickView from './CandlestickView';\nimport CandlestickSeriesModel from './CandlestickSeries';\nimport preprocessor from './preprocessor';\nimport candlestickVisual from './candlestickVisual';\nimport candlestickLayout from './candlestickLayout';\nexport function install(registers) {\n  registers.registerChartView(CandlestickView);\n  registers.registerSeriesModel(CandlestickSeriesModel);\n  registers.registerPreprocessor(preprocessor);\n  registers.registerVisual(candlestickVisual);\n  registers.registerLayout(candlestickLayout);\n}", "\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { __extends } from \"tslib\";\nimport * as zrUtil from 'zrender/lib/core/util';\nimport { createSymbol } from '../../util/symbol';\nimport { Group } from '../../util/graphic';\nimport { enterEmphasis, leaveEmphasis, enableHoverEmphasis } from '../../util/states';\nimport { parsePercent } from '../../util/number';\nimport SymbolClz from './Symbol';\nvar EFFECT_RIPPLE_NUMBER = 3;\n\nfunction normalizeSymbolSize(symbolSize) {\n  if (!zrUtil.isArray(symbolSize)) {\n    symbolSize = [+symbolSize, +symbolSize];\n  }\n\n  return symbolSize;\n}\n\nfunction updateRipplePath(rippleGroup, effectCfg) {\n  var color = effectCfg.rippleEffectColor || effectCfg.color;\n  rippleGroup.eachChild(function (ripplePath) {\n    ripplePath.attr({\n      z: effectCfg.z,\n      zlevel: effectCfg.zlevel,\n      style: {\n        stroke: effectCfg.brushType === 'stroke' ? color : null,\n        fill: effectCfg.brushType === 'fill' ? color : null\n      }\n    });\n  });\n}\n\nvar EffectSymbol =\n/** @class */\nfunction (_super) {\n  __extends(EffectSymbol, _super);\n\n  function EffectSymbol(data, idx) {\n    var _this = _super.call(this) || this;\n\n    var symbol = new SymbolClz(data, idx);\n    var rippleGroup = new Group();\n\n    _this.add(symbol);\n\n    _this.add(rippleGroup);\n\n    _this.updateData(data, idx);\n\n    return _this;\n  }\n\n  EffectSymbol.prototype.stopEffectAnimation = function () {\n    this.childAt(1).removeAll();\n  };\n\n  EffectSymbol.prototype.startEffectAnimation = function (effectCfg) {\n    var symbolType = effectCfg.symbolType;\n    var color = effectCfg.color;\n    var rippleGroup = this.childAt(1);\n\n    for (var i = 0; i < EFFECT_RIPPLE_NUMBER; i++) {\n      // If width/height are set too small (e.g., set to 1) on ios10\n      // and macOS Sierra, a circle stroke become a rect, no matter what\n      // the scale is set. So we set width/height as 2. See #4136.\n      var ripplePath = createSymbol(symbolType, -1, -1, 2, 2, color);\n      ripplePath.attr({\n        style: {\n          strokeNoScale: true\n        },\n        z2: 99,\n        silent: true,\n        scaleX: 0.5,\n        scaleY: 0.5\n      });\n      var delay = -i / EFFECT_RIPPLE_NUMBER * effectCfg.period + effectCfg.effectOffset; // TODO Configurable effectCfg.period\n\n      ripplePath.animate('', true).when(effectCfg.period, {\n        scaleX: effectCfg.rippleScale / 2,\n        scaleY: effectCfg.rippleScale / 2\n      }).delay(delay).start();\n      ripplePath.animateStyle(true).when(effectCfg.period, {\n        opacity: 0\n      }).delay(delay).start();\n      rippleGroup.add(ripplePath);\n    }\n\n    updateRipplePath(rippleGroup, effectCfg);\n  };\n  /**\n   * Update effect symbol\n   */\n\n\n  EffectSymbol.prototype.updateEffectAnimation = function (effectCfg) {\n    var oldEffectCfg = this._effectCfg;\n    var rippleGroup = this.childAt(1); // Must reinitialize effect if following configuration changed\n\n    var DIFFICULT_PROPS = ['symbolType', 'period', 'rippleScale'];\n\n    for (var i = 0; i < DIFFICULT_PROPS.length; i++) {\n      var propName = DIFFICULT_PROPS[i];\n\n      if (oldEffectCfg[propName] !== effectCfg[propName]) {\n        this.stopEffectAnimation();\n        this.startEffectAnimation(effectCfg);\n        return;\n      }\n    }\n\n    updateRipplePath(rippleGroup, effectCfg);\n  };\n  /**\n   * Highlight symbol\n   */\n\n\n  EffectSymbol.prototype.highlight = function () {\n    enterEmphasis(this);\n  };\n  /**\n   * Downplay symbol\n   */\n\n\n  EffectSymbol.prototype.downplay = function () {\n    leaveEmphasis(this);\n  };\n  /**\n   * Update symbol properties\n   */\n\n\n  EffectSymbol.prototype.updateData = function (data, idx) {\n    var _this = this;\n\n    var seriesModel = data.hostModel;\n    this.childAt(0).updateData(data, idx);\n    var rippleGroup = this.childAt(1);\n    var itemModel = data.getItemModel(idx);\n    var symbolType = data.getItemVisual(idx, 'symbol');\n    var symbolSize = normalizeSymbolSize(data.getItemVisual(idx, 'symbolSize'));\n    var symbolStyle = data.getItemVisual(idx, 'style');\n    var color = symbolStyle && symbolStyle.fill;\n    rippleGroup.setScale(symbolSize);\n    rippleGroup.traverse(function (ripplePath) {\n      ripplePath.setStyle('fill', color);\n    });\n    var symbolOffset = data.getItemVisual(idx, 'symbolOffset');\n\n    if (symbolOffset) {\n      if (!zrUtil.isArray(symbolOffset)) {\n        symbolOffset = [symbolOffset, symbolOffset];\n      }\n\n      rippleGroup.x = parsePercent(symbolOffset[0], symbolSize[0]);\n      rippleGroup.y = parsePercent(zrUtil.retrieve2(symbolOffset[1], symbolOffset[0]) || 0, symbolSize[1]);\n    }\n\n    var symbolRotate = data.getItemVisual(idx, 'symbolRotate');\n    rippleGroup.rotation = (symbolRotate || 0) * Math.PI / 180 || 0;\n    var effectCfg = {};\n    effectCfg.showEffectOn = seriesModel.get('showEffectOn');\n    effectCfg.rippleScale = itemModel.get(['rippleEffect', 'scale']);\n    effectCfg.brushType = itemModel.get(['rippleEffect', 'brushType']);\n    effectCfg.period = itemModel.get(['rippleEffect', 'period']) * 1000;\n    effectCfg.effectOffset = idx / data.count();\n    effectCfg.z = seriesModel.getShallow('z') || 0;\n    effectCfg.zlevel = seriesModel.getShallow('zlevel') || 0;\n    effectCfg.symbolType = symbolType;\n    effectCfg.color = color;\n    effectCfg.rippleEffectColor = itemModel.get(['rippleEffect', 'color']);\n    this.off('mouseover').off('mouseout').off('emphasis').off('normal');\n\n    if (effectCfg.showEffectOn === 'render') {\n      this._effectCfg ? this.updateEffectAnimation(effectCfg) : this.startEffectAnimation(effectCfg);\n      this._effectCfg = effectCfg;\n    } else {\n      // Not keep old effect config\n      this._effectCfg = null;\n      this.stopEffectAnimation();\n\n      this.onHoverStateChange = function (toState) {\n        if (toState === 'emphasis') {\n          if (effectCfg.showEffectOn !== 'render') {\n            _this.startEffectAnimation(effectCfg);\n          }\n        } else if (toState === 'normal') {\n          if (effectCfg.showEffectOn !== 'render') {\n            _this.stopEffectAnimation();\n          }\n        }\n      };\n    }\n\n    this._effectCfg = effectCfg;\n    enableHoverEmphasis(this);\n  };\n\n  ;\n\n  EffectSymbol.prototype.fadeOut = function (cb) {\n    this.off('mouseover').off('mouseout');\n    cb && cb();\n  };\n\n  ;\n  return EffectSymbol;\n}(Group);\n\nexport default EffectSymbol;", "\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { __extends } from \"tslib\";\nimport SymbolDraw from '../helper/SymbolDraw';\nimport EffectSymbol from '../helper/EffectSymbol';\nimport * as matrix from 'zrender/lib/core/matrix';\nimport pointsLayout from '../../layout/points';\nimport ChartView from '../../view/Chart';\n\nvar EffectScatterView =\n/** @class */\nfunction (_super) {\n  __extends(EffectScatterView, _super);\n\n  function EffectScatterView() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n\n    _this.type = EffectScatterView.type;\n    return _this;\n  }\n\n  EffectScatterView.prototype.init = function () {\n    this._symbolDraw = new SymbolDraw(EffectSymbol);\n  };\n\n  EffectScatterView.prototype.render = function (seriesModel, ecModel, api) {\n    var data = seriesModel.getData();\n    var effectSymbolDraw = this._symbolDraw;\n    effectSymbolDraw.updateData(data, {\n      clipShape: this._getClipShape(seriesModel)\n    });\n    this.group.add(effectSymbolDraw.group);\n  };\n\n  EffectScatterView.prototype._getClipShape = function (seriesModel) {\n    var coordSys = seriesModel.coordinateSystem;\n    var clipArea = coordSys && coordSys.getArea && coordSys.getArea();\n    return seriesModel.get('clip', true) ? clipArea : null;\n  };\n\n  EffectScatterView.prototype.updateTransform = function (seriesModel, ecModel, api) {\n    var data = seriesModel.getData();\n    this.group.dirty();\n    var res = pointsLayout('').reset(seriesModel, ecModel, api);\n\n    if (res.progress) {\n      res.progress({\n        start: 0,\n        end: data.count(),\n        count: data.count()\n      }, data);\n    }\n\n    this._symbolDraw.updateLayout();\n  };\n\n  EffectScatterView.prototype._updateGroupTransform = function (seriesModel) {\n    var coordSys = seriesModel.coordinateSystem;\n\n    if (coordSys && coordSys.getRoamTransform) {\n      this.group.transform = matrix.clone(coordSys.getRoamTransform());\n      this.group.decomposeTransform();\n    }\n  };\n\n  EffectScatterView.prototype.remove = function (ecModel, api) {\n    this._symbolDraw && this._symbolDraw.remove(true);\n  };\n\n  EffectScatterView.type = 'effectScatter';\n  return EffectScatterView;\n}(ChartView);\n\nexport default EffectScatterView;", "\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { __extends } from \"tslib\";\nimport createListFromArray from '../helper/createListFromArray';\nimport SeriesModel from '../../model/Series';\n\nvar EffectScatterSeriesModel =\n/** @class */\nfunction (_super) {\n  __extends(EffectScatterSeriesModel, _super);\n\n  function EffectScatterSeriesModel() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n\n    _this.type = EffectScatterSeriesModel.type;\n    _this.hasSymbolVisual = true;\n    return _this;\n  }\n\n  EffectScatterSeriesModel.prototype.getInitialData = function (option, ecModel) {\n    return createListFromArray(this.getSource(), this, {\n      useEncodeDefaulter: true\n    });\n  };\n\n  EffectScatterSeriesModel.prototype.brushSelector = function (dataIndex, data, selectors) {\n    return selectors.point(data.getItemLayout(dataIndex));\n  };\n\n  EffectScatterSeriesModel.type = 'series.effectScatter';\n  EffectScatterSeriesModel.dependencies = ['grid', 'polar'];\n  EffectScatterSeriesModel.defaultOption = {\n    coordinateSystem: 'cartesian2d',\n    zlevel: 0,\n    z: 2,\n    legendHoverLink: true,\n    effectType: 'ripple',\n    progressive: 0,\n    // When to show the effect, option: 'render'|'emphasis'\n    showEffectOn: 'render',\n    clip: true,\n    // Ripple effect config\n    rippleEffect: {\n      period: 4,\n      // Scale of ripple\n      scale: 2.5,\n      // Brush type can be fill or stroke\n      brushType: 'fill'\n    },\n    // Cartesian coordinate system\n    // xAxisIndex: 0,\n    // yAxisIndex: 0,\n    // Polar coordinate system\n    // polarIndex: 0,\n    // Geo coordinate system\n    // geoIndex: 0,\n    // symbol: null,        // \u56FE\u5F62\u7C7B\u578B\n    symbolSize: 10 // \u56FE\u5F62\u5927\u5C0F\uFF0C\u534A\u5BBD\uFF08\u534A\u5F84\uFF09\u53C2\u6570\uFF0C\u5F53\u56FE\u5F62\u4E3A\u65B9\u5411\u6216\u83F1\u5F62\u5219\u603B\u5BBD\u5EA6\u4E3AsymbolSize * 2\n    // symbolRotate: null,  // \u56FE\u5F62\u65CB\u8F6C\u63A7\u5236\n    // itemStyle: {\n    //     opacity: 1\n    // }\n\n  };\n  return EffectScatterSeriesModel;\n}(SeriesModel);\n\nexport default EffectScatterSeriesModel;", "\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport EffectScatterView from './EffectScatterView';\nimport EffectScatterSeriesModel from './EffectScatterSeries';\nimport layoutPoints from '../../layout/points';\nexport function install(registers) {\n  registers.registerChartView(EffectScatterView);\n  registers.registerSeriesModel(EffectScatterSeriesModel);\n  registers.registerLayout(layoutPoints('effectScatter'));\n}", "\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { __extends } from \"tslib\";\n/**\n * Provide effect for line\n */\n\nimport * as graphic from '../../util/graphic';\nimport Line from './Line';\nimport * as zrUtil from 'zrender/lib/core/util';\nimport { createSymbol } from '../../util/symbol';\nimport * as vec2 from 'zrender/lib/core/vector';\nimport * as curveUtil from 'zrender/lib/core/curve';\n\nvar EffectLine =\n/** @class */\nfunction (_super) {\n  __extends(EffectLine, _super);\n\n  function EffectLine(lineData, idx, seriesScope) {\n    var _this = _super.call(this) || this;\n\n    _this.add(_this.createLine(lineData, idx, seriesScope));\n\n    _this._updateEffectSymbol(lineData, idx);\n\n    return _this;\n  }\n\n  EffectLine.prototype.createLine = function (lineData, idx, seriesScope) {\n    return new Line(lineData, idx, seriesScope);\n  };\n\n  EffectLine.prototype._updateEffectSymbol = function (lineData, idx) {\n    var itemModel = lineData.getItemModel(idx);\n    var effectModel = itemModel.getModel('effect');\n    var size = effectModel.get('symbolSize');\n    var symbolType = effectModel.get('symbol');\n\n    if (!zrUtil.isArray(size)) {\n      size = [size, size];\n    }\n\n    var lineStyle = lineData.getItemVisual(idx, 'style');\n    var color = effectModel.get('color') || lineStyle && lineStyle.stroke;\n    var symbol = this.childAt(1);\n\n    if (this._symbolType !== symbolType) {\n      // Remove previous\n      this.remove(symbol);\n      symbol = createSymbol(symbolType, -0.5, -0.5, 1, 1, color);\n      symbol.z2 = 100;\n      symbol.culling = true;\n      this.add(symbol);\n    } // Symbol may be removed if loop is false\n\n\n    if (!symbol) {\n      return;\n    } // Shadow color is same with color in default\n\n\n    symbol.setStyle('shadowColor', color);\n    symbol.setStyle(effectModel.getItemStyle(['color']));\n    symbol.scaleX = size[0];\n    symbol.scaleY = size[1];\n    symbol.setColor(color);\n    this._symbolType = symbolType;\n    this._symbolScale = size;\n\n    this._updateEffectAnimation(lineData, effectModel, idx);\n  };\n\n  EffectLine.prototype._updateEffectAnimation = function (lineData, effectModel, idx) {\n    var symbol = this.childAt(1);\n\n    if (!symbol) {\n      return;\n    }\n\n    var self = this;\n    var points = lineData.getItemLayout(idx);\n    var period = effectModel.get('period') * 1000;\n    var loop = effectModel.get('loop');\n    var constantSpeed = effectModel.get('constantSpeed');\n    var delayExpr = zrUtil.retrieve(effectModel.get('delay'), function (idx) {\n      return idx / lineData.count() * period / 3;\n    }); // Ignore when updating\n\n    symbol.ignore = true;\n\n    this._updateAnimationPoints(symbol, points);\n\n    if (constantSpeed > 0) {\n      period = this._getLineLength(symbol) / constantSpeed * 1000;\n    }\n\n    if (period !== this._period || loop !== this._loop) {\n      symbol.stopAnimation();\n\n      if (period > 0) {\n        var delayNum = void 0;\n\n        if (typeof delayExpr === 'function') {\n          delayNum = delayExpr(idx);\n        } else {\n          delayNum = delayExpr;\n        }\n\n        if (symbol.__t > 0) {\n          delayNum = -period * symbol.__t;\n        }\n\n        symbol.__t = 0;\n        var animator = symbol.animate('', loop).when(period, {\n          __t: 1\n        }).delay(delayNum).during(function () {\n          self._updateSymbolPosition(symbol);\n        });\n\n        if (!loop) {\n          animator.done(function () {\n            self.remove(symbol);\n          });\n        }\n\n        animator.start();\n      }\n    }\n\n    this._period = period;\n    this._loop = loop;\n  };\n\n  EffectLine.prototype._getLineLength = function (symbol) {\n    // Not so accurate\n    return vec2.dist(symbol.__p1, symbol.__cp1) + vec2.dist(symbol.__cp1, symbol.__p2);\n  };\n\n  EffectLine.prototype._updateAnimationPoints = function (symbol, points) {\n    symbol.__p1 = points[0];\n    symbol.__p2 = points[1];\n    symbol.__cp1 = points[2] || [(points[0][0] + points[1][0]) / 2, (points[0][1] + points[1][1]) / 2];\n  };\n\n  EffectLine.prototype.updateData = function (lineData, idx, seriesScope) {\n    this.childAt(0).updateData(lineData, idx, seriesScope);\n\n    this._updateEffectSymbol(lineData, idx);\n  };\n\n  EffectLine.prototype._updateSymbolPosition = function (symbol) {\n    var p1 = symbol.__p1;\n    var p2 = symbol.__p2;\n    var cp1 = symbol.__cp1;\n    var t = symbol.__t;\n    var pos = [symbol.x, symbol.y];\n    var lastPos = pos.slice();\n    var quadraticAt = curveUtil.quadraticAt;\n    var quadraticDerivativeAt = curveUtil.quadraticDerivativeAt;\n    pos[0] = quadraticAt(p1[0], cp1[0], p2[0], t);\n    pos[1] = quadraticAt(p1[1], cp1[1], p2[1], t); // Tangent\n\n    var tx = quadraticDerivativeAt(p1[0], cp1[0], p2[0], t);\n    var ty = quadraticDerivativeAt(p1[1], cp1[1], p2[1], t);\n    symbol.rotation = -Math.atan2(ty, tx) - Math.PI / 2; // enable continuity trail for 'line', 'rect', 'roundRect' symbolType\n\n    if (this._symbolType === 'line' || this._symbolType === 'rect' || this._symbolType === 'roundRect') {\n      if (symbol.__lastT !== undefined && symbol.__lastT < symbol.__t) {\n        symbol.scaleY = vec2.dist(lastPos, pos) * 1.05; // make sure the last segment render within endPoint\n\n        if (t === 1) {\n          pos[0] = lastPos[0] + (pos[0] - lastPos[0]) / 2;\n          pos[1] = lastPos[1] + (pos[1] - lastPos[1]) / 2;\n        }\n      } else if (symbol.__lastT === 1) {\n        // After first loop, symbol.__t does NOT start with 0, so connect p1 to pos directly.\n        symbol.scaleY = 2 * vec2.dist(p1, pos);\n      } else {\n        symbol.scaleY = this._symbolScale[1];\n      }\n    }\n\n    symbol.__lastT = symbol.__t;\n    symbol.ignore = false;\n    symbol.x = pos[0];\n    symbol.y = pos[1];\n  };\n\n  EffectLine.prototype.updateLayout = function (lineData, idx) {\n    this.childAt(0).updateLayout(lineData, idx);\n    var effectModel = lineData.getItemModel(idx).getModel('effect');\n\n    this._updateEffectAnimation(lineData, effectModel, idx);\n  };\n\n  return EffectLine;\n}(graphic.Group);\n\nexport default EffectLine;", "\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { __extends } from \"tslib\";\nimport * as graphic from '../../util/graphic';\nimport { enableHoverEmphasis } from '../../util/states';\n\nvar Polyline =\n/** @class */\nfunction (_super) {\n  __extends(Polyline, _super);\n\n  function Polyline(lineData, idx, seriesScope) {\n    var _this = _super.call(this) || this;\n\n    _this._createPolyline(lineData, idx, seriesScope);\n\n    return _this;\n  }\n\n  Polyline.prototype._createPolyline = function (lineData, idx, seriesScope) {\n    // let seriesModel = lineData.hostModel;\n    var points = lineData.getItemLayout(idx);\n    var line = new graphic.Polyline({\n      shape: {\n        points: points\n      }\n    });\n    this.add(line);\n\n    this._updateCommonStl(lineData, idx, seriesScope);\n  };\n\n  ;\n\n  Polyline.prototype.updateData = function (lineData, idx, seriesScope) {\n    var seriesModel = lineData.hostModel;\n    var line = this.childAt(0);\n    var target = {\n      shape: {\n        points: lineData.getItemLayout(idx)\n      }\n    };\n    graphic.updateProps(line, target, seriesModel, idx);\n\n    this._updateCommonStl(lineData, idx, seriesScope);\n  };\n\n  ;\n\n  Polyline.prototype._updateCommonStl = function (lineData, idx, seriesScope) {\n    var line = this.childAt(0);\n    var itemModel = lineData.getItemModel(idx);\n    var hoverLineStyle = seriesScope && seriesScope.emphasisLineStyle;\n\n    if (!seriesScope || lineData.hasItemOption) {\n      hoverLineStyle = itemModel.getModel(['emphasis', 'lineStyle']).getLineStyle();\n    }\n\n    line.useStyle(lineData.getItemVisual(idx, 'style'));\n    line.style.fill = null;\n    line.style.strokeNoScale = true;\n    var lineEmphasisState = line.ensureState('emphasis');\n    lineEmphasisState.style = hoverLineStyle;\n    enableHoverEmphasis(this);\n  };\n\n  ;\n\n  Polyline.prototype.updateLayout = function (lineData, idx) {\n    var polyline = this.childAt(0);\n    polyline.setShape('points', lineData.getItemLayout(idx));\n  };\n\n  ;\n  return Polyline;\n}(graphic.Group);\n\nexport default Polyline;", "\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { __extends } from \"tslib\";\nimport Polyline from './Polyline';\nimport EffectLine from './EffectLine';\nimport * as vec2 from 'zrender/lib/core/vector';\n\nvar EffectPolyline =\n/** @class */\nfunction (_super) {\n  __extends(EffectPolyline, _super);\n\n  function EffectPolyline() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n\n    _this._lastFrame = 0;\n    _this._lastFramePercent = 0;\n    return _this;\n  } // Override\n\n\n  EffectPolyline.prototype.createLine = function (lineData, idx, seriesScope) {\n    return new Polyline(lineData, idx, seriesScope);\n  };\n\n  ; // Override\n\n  EffectPolyline.prototype._updateAnimationPoints = function (symbol, points) {\n    this._points = points;\n    var accLenArr = [0];\n    var len = 0;\n\n    for (var i = 1; i < points.length; i++) {\n      var p1 = points[i - 1];\n      var p2 = points[i];\n      len += vec2.dist(p1, p2);\n      accLenArr.push(len);\n    }\n\n    if (len === 0) {\n      this._length = 0;\n      return;\n    }\n\n    for (var i = 0; i < accLenArr.length; i++) {\n      accLenArr[i] /= len;\n    }\n\n    this._offsets = accLenArr;\n    this._length = len;\n  };\n\n  ; // Override\n\n  EffectPolyline.prototype._getLineLength = function () {\n    return this._length;\n  };\n\n  ; // Override\n\n  EffectPolyline.prototype._updateSymbolPosition = function (symbol) {\n    var t = symbol.__t;\n    var points = this._points;\n    var offsets = this._offsets;\n    var len = points.length;\n\n    if (!offsets) {\n      // Has length 0\n      return;\n    }\n\n    var lastFrame = this._lastFrame;\n    var frame;\n\n    if (t < this._lastFramePercent) {\n      // Start from the next frame\n      // PENDING start from lastFrame ?\n      var start = Math.min(lastFrame + 1, len - 1);\n\n      for (frame = start; frame >= 0; frame--) {\n        if (offsets[frame] <= t) {\n          break;\n        }\n      } // PENDING really need to do this ?\n\n\n      frame = Math.min(frame, len - 2);\n    } else {\n      for (frame = lastFrame; frame < len; frame++) {\n        if (offsets[frame] > t) {\n          break;\n        }\n      }\n\n      frame = Math.min(frame - 1, len - 2);\n    }\n\n    var p = (t - offsets[frame]) / (offsets[frame + 1] - offsets[frame]);\n    var p0 = points[frame];\n    var p1 = points[frame + 1];\n    symbol.x = p0[0] * (1 - p) + p * p1[0];\n    symbol.y = p0[1] * (1 - p) + p * p1[1];\n    var tx = p1[0] - p0[0];\n    var ty = p1[1] - p0[1];\n    symbol.rotation = -Math.atan2(ty, tx) - Math.PI / 2;\n    this._lastFrame = frame;\n    this._lastFramePercent = t;\n    symbol.ignore = false;\n  };\n\n  ;\n  return EffectPolyline;\n}(EffectLine);\n\nexport default EffectPolyline;", "\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { __extends } from \"tslib\"; // TODO Batch by color\n\nimport * as graphic from '../../util/graphic';\nimport IncrementalDisplayable from 'zrender/lib/graphic/IncrementalDisplayable';\nimport * as lineContain from 'zrender/lib/contain/line';\nimport * as quadraticContain from 'zrender/lib/contain/quadratic';\nimport { getECData } from '../../util/innerStore';\n\nvar LargeLinesPathShape =\n/** @class */\nfunction () {\n  function LargeLinesPathShape() {\n    this.polyline = false;\n    this.curveness = 0;\n    this.segs = [];\n  }\n\n  return LargeLinesPathShape;\n}();\n\nvar LargeLinesPath =\n/** @class */\nfunction (_super) {\n  __extends(LargeLinesPath, _super);\n\n  function LargeLinesPath(opts) {\n    return _super.call(this, opts) || this;\n  }\n\n  LargeLinesPath.prototype.getDefaultStyle = function () {\n    return {\n      stroke: '#000',\n      fill: null\n    };\n  };\n\n  LargeLinesPath.prototype.getDefaultShape = function () {\n    return new LargeLinesPathShape();\n  };\n\n  LargeLinesPath.prototype.buildPath = function (ctx, shape) {\n    var segs = shape.segs;\n    var curveness = shape.curveness;\n\n    if (shape.polyline) {\n      for (var i = 0; i < segs.length;) {\n        var count = segs[i++];\n\n        if (count > 0) {\n          ctx.moveTo(segs[i++], segs[i++]);\n\n          for (var k = 1; k < count; k++) {\n            ctx.lineTo(segs[i++], segs[i++]);\n          }\n        }\n      }\n    } else {\n      for (var i = 0; i < segs.length;) {\n        var x0 = segs[i++];\n        var y0 = segs[i++];\n        var x1 = segs[i++];\n        var y1 = segs[i++];\n        ctx.moveTo(x0, y0);\n\n        if (curveness > 0) {\n          var x2 = (x0 + x1) / 2 - (y0 - y1) * curveness;\n          var y2 = (y0 + y1) / 2 - (x1 - x0) * curveness;\n          ctx.quadraticCurveTo(x2, y2, x1, y1);\n        } else {\n          ctx.lineTo(x1, y1);\n        }\n      }\n    }\n  };\n\n  LargeLinesPath.prototype.findDataIndex = function (x, y) {\n    var shape = this.shape;\n    var segs = shape.segs;\n    var curveness = shape.curveness;\n    var lineWidth = this.style.lineWidth;\n\n    if (shape.polyline) {\n      var dataIndex = 0;\n\n      for (var i = 0; i < segs.length;) {\n        var count = segs[i++];\n\n        if (count > 0) {\n          var x0 = segs[i++];\n          var y0 = segs[i++];\n\n          for (var k = 1; k < count; k++) {\n            var x1 = segs[i++];\n            var y1 = segs[i++];\n\n            if (lineContain.containStroke(x0, y0, x1, y1, lineWidth, x, y)) {\n              return dataIndex;\n            }\n          }\n        }\n\n        dataIndex++;\n      }\n    } else {\n      var dataIndex = 0;\n\n      for (var i = 0; i < segs.length;) {\n        var x0 = segs[i++];\n        var y0 = segs[i++];\n        var x1 = segs[i++];\n        var y1 = segs[i++];\n\n        if (curveness > 0) {\n          var x2 = (x0 + x1) / 2 - (y0 - y1) * curveness;\n          var y2 = (y0 + y1) / 2 - (x1 - x0) * curveness;\n\n          if (quadraticContain.containStroke(x0, y0, x2, y2, x1, y1, lineWidth, x, y)) {\n            return dataIndex;\n          }\n        } else {\n          if (lineContain.containStroke(x0, y0, x1, y1, lineWidth, x, y)) {\n            return dataIndex;\n          }\n        }\n\n        dataIndex++;\n      }\n    }\n\n    return -1;\n  };\n\n  return LargeLinesPath;\n}(graphic.Path);\n\nvar LargeLineDraw =\n/** @class */\nfunction () {\n  function LargeLineDraw() {\n    this.group = new graphic.Group();\n  }\n\n  LargeLineDraw.prototype.isPersistent = function () {\n    return !this._incremental;\n  };\n\n  ;\n  /**\n   * Update symbols draw by new data\n   */\n\n  LargeLineDraw.prototype.updateData = function (data) {\n    this.group.removeAll();\n    var lineEl = new LargeLinesPath({\n      rectHover: true,\n      cursor: 'default'\n    });\n    lineEl.setShape({\n      segs: data.getLayout('linesPoints')\n    });\n\n    this._setCommon(lineEl, data); // Add back\n\n\n    this.group.add(lineEl);\n    this._incremental = null;\n  };\n\n  ;\n  /**\n   * @override\n   */\n\n  LargeLineDraw.prototype.incrementalPrepareUpdate = function (data) {\n    this.group.removeAll();\n\n    this._clearIncremental();\n\n    if (data.count() > 5e5) {\n      if (!this._incremental) {\n        this._incremental = new IncrementalDisplayable({\n          silent: true\n        });\n      }\n\n      this.group.add(this._incremental);\n    } else {\n      this._incremental = null;\n    }\n  };\n\n  ;\n  /**\n   * @override\n   */\n\n  LargeLineDraw.prototype.incrementalUpdate = function (taskParams, data) {\n    var lineEl = new LargeLinesPath();\n    lineEl.setShape({\n      segs: data.getLayout('linesPoints')\n    });\n\n    this._setCommon(lineEl, data, !!this._incremental);\n\n    if (!this._incremental) {\n      lineEl.rectHover = true;\n      lineEl.cursor = 'default';\n      lineEl.__startIndex = taskParams.start;\n      this.group.add(lineEl);\n    } else {\n      this._incremental.addDisplayable(lineEl, true);\n    }\n  };\n\n  ;\n  /**\n   * @override\n   */\n\n  LargeLineDraw.prototype.remove = function () {\n    this._clearIncremental();\n\n    this._incremental = null;\n    this.group.removeAll();\n  };\n\n  ;\n\n  LargeLineDraw.prototype._setCommon = function (lineEl, data, isIncremental) {\n    var hostModel = data.hostModel;\n    lineEl.setShape({\n      polyline: hostModel.get('polyline'),\n      curveness: hostModel.get(['lineStyle', 'curveness'])\n    });\n    lineEl.useStyle(hostModel.getModel('lineStyle').getLineStyle());\n    lineEl.style.strokeNoScale = true;\n    var style = data.getVisual('style');\n\n    if (style && style.stroke) {\n      lineEl.setStyle('stroke', style.stroke);\n    }\n\n    lineEl.setStyle('fill', null);\n\n    if (!isIncremental) {\n      var ecData_1 = getECData(lineEl); // Enable tooltip\n      // PENDING May have performance issue when path is extremely large\n\n      ecData_1.seriesIndex = hostModel.seriesIndex;\n      lineEl.on('mousemove', function (e) {\n        ecData_1.dataIndex = null;\n        var dataIndex = lineEl.findDataIndex(e.offsetX, e.offsetY);\n\n        if (dataIndex > 0) {\n          // Provide dataIndex for tooltip\n          ecData_1.dataIndex = dataIndex + lineEl.__startIndex;\n        }\n      });\n    }\n  };\n\n  ;\n\n  LargeLineDraw.prototype._clearIncremental = function () {\n    var incremental = this._incremental;\n\n    if (incremental) {\n      incremental.clearDisplaybles();\n    }\n  };\n\n  ;\n  return LargeLineDraw;\n}();\n\nexport default LargeLineDraw;", "\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n/* global Float32Array */\nimport createRenderPlanner from '../helper/createRenderPlanner';\nvar linesLayout = {\n  seriesType: 'lines',\n  plan: createRenderPlanner(),\n  reset: function (seriesModel) {\n    var coordSys = seriesModel.coordinateSystem;\n    var isPolyline = seriesModel.get('polyline');\n    var isLarge = seriesModel.pipelineContext.large;\n    return {\n      progress: function (params, lineData) {\n        var lineCoords = [];\n\n        if (isLarge) {\n          var points = void 0;\n          var segCount = params.end - params.start;\n\n          if (isPolyline) {\n            var totalCoordsCount = 0;\n\n            for (var i = params.start; i < params.end; i++) {\n              totalCoordsCount += seriesModel.getLineCoordsCount(i);\n            }\n\n            points = new Float32Array(segCount + totalCoordsCount * 2);\n          } else {\n            points = new Float32Array(segCount * 4);\n          }\n\n          var offset = 0;\n          var pt = [];\n\n          for (var i = params.start; i < params.end; i++) {\n            var len = seriesModel.getLineCoords(i, lineCoords);\n\n            if (isPolyline) {\n              points[offset++] = len;\n            }\n\n            for (var k = 0; k < len; k++) {\n              pt = coordSys.dataToPoint(lineCoords[k], false, pt);\n              points[offset++] = pt[0];\n              points[offset++] = pt[1];\n            }\n          }\n\n          lineData.setLayout('linesPoints', points);\n        } else {\n          for (var i = params.start; i < params.end; i++) {\n            var itemModel = lineData.getItemModel(i);\n            var len = seriesModel.getLineCoords(i, lineCoords);\n            var pts = [];\n\n            if (isPolyline) {\n              for (var j = 0; j < len; j++) {\n                pts.push(coordSys.dataToPoint(lineCoords[j]));\n              }\n            } else {\n              pts[0] = coordSys.dataToPoint(lineCoords[0]);\n              pts[1] = coordSys.dataToPoint(lineCoords[1]);\n              var curveness = itemModel.get(['lineStyle', 'curveness']);\n\n              if (+curveness) {\n                pts[2] = [(pts[0][0] + pts[1][0]) / 2 - (pts[0][1] - pts[1][1]) * curveness, (pts[0][1] + pts[1][1]) / 2 - (pts[1][0] - pts[0][0]) * curveness];\n              }\n            }\n\n            lineData.setItemLayout(i, pts);\n          }\n        }\n      }\n    };\n  }\n};\nexport default linesLayout;", "\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { __extends } from \"tslib\";\nimport LineDraw from '../helper/LineDraw';\nimport EffectLine from '../helper/EffectLine';\nimport Line from '../helper/Line';\nimport Polyline from '../helper/Polyline';\nimport EffectPolyline from '../helper/EffectPolyline';\nimport LargeLineDraw from '../helper/LargeLineDraw';\nimport linesLayout from './linesLayout';\nimport { createClipPath } from '../helper/createClipPathFromCoordSys';\nimport ChartView from '../../view/Chart';\n\nvar LinesView =\n/** @class */\nfunction (_super) {\n  __extends(LinesView, _super);\n\n  function LinesView() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n\n    _this.type = LinesView.type;\n    return _this;\n  }\n\n  LinesView.prototype.render = function (seriesModel, ecModel, api) {\n    var data = seriesModel.getData();\n\n    var lineDraw = this._updateLineDraw(data, seriesModel);\n\n    var zlevel = seriesModel.get('zlevel');\n    var trailLength = seriesModel.get(['effect', 'trailLength']);\n    var zr = api.getZr(); // Avoid the drag cause ghost shadow\n    // FIXME Better way ?\n    // SVG doesn't support\n\n    var isSvg = zr.painter.getType() === 'svg';\n\n    if (!isSvg) {\n      zr.painter.getLayer(zlevel).clear(true);\n    } // Config layer with motion blur\n\n\n    if (this._lastZlevel != null && !isSvg) {\n      zr.configLayer(this._lastZlevel, {\n        motionBlur: false\n      });\n    }\n\n    if (this._showEffect(seriesModel) && trailLength) {\n      if (process.env.NODE_ENV !== 'production') {\n        var notInIndividual_1 = false;\n        ecModel.eachSeries(function (otherSeriesModel) {\n          if (otherSeriesModel !== seriesModel && otherSeriesModel.get('zlevel') === zlevel) {\n            notInIndividual_1 = true;\n          }\n        });\n        notInIndividual_1 && console.warn('Lines with trail effect should have an individual zlevel');\n      }\n\n      if (!isSvg) {\n        zr.configLayer(zlevel, {\n          motionBlur: true,\n          lastFrameAlpha: Math.max(Math.min(trailLength / 10 + 0.9, 1), 0)\n        });\n      }\n    }\n\n    lineDraw.updateData(data);\n    var clipPath = seriesModel.get('clip', true) && createClipPath(seriesModel.coordinateSystem, false, seriesModel);\n\n    if (clipPath) {\n      this.group.setClipPath(clipPath);\n    } else {\n      this.group.removeClipPath();\n    }\n\n    this._lastZlevel = zlevel;\n    this._finished = true;\n  };\n\n  LinesView.prototype.incrementalPrepareRender = function (seriesModel, ecModel, api) {\n    var data = seriesModel.getData();\n\n    var lineDraw = this._updateLineDraw(data, seriesModel);\n\n    lineDraw.incrementalPrepareUpdate(data);\n\n    this._clearLayer(api);\n\n    this._finished = false;\n  };\n\n  LinesView.prototype.incrementalRender = function (taskParams, seriesModel, ecModel) {\n    this._lineDraw.incrementalUpdate(taskParams, seriesModel.getData());\n\n    this._finished = taskParams.end === seriesModel.getData().count();\n  };\n\n  LinesView.prototype.updateTransform = function (seriesModel, ecModel, api) {\n    var data = seriesModel.getData();\n    var pipelineContext = seriesModel.pipelineContext;\n\n    if (!this._finished || pipelineContext.large || pipelineContext.progressiveRender) {\n      // TODO Don't have to do update in large mode. Only do it when there are millions of data.\n      return {\n        update: true\n      };\n    } else {\n      // TODO Use same logic with ScatterView.\n      // Manually update layout\n      var res = linesLayout.reset(seriesModel, ecModel, api);\n\n      if (res.progress) {\n        res.progress({\n          start: 0,\n          end: data.count(),\n          count: data.count()\n        }, data);\n      } // Not in large mode\n\n\n      this._lineDraw.updateLayout();\n\n      this._clearLayer(api);\n    }\n  };\n\n  LinesView.prototype._updateLineDraw = function (data, seriesModel) {\n    var lineDraw = this._lineDraw;\n\n    var hasEffect = this._showEffect(seriesModel);\n\n    var isPolyline = !!seriesModel.get('polyline');\n    var pipelineContext = seriesModel.pipelineContext;\n    var isLargeDraw = pipelineContext.large;\n\n    if (process.env.NODE_ENV !== 'production') {\n      if (hasEffect && isLargeDraw) {\n        console.warn('Large lines not support effect');\n      }\n    }\n\n    if (!lineDraw || hasEffect !== this._hasEffet || isPolyline !== this._isPolyline || isLargeDraw !== this._isLargeDraw) {\n      if (lineDraw) {\n        lineDraw.remove();\n      }\n\n      lineDraw = this._lineDraw = isLargeDraw ? new LargeLineDraw() : new LineDraw(isPolyline ? hasEffect ? EffectPolyline : Polyline : hasEffect ? EffectLine : Line);\n      this._hasEffet = hasEffect;\n      this._isPolyline = isPolyline;\n      this._isLargeDraw = isLargeDraw;\n      this.group.removeAll();\n    }\n\n    this.group.add(lineDraw.group);\n    return lineDraw;\n  };\n\n  LinesView.prototype._showEffect = function (seriesModel) {\n    return !!seriesModel.get(['effect', 'show']);\n  };\n\n  LinesView.prototype._clearLayer = function (api) {\n    // Not use motion when dragging or zooming\n    var zr = api.getZr();\n    var isSvg = zr.painter.getType() === 'svg';\n\n    if (!isSvg && this._lastZlevel != null) {\n      zr.painter.getLayer(this._lastZlevel).clear(true);\n    }\n  };\n\n  LinesView.prototype.remove = function (ecModel, api) {\n    this._lineDraw && this._lineDraw.remove();\n    this._lineDraw = null; // Clear motion when lineDraw is removed\n\n    this._clearLayer(api);\n  };\n\n  LinesView.type = 'lines';\n  return LinesView;\n}(ChartView);\n\nexport default LinesView;", "\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { __extends } from \"tslib\";\n/* global Uint32Array, Float64Array, Float32Array */\n\nimport SeriesModel from '../../model/Series';\nimport List from '../../data/List';\nimport { concatArray, mergeAll, map } from 'zrender/lib/core/util';\nimport CoordinateSystem from '../../core/CoordinateSystem';\nimport { createTooltipMarkup } from '../../component/tooltip/tooltipMarkup';\nvar Uint32Arr = typeof Uint32Array === 'undefined' ? Array : Uint32Array;\nvar Float64Arr = typeof Float64Array === 'undefined' ? Array : Float64Array;\n\nfunction compatEc2(seriesOpt) {\n  var data = seriesOpt.data;\n\n  if (data && data[0] && data[0][0] && data[0][0].coord) {\n    if (process.env.NODE_ENV !== 'production') {\n      console.warn('Lines data configuration has been changed to' + ' { coords:[[1,2],[2,3]] }');\n    }\n\n    seriesOpt.data = map(data, function (itemOpt) {\n      var coords = [itemOpt[0].coord, itemOpt[1].coord];\n      var target = {\n        coords: coords\n      };\n\n      if (itemOpt[0].name) {\n        target.fromName = itemOpt[0].name;\n      }\n\n      if (itemOpt[1].name) {\n        target.toName = itemOpt[1].name;\n      }\n\n      return mergeAll([target, itemOpt[0], itemOpt[1]]);\n    });\n  }\n}\n\nvar LinesSeriesModel =\n/** @class */\nfunction (_super) {\n  __extends(LinesSeriesModel, _super);\n\n  function LinesSeriesModel() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n\n    _this.type = LinesSeriesModel.type;\n    _this.visualStyleAccessPath = 'lineStyle';\n    _this.visualDrawType = 'stroke';\n    return _this;\n  }\n\n  LinesSeriesModel.prototype.init = function (option) {\n    // The input data may be null/undefined.\n    option.data = option.data || []; // Not using preprocessor because mergeOption may not have series.type\n\n    compatEc2(option);\n\n    var result = this._processFlatCoordsArray(option.data);\n\n    this._flatCoords = result.flatCoords;\n    this._flatCoordsOffset = result.flatCoordsOffset;\n\n    if (result.flatCoords) {\n      option.data = new Float32Array(result.count);\n    }\n\n    _super.prototype.init.apply(this, arguments);\n  };\n\n  LinesSeriesModel.prototype.mergeOption = function (option) {\n    compatEc2(option);\n\n    if (option.data) {\n      // Only update when have option data to merge.\n      var result = this._processFlatCoordsArray(option.data);\n\n      this._flatCoords = result.flatCoords;\n      this._flatCoordsOffset = result.flatCoordsOffset;\n\n      if (result.flatCoords) {\n        option.data = new Float32Array(result.count);\n      }\n    }\n\n    _super.prototype.mergeOption.apply(this, arguments);\n  };\n\n  LinesSeriesModel.prototype.appendData = function (params) {\n    var result = this._processFlatCoordsArray(params.data);\n\n    if (result.flatCoords) {\n      if (!this._flatCoords) {\n        this._flatCoords = result.flatCoords;\n        this._flatCoordsOffset = result.flatCoordsOffset;\n      } else {\n        this._flatCoords = concatArray(this._flatCoords, result.flatCoords);\n        this._flatCoordsOffset = concatArray(this._flatCoordsOffset, result.flatCoordsOffset);\n      }\n\n      params.data = new Float32Array(result.count);\n    }\n\n    this.getRawData().appendData(params.data);\n  };\n\n  LinesSeriesModel.prototype._getCoordsFromItemModel = function (idx) {\n    var itemModel = this.getData().getItemModel(idx);\n    var coords = itemModel.option instanceof Array ? itemModel.option : itemModel.getShallow('coords');\n\n    if (process.env.NODE_ENV !== 'production') {\n      if (!(coords instanceof Array && coords.length > 0 && coords[0] instanceof Array)) {\n        throw new Error('Invalid coords ' + JSON.stringify(coords) + '. Lines must have 2d coords array in data item.');\n      }\n    }\n\n    return coords;\n  };\n\n  LinesSeriesModel.prototype.getLineCoordsCount = function (idx) {\n    if (this._flatCoordsOffset) {\n      return this._flatCoordsOffset[idx * 2 + 1];\n    } else {\n      return this._getCoordsFromItemModel(idx).length;\n    }\n  };\n\n  LinesSeriesModel.prototype.getLineCoords = function (idx, out) {\n    if (this._flatCoordsOffset) {\n      var offset = this._flatCoordsOffset[idx * 2];\n      var len = this._flatCoordsOffset[idx * 2 + 1];\n\n      for (var i = 0; i < len; i++) {\n        out[i] = out[i] || [];\n        out[i][0] = this._flatCoords[offset + i * 2];\n        out[i][1] = this._flatCoords[offset + i * 2 + 1];\n      }\n\n      return len;\n    } else {\n      var coords = this._getCoordsFromItemModel(idx);\n\n      for (var i = 0; i < coords.length; i++) {\n        out[i] = out[i] || [];\n        out[i][0] = coords[i][0];\n        out[i][1] = coords[i][1];\n      }\n\n      return coords.length;\n    }\n  };\n\n  LinesSeriesModel.prototype._processFlatCoordsArray = function (data) {\n    var startOffset = 0;\n\n    if (this._flatCoords) {\n      startOffset = this._flatCoords.length;\n    } // Stored as a typed array. In format\n    // Points Count(2) | x | y | x | y | Points Count(3) | x |  y | x | y | x | y |\n\n\n    if (typeof data[0] === 'number') {\n      var len = data.length; // Store offset and len of each segment\n\n      var coordsOffsetAndLenStorage = new Uint32Arr(len);\n      var coordsStorage = new Float64Arr(len);\n      var coordsCursor = 0;\n      var offsetCursor = 0;\n      var dataCount = 0;\n\n      for (var i = 0; i < len;) {\n        dataCount++;\n        var count = data[i++]; // Offset\n\n        coordsOffsetAndLenStorage[offsetCursor++] = coordsCursor + startOffset; // Len\n\n        coordsOffsetAndLenStorage[offsetCursor++] = count;\n\n        for (var k = 0; k < count; k++) {\n          var x = data[i++];\n          var y = data[i++];\n          coordsStorage[coordsCursor++] = x;\n          coordsStorage[coordsCursor++] = y;\n\n          if (i > len) {\n            if (process.env.NODE_ENV !== 'production') {\n              throw new Error('Invalid data format.');\n            }\n          }\n        }\n      }\n\n      return {\n        flatCoordsOffset: new Uint32Array(coordsOffsetAndLenStorage.buffer, 0, offsetCursor),\n        flatCoords: coordsStorage,\n        count: dataCount\n      };\n    }\n\n    return {\n      flatCoordsOffset: null,\n      flatCoords: null,\n      count: data.length\n    };\n  };\n\n  LinesSeriesModel.prototype.getInitialData = function (option, ecModel) {\n    if (process.env.NODE_ENV !== 'production') {\n      var CoordSys = CoordinateSystem.get(option.coordinateSystem);\n\n      if (!CoordSys) {\n        throw new Error('Unkown coordinate system ' + option.coordinateSystem);\n      }\n    }\n\n    var lineData = new List(['value'], this);\n    lineData.hasItemOption = false;\n    lineData.initData(option.data, [], function (dataItem, dimName, dataIndex, dimIndex) {\n      // dataItem is simply coords\n      if (dataItem instanceof Array) {\n        return NaN;\n      } else {\n        lineData.hasItemOption = true;\n        var value = dataItem.value;\n\n        if (value != null) {\n          return value instanceof Array ? value[dimIndex] : value;\n        }\n      }\n    });\n    return lineData;\n  };\n\n  LinesSeriesModel.prototype.formatTooltip = function (dataIndex, multipleSeries, dataType) {\n    var data = this.getData();\n    var itemModel = data.getItemModel(dataIndex);\n    var name = itemModel.get('name');\n\n    if (name) {\n      return name;\n    }\n\n    var fromName = itemModel.get('fromName');\n    var toName = itemModel.get('toName');\n    var nameArr = [];\n    fromName != null && nameArr.push(fromName);\n    toName != null && nameArr.push(toName);\n    return createTooltipMarkup('nameValue', {\n      name: nameArr.join(' > ')\n    });\n  };\n\n  LinesSeriesModel.prototype.preventIncremental = function () {\n    return !!this.get(['effect', 'show']);\n  };\n\n  LinesSeriesModel.prototype.getProgressive = function () {\n    var progressive = this.option.progressive;\n\n    if (progressive == null) {\n      return this.option.large ? 1e4 : this.get('progressive');\n    }\n\n    return progressive;\n  };\n\n  LinesSeriesModel.prototype.getProgressiveThreshold = function () {\n    var progressiveThreshold = this.option.progressiveThreshold;\n\n    if (progressiveThreshold == null) {\n      return this.option.large ? 2e4 : this.get('progressiveThreshold');\n    }\n\n    return progressiveThreshold;\n  };\n\n  LinesSeriesModel.type = 'series.lines';\n  LinesSeriesModel.dependencies = ['grid', 'polar', 'geo', 'calendar'];\n  LinesSeriesModel.defaultOption = {\n    coordinateSystem: 'geo',\n    zlevel: 0,\n    z: 2,\n    legendHoverLink: true,\n    // Cartesian coordinate system\n    xAxisIndex: 0,\n    yAxisIndex: 0,\n    symbol: ['none', 'none'],\n    symbolSize: [10, 10],\n    // Geo coordinate system\n    geoIndex: 0,\n    effect: {\n      show: false,\n      period: 4,\n      constantSpeed: 0,\n      symbol: 'circle',\n      symbolSize: 3,\n      loop: true,\n      trailLength: 0.2\n    },\n    large: false,\n    // Available when large is true\n    largeThreshold: 2000,\n    polyline: false,\n    clip: true,\n    label: {\n      show: false,\n      position: 'end' // distance: 5,\n      // formatter: \u6807\u7B7E\u6587\u672C\u683C\u5F0F\u5668\uFF0C\u540CTooltip.formatter\uFF0C\u4E0D\u652F\u6301\u5F02\u6B65\u56DE\u8C03\n\n    },\n    lineStyle: {\n      opacity: 0.5\n    }\n  };\n  return LinesSeriesModel;\n}(SeriesModel);\n\nexport default LinesSeriesModel;", "\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nfunction normalize(a) {\n  if (!(a instanceof Array)) {\n    a = [a, a];\n  }\n\n  return a;\n}\n\nvar linesVisual = {\n  seriesType: 'lines',\n  reset: function (seriesModel) {\n    var symbolType = normalize(seriesModel.get('symbol'));\n    var symbolSize = normalize(seriesModel.get('symbolSize'));\n    var data = seriesModel.getData();\n    data.setVisual('fromSymbol', symbolType && symbolType[0]);\n    data.setVisual('toSymbol', symbolType && symbolType[1]);\n    data.setVisual('fromSymbolSize', symbolSize && symbolSize[0]);\n    data.setVisual('toSymbolSize', symbolSize && symbolSize[1]);\n\n    function dataEach(data, idx) {\n      var itemModel = data.getItemModel(idx);\n      var symbolType = normalize(itemModel.getShallow('symbol', true));\n      var symbolSize = normalize(itemModel.getShallow('symbolSize', true));\n      symbolType[0] && data.setItemVisual(idx, 'fromSymbol', symbolType[0]);\n      symbolType[1] && data.setItemVisual(idx, 'toSymbol', symbolType[1]);\n      symbolSize[0] && data.setItemVisual(idx, 'fromSymbolSize', symbolSize[0]);\n      symbolSize[1] && data.setItemVisual(idx, 'toSymbolSize', symbolSize[1]);\n    }\n\n    return {\n      dataEach: data.hasItemOption ? dataEach : null\n    };\n  }\n};\nexport default linesVisual;", "\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport LinesView from './LinesView';\nimport LinesSeriesModel from './LinesSeries';\nimport linesLayout from './linesLayout';\nimport linesVisual from './linesVisual';\nexport function install(registers) {\n  registers.registerChartView(LinesView);\n  registers.registerSeriesModel(LinesSeriesModel);\n  registers.registerLayout(linesLayout);\n  registers.registerVisual(linesVisual);\n}", "\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n/* global Uint8ClampedArray */\nimport * as zrUtil from 'zrender/lib/core/util';\nvar GRADIENT_LEVELS = 256;\n\nvar HeatmapLayer =\n/** @class */\nfunction () {\n  function HeatmapLayer() {\n    this.blurSize = 30;\n    this.pointSize = 20;\n    this.maxOpacity = 1;\n    this.minOpacity = 0;\n    this._gradientPixels = {\n      inRange: null,\n      outOfRange: null\n    };\n    var canvas = zrUtil.createCanvas();\n    this.canvas = canvas;\n  }\n  /**\n   * Renders Heatmap and returns the rendered canvas\n   * @param data array of data, each has x, y, value\n   * @param width canvas width\n   * @param height canvas height\n   */\n\n\n  HeatmapLayer.prototype.update = function (data, width, height, normalize, colorFunc, isInRange) {\n    var brush = this._getBrush();\n\n    var gradientInRange = this._getGradient(colorFunc, 'inRange');\n\n    var gradientOutOfRange = this._getGradient(colorFunc, 'outOfRange');\n\n    var r = this.pointSize + this.blurSize;\n    var canvas = this.canvas;\n    var ctx = canvas.getContext('2d');\n    var len = data.length;\n    canvas.width = width;\n    canvas.height = height;\n\n    for (var i = 0; i < len; ++i) {\n      var p = data[i];\n      var x = p[0];\n      var y = p[1];\n      var value = p[2]; // calculate alpha using value\n\n      var alpha = normalize(value); // draw with the circle brush with alpha\n\n      ctx.globalAlpha = alpha;\n      ctx.drawImage(brush, x - r, y - r);\n    }\n\n    if (!canvas.width || !canvas.height) {\n      // Avoid \"Uncaught DOMException: Failed to execute 'getImageData' on\n      // 'CanvasRenderingContext2D': The source height is 0.\"\n      return canvas;\n    } // colorize the canvas using alpha value and set with gradient\n\n\n    var imageData = ctx.getImageData(0, 0, canvas.width, canvas.height);\n    var pixels = imageData.data;\n    var offset = 0;\n    var pixelLen = pixels.length;\n    var minOpacity = this.minOpacity;\n    var maxOpacity = this.maxOpacity;\n    var diffOpacity = maxOpacity - minOpacity;\n\n    while (offset < pixelLen) {\n      var alpha = pixels[offset + 3] / 256;\n      var gradientOffset = Math.floor(alpha * (GRADIENT_LEVELS - 1)) * 4; // Simple optimize to ignore the empty data\n\n      if (alpha > 0) {\n        var gradient = isInRange(alpha) ? gradientInRange : gradientOutOfRange; // Any alpha > 0 will be mapped to [minOpacity, maxOpacity]\n\n        alpha > 0 && (alpha = alpha * diffOpacity + minOpacity);\n        pixels[offset++] = gradient[gradientOffset];\n        pixels[offset++] = gradient[gradientOffset + 1];\n        pixels[offset++] = gradient[gradientOffset + 2];\n        pixels[offset++] = gradient[gradientOffset + 3] * alpha * 256;\n      } else {\n        offset += 4;\n      }\n    }\n\n    ctx.putImageData(imageData, 0, 0);\n    return canvas;\n  };\n  /**\n   * get canvas of a black circle brush used for canvas to draw later\n   */\n\n\n  HeatmapLayer.prototype._getBrush = function () {\n    var brushCanvas = this._brushCanvas || (this._brushCanvas = zrUtil.createCanvas()); // set brush size\n\n    var r = this.pointSize + this.blurSize;\n    var d = r * 2;\n    brushCanvas.width = d;\n    brushCanvas.height = d;\n    var ctx = brushCanvas.getContext('2d');\n    ctx.clearRect(0, 0, d, d); // in order to render shadow without the distinct circle,\n    // draw the distinct circle in an invisible place,\n    // and use shadowOffset to draw shadow in the center of the canvas\n\n    ctx.shadowOffsetX = d;\n    ctx.shadowBlur = this.blurSize; // draw the shadow in black, and use alpha and shadow blur to generate\n    // color in color map\n\n    ctx.shadowColor = '#000'; // draw circle in the left to the canvas\n\n    ctx.beginPath();\n    ctx.arc(-r, r, this.pointSize, 0, Math.PI * 2, true);\n    ctx.closePath();\n    ctx.fill();\n    return brushCanvas;\n  };\n  /**\n   * get gradient color map\n   * @private\n   */\n\n\n  HeatmapLayer.prototype._getGradient = function (colorFunc, state) {\n    var gradientPixels = this._gradientPixels;\n    var pixelsSingleState = gradientPixels[state] || (gradientPixels[state] = new Uint8ClampedArray(256 * 4));\n    var color = [0, 0, 0, 0];\n    var off = 0;\n\n    for (var i = 0; i < 256; i++) {\n      colorFunc[state](i / 255, true, color);\n      pixelsSingleState[off++] = color[0];\n      pixelsSingleState[off++] = color[1];\n      pixelsSingleState[off++] = color[2];\n      pixelsSingleState[off++] = color[3];\n    }\n\n    return pixelsSingleState;\n  };\n\n  return HeatmapLayer;\n}();\n\nexport default HeatmapLayer;", "\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { __extends } from \"tslib\";\nimport * as graphic from '../../util/graphic';\nimport { enableHoverEmphasis } from '../../util/states';\nimport HeatmapLayer from './HeatmapLayer';\nimport * as zrUtil from 'zrender/lib/core/util';\nimport ChartView from '../../view/Chart';\nimport { isCoordinateSystemType } from '../../coord/CoordinateSystem';\nimport { setLabelStyle, getLabelStatesModels } from '../../label/labelStyle';\n\nfunction getIsInPiecewiseRange(dataExtent, pieceList, selected) {\n  var dataSpan = dataExtent[1] - dataExtent[0];\n  pieceList = zrUtil.map(pieceList, function (piece) {\n    return {\n      interval: [(piece.interval[0] - dataExtent[0]) / dataSpan, (piece.interval[1] - dataExtent[0]) / dataSpan]\n    };\n  });\n  var len = pieceList.length;\n  var lastIndex = 0;\n  return function (val) {\n    var i; // Try to find in the location of the last found\n\n    for (i = lastIndex; i < len; i++) {\n      var interval = pieceList[i].interval;\n\n      if (interval[0] <= val && val <= interval[1]) {\n        lastIndex = i;\n        break;\n      }\n    }\n\n    if (i === len) {\n      // Not found, back interation\n      for (i = lastIndex - 1; i >= 0; i--) {\n        var interval = pieceList[i].interval;\n\n        if (interval[0] <= val && val <= interval[1]) {\n          lastIndex = i;\n          break;\n        }\n      }\n    }\n\n    return i >= 0 && i < len && selected[i];\n  };\n}\n\nfunction getIsInContinuousRange(dataExtent, range) {\n  var dataSpan = dataExtent[1] - dataExtent[0];\n  range = [(range[0] - dataExtent[0]) / dataSpan, (range[1] - dataExtent[0]) / dataSpan];\n  return function (val) {\n    return val >= range[0] && val <= range[1];\n  };\n}\n\nfunction isGeoCoordSys(coordSys) {\n  var dimensions = coordSys.dimensions; // Not use coorSys.type === 'geo' because coordSys maybe extended\n\n  return dimensions[0] === 'lng' && dimensions[1] === 'lat';\n}\n\nvar HeatmapView =\n/** @class */\nfunction (_super) {\n  __extends(HeatmapView, _super);\n\n  function HeatmapView() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n\n    _this.type = HeatmapView.type;\n    return _this;\n  }\n\n  HeatmapView.prototype.render = function (seriesModel, ecModel, api) {\n    var visualMapOfThisSeries;\n    ecModel.eachComponent('visualMap', function (visualMap) {\n      visualMap.eachTargetSeries(function (targetSeries) {\n        if (targetSeries === seriesModel) {\n          visualMapOfThisSeries = visualMap;\n        }\n      });\n    });\n\n    if (process.env.NODE_ENV !== 'production') {\n      if (!visualMapOfThisSeries) {\n        throw new Error('Heatmap must use with visualMap');\n      }\n    }\n\n    this.group.removeAll();\n    this._incrementalDisplayable = null;\n    var coordSys = seriesModel.coordinateSystem;\n\n    if (coordSys.type === 'cartesian2d' || coordSys.type === 'calendar') {\n      this._renderOnCartesianAndCalendar(seriesModel, api, 0, seriesModel.getData().count());\n    } else if (isGeoCoordSys(coordSys)) {\n      this._renderOnGeo(coordSys, seriesModel, visualMapOfThisSeries, api);\n    }\n  };\n\n  HeatmapView.prototype.incrementalPrepareRender = function (seriesModel, ecModel, api) {\n    this.group.removeAll();\n  };\n\n  HeatmapView.prototype.incrementalRender = function (params, seriesModel, ecModel, api) {\n    var coordSys = seriesModel.coordinateSystem;\n\n    if (coordSys) {\n      // geo does not support incremental rendering?\n      if (isGeoCoordSys(coordSys)) {\n        this.render(seriesModel, ecModel, api);\n      } else {\n        this._renderOnCartesianAndCalendar(seriesModel, api, params.start, params.end, true);\n      }\n    }\n  };\n\n  HeatmapView.prototype._renderOnCartesianAndCalendar = function (seriesModel, api, start, end, incremental) {\n    var coordSys = seriesModel.coordinateSystem;\n    var width;\n    var height;\n    var xAxisExtent;\n    var yAxisExtent;\n\n    if (isCoordinateSystemType(coordSys, 'cartesian2d')) {\n      var xAxis = coordSys.getAxis('x');\n      var yAxis = coordSys.getAxis('y');\n\n      if (process.env.NODE_ENV !== 'production') {\n        if (!(xAxis.type === 'category' && yAxis.type === 'category')) {\n          throw new Error('Heatmap on cartesian must have two category axes');\n        }\n\n        if (!(xAxis.onBand && yAxis.onBand)) {\n          throw new Error('Heatmap on cartesian must have two axes with boundaryGap true');\n        }\n      }\n\n      width = xAxis.getBandWidth();\n      height = yAxis.getBandWidth();\n      xAxisExtent = xAxis.scale.getExtent();\n      yAxisExtent = yAxis.scale.getExtent();\n    }\n\n    var group = this.group;\n    var data = seriesModel.getData();\n    var emphasisStyle = seriesModel.getModel(['emphasis', 'itemStyle']).getItemStyle();\n    var blurStyle = seriesModel.getModel(['blur', 'itemStyle']).getItemStyle();\n    var selectStyle = seriesModel.getModel(['select', 'itemStyle']).getItemStyle();\n    var labelStatesModels = getLabelStatesModels(seriesModel);\n    var focus = seriesModel.get(['emphasis', 'focus']);\n    var blurScope = seriesModel.get(['emphasis', 'blurScope']);\n    var dataDims = isCoordinateSystemType(coordSys, 'cartesian2d') ? [data.mapDimension('x'), data.mapDimension('y'), data.mapDimension('value')] : [data.mapDimension('time'), data.mapDimension('value')];\n\n    for (var idx = start; idx < end; idx++) {\n      var rect = void 0;\n      var style = data.getItemVisual(idx, 'style');\n\n      if (isCoordinateSystemType(coordSys, 'cartesian2d')) {\n        var dataDimX = data.get(dataDims[0], idx);\n        var dataDimY = data.get(dataDims[1], idx); // Ignore empty data and out of extent data\n\n        if (isNaN(data.get(dataDims[2], idx)) || dataDimX < xAxisExtent[0] || dataDimX > xAxisExtent[1] || dataDimY < yAxisExtent[0] || dataDimY > yAxisExtent[1]) {\n          continue;\n        }\n\n        var point = coordSys.dataToPoint([dataDimX, dataDimY]);\n        rect = new graphic.Rect({\n          shape: {\n            x: Math.floor(Math.round(point[0]) - width / 2),\n            y: Math.floor(Math.round(point[1]) - height / 2),\n            width: Math.ceil(width),\n            height: Math.ceil(height)\n          },\n          style: style\n        });\n      } else {\n        // Ignore empty data\n        if (isNaN(data.get(dataDims[1], idx))) {\n          continue;\n        }\n\n        rect = new graphic.Rect({\n          z2: 1,\n          shape: coordSys.dataToRect([data.get(dataDims[0], idx)]).contentShape,\n          style: style\n        });\n      }\n\n      var itemModel = data.getItemModel(idx); // Optimization for large datset\n\n      if (data.hasItemOption) {\n        var emphasisModel = itemModel.getModel('emphasis');\n        emphasisStyle = emphasisModel.getModel('itemStyle').getItemStyle();\n        blurStyle = itemModel.getModel(['blur', 'itemStyle']).getItemStyle();\n        selectStyle = itemModel.getModel(['select', 'itemStyle']).getItemStyle();\n        focus = emphasisModel.get('focus');\n        blurScope = emphasisModel.get('blurScope');\n        labelStatesModels = getLabelStatesModels(itemModel);\n      }\n\n      var rawValue = seriesModel.getRawValue(idx);\n      var defaultText = '-';\n\n      if (rawValue && rawValue[2] != null) {\n        defaultText = rawValue[2] + '';\n      }\n\n      setLabelStyle(rect, labelStatesModels, {\n        labelFetcher: seriesModel,\n        labelDataIndex: idx,\n        defaultOpacity: style.opacity,\n        defaultText: defaultText\n      });\n      rect.ensureState('emphasis').style = emphasisStyle;\n      rect.ensureState('blur').style = blurStyle;\n      rect.ensureState('select').style = selectStyle;\n      enableHoverEmphasis(rect, focus, blurScope);\n      rect.incremental = incremental; // PENDING\n\n      if (incremental) {\n        // Rect must use hover layer if it's incremental.\n        rect.states.emphasis.hoverLayer = true;\n      }\n\n      group.add(rect);\n      data.setItemGraphicEl(idx, rect);\n    }\n  };\n\n  HeatmapView.prototype._renderOnGeo = function (geo, seriesModel, visualMapModel, api) {\n    var inRangeVisuals = visualMapModel.targetVisuals.inRange;\n    var outOfRangeVisuals = visualMapModel.targetVisuals.outOfRange; // if (!visualMapping) {\n    //     throw new Error('Data range must have color visuals');\n    // }\n\n    var data = seriesModel.getData();\n    var hmLayer = this._hmLayer || this._hmLayer || new HeatmapLayer();\n    hmLayer.blurSize = seriesModel.get('blurSize');\n    hmLayer.pointSize = seriesModel.get('pointSize');\n    hmLayer.minOpacity = seriesModel.get('minOpacity');\n    hmLayer.maxOpacity = seriesModel.get('maxOpacity');\n    var rect = geo.getViewRect().clone();\n    var roamTransform = geo.getRoamTransform();\n    rect.applyTransform(roamTransform); // Clamp on viewport\n\n    var x = Math.max(rect.x, 0);\n    var y = Math.max(rect.y, 0);\n    var x2 = Math.min(rect.width + rect.x, api.getWidth());\n    var y2 = Math.min(rect.height + rect.y, api.getHeight());\n    var width = x2 - x;\n    var height = y2 - y;\n    var dims = [data.mapDimension('lng'), data.mapDimension('lat'), data.mapDimension('value')];\n    var points = data.mapArray(dims, function (lng, lat, value) {\n      var pt = geo.dataToPoint([lng, lat]);\n      pt[0] -= x;\n      pt[1] -= y;\n      pt.push(value);\n      return pt;\n    });\n    var dataExtent = visualMapModel.getExtent();\n    var isInRange = visualMapModel.type === 'visualMap.continuous' ? getIsInContinuousRange(dataExtent, visualMapModel.option.range) : getIsInPiecewiseRange(dataExtent, visualMapModel.getPieceList(), visualMapModel.option.selected);\n    hmLayer.update(points, width, height, inRangeVisuals.color.getNormalizer(), {\n      inRange: inRangeVisuals.color.getColorMapper(),\n      outOfRange: outOfRangeVisuals.color.getColorMapper()\n    }, isInRange);\n    var img = new graphic.Image({\n      style: {\n        width: width,\n        height: height,\n        x: x,\n        y: y,\n        image: hmLayer.canvas\n      },\n      silent: true\n    });\n    this.group.add(img);\n  };\n\n  HeatmapView.type = 'heatmap';\n  return HeatmapView;\n}(ChartView);\n\nexport default HeatmapView;", "\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { __extends } from \"tslib\";\nimport SeriesModel from '../../model/Series';\nimport createListFromArray from '../helper/createListFromArray';\nimport CoordinateSystem from '../../core/CoordinateSystem';\n\nvar HeatmapSeriesModel =\n/** @class */\nfunction (_super) {\n  __extends(HeatmapSeriesModel, _super);\n\n  function HeatmapSeriesModel() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n\n    _this.type = HeatmapSeriesModel.type;\n    return _this;\n  }\n\n  HeatmapSeriesModel.prototype.getInitialData = function (option, ecModel) {\n    return createListFromArray(this.getSource(), this, {\n      generateCoord: 'value'\n    });\n  };\n\n  HeatmapSeriesModel.prototype.preventIncremental = function () {\n    var coordSysCreator = CoordinateSystem.get(this.get('coordinateSystem'));\n\n    if (coordSysCreator && coordSysCreator.dimensions) {\n      return coordSysCreator.dimensions[0] === 'lng' && coordSysCreator.dimensions[1] === 'lat';\n    }\n  };\n\n  HeatmapSeriesModel.type = 'series.heatmap';\n  HeatmapSeriesModel.dependencies = ['grid', 'geo', 'calendar'];\n  HeatmapSeriesModel.defaultOption = {\n    coordinateSystem: 'cartesian2d',\n    zlevel: 0,\n    z: 2,\n    // Cartesian coordinate system\n    // xAxisIndex: 0,\n    // yAxisIndex: 0,\n    // Geo coordinate system\n    geoIndex: 0,\n    blurSize: 30,\n    pointSize: 20,\n    maxOpacity: 1,\n    minOpacity: 0,\n    select: {\n      itemStyle: {\n        borderColor: '#212121'\n      }\n    }\n  };\n  return HeatmapSeriesModel;\n}(SeriesModel);\n\nexport default HeatmapSeriesModel;", "\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport HeatmapView from './HeatmapView';\nimport HeatmapSeriesModel from './HeatmapSeries';\nexport function install(registers) {\n  registers.registerChartView(HeatmapView);\n  registers.registerSeriesModel(HeatmapSeriesModel);\n}", "\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { __extends } from \"tslib\";\nimport * as zrUtil from 'zrender/lib/core/util';\nimport * as graphic from '../../util/graphic';\nimport { enableHoverEmphasis } from '../../util/states';\nimport { createSymbol } from '../../util/symbol';\nimport { parsePercent, isNumeric } from '../../util/number';\nimport ChartView from '../../view/Chart';\nimport { getDefaultLabel } from '../helper/labelHelper';\nimport { setLabelStyle, getLabelStatesModels } from '../../label/labelStyle';\nimport ZRImage from 'zrender/lib/graphic/Image';\nimport { getECData } from '../../util/innerStore';\nvar BAR_BORDER_WIDTH_QUERY = ['itemStyle', 'borderWidth']; // index: +isHorizontal\n\nvar LAYOUT_ATTRS = [{\n  xy: 'x',\n  wh: 'width',\n  index: 0,\n  posDesc: ['left', 'right']\n}, {\n  xy: 'y',\n  wh: 'height',\n  index: 1,\n  posDesc: ['top', 'bottom']\n}];\nvar pathForLineWidth = new graphic.Circle();\n\nvar PictorialBarView =\n/** @class */\nfunction (_super) {\n  __extends(PictorialBarView, _super);\n\n  function PictorialBarView() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n\n    _this.type = PictorialBarView.type;\n    return _this;\n  }\n\n  PictorialBarView.prototype.render = function (seriesModel, ecModel, api) {\n    var group = this.group;\n    var data = seriesModel.getData();\n    var oldData = this._data;\n    var cartesian = seriesModel.coordinateSystem;\n    var baseAxis = cartesian.getBaseAxis();\n    var isHorizontal = baseAxis.isHorizontal();\n    var coordSysRect = cartesian.master.getRect();\n    var opt = {\n      ecSize: {\n        width: api.getWidth(),\n        height: api.getHeight()\n      },\n      seriesModel: seriesModel,\n      coordSys: cartesian,\n      coordSysExtent: [[coordSysRect.x, coordSysRect.x + coordSysRect.width], [coordSysRect.y, coordSysRect.y + coordSysRect.height]],\n      isHorizontal: isHorizontal,\n      valueDim: LAYOUT_ATTRS[+isHorizontal],\n      categoryDim: LAYOUT_ATTRS[1 - +isHorizontal]\n    };\n    data.diff(oldData).add(function (dataIndex) {\n      if (!data.hasValue(dataIndex)) {\n        return;\n      }\n\n      var itemModel = getItemModel(data, dataIndex);\n      var symbolMeta = getSymbolMeta(data, dataIndex, itemModel, opt);\n      var bar = createBar(data, opt, symbolMeta);\n      data.setItemGraphicEl(dataIndex, bar);\n      group.add(bar);\n      updateCommon(bar, opt, symbolMeta);\n    }).update(function (newIndex, oldIndex) {\n      var bar = oldData.getItemGraphicEl(oldIndex);\n\n      if (!data.hasValue(newIndex)) {\n        group.remove(bar);\n        return;\n      }\n\n      var itemModel = getItemModel(data, newIndex);\n      var symbolMeta = getSymbolMeta(data, newIndex, itemModel, opt);\n      var pictorialShapeStr = getShapeStr(data, symbolMeta);\n\n      if (bar && pictorialShapeStr !== bar.__pictorialShapeStr) {\n        group.remove(bar);\n        data.setItemGraphicEl(newIndex, null);\n        bar = null;\n      }\n\n      if (bar) {\n        updateBar(bar, opt, symbolMeta);\n      } else {\n        bar = createBar(data, opt, symbolMeta, true);\n      }\n\n      data.setItemGraphicEl(newIndex, bar);\n      bar.__pictorialSymbolMeta = symbolMeta; // Add back\n\n      group.add(bar);\n      updateCommon(bar, opt, symbolMeta);\n    }).remove(function (dataIndex) {\n      var bar = oldData.getItemGraphicEl(dataIndex);\n      bar && removeBar(oldData, dataIndex, bar.__pictorialSymbolMeta.animationModel, bar);\n    }).execute();\n    this._data = data;\n    return this.group;\n  };\n\n  PictorialBarView.prototype.remove = function (ecModel, api) {\n    var group = this.group;\n    var data = this._data;\n\n    if (ecModel.get('animation')) {\n      if (data) {\n        data.eachItemGraphicEl(function (bar) {\n          removeBar(data, getECData(bar).dataIndex, ecModel, bar);\n        });\n      }\n    } else {\n      group.removeAll();\n    }\n  };\n\n  PictorialBarView.type = 'pictorialBar';\n  return PictorialBarView;\n}(ChartView); // Set or calculate default value about symbol, and calculate layout info.\n\n\nfunction getSymbolMeta(data, dataIndex, itemModel, opt) {\n  var layout = data.getItemLayout(dataIndex);\n  var symbolRepeat = itemModel.get('symbolRepeat');\n  var symbolClip = itemModel.get('symbolClip');\n  var symbolPosition = itemModel.get('symbolPosition') || 'start';\n  var symbolRotate = itemModel.get('symbolRotate');\n  var rotation = (symbolRotate || 0) * Math.PI / 180 || 0;\n  var symbolPatternSize = itemModel.get('symbolPatternSize') || 2;\n  var isAnimationEnabled = itemModel.isAnimationEnabled();\n  var symbolMeta = {\n    dataIndex: dataIndex,\n    layout: layout,\n    itemModel: itemModel,\n    symbolType: data.getItemVisual(dataIndex, 'symbol') || 'circle',\n    style: data.getItemVisual(dataIndex, 'style'),\n    symbolClip: symbolClip,\n    symbolRepeat: symbolRepeat,\n    symbolRepeatDirection: itemModel.get('symbolRepeatDirection'),\n    symbolPatternSize: symbolPatternSize,\n    rotation: rotation,\n    animationModel: isAnimationEnabled ? itemModel : null,\n    hoverScale: isAnimationEnabled && itemModel.get(['emphasis', 'scale']),\n    z2: itemModel.getShallow('z', true) || 0\n  };\n  prepareBarLength(itemModel, symbolRepeat, layout, opt, symbolMeta);\n  prepareSymbolSize(data, dataIndex, layout, symbolRepeat, symbolClip, symbolMeta.boundingLength, symbolMeta.pxSign, symbolPatternSize, opt, symbolMeta);\n  prepareLineWidth(itemModel, symbolMeta.symbolScale, rotation, opt, symbolMeta);\n  var symbolSize = symbolMeta.symbolSize;\n  var symbolOffset = itemModel.get('symbolOffset');\n\n  if (zrUtil.isArray(symbolOffset)) {\n    symbolOffset = [parsePercent(symbolOffset[0], symbolSize[0]), parsePercent(symbolOffset[1], symbolSize[1])];\n  }\n\n  prepareLayoutInfo(itemModel, symbolSize, layout, symbolRepeat, symbolClip, symbolOffset, symbolPosition, symbolMeta.valueLineWidth, symbolMeta.boundingLength, symbolMeta.repeatCutLength, opt, symbolMeta);\n  return symbolMeta;\n} // bar length can be negative.\n\n\nfunction prepareBarLength(itemModel, symbolRepeat, layout, opt, outputSymbolMeta) {\n  var valueDim = opt.valueDim;\n  var symbolBoundingData = itemModel.get('symbolBoundingData');\n  var valueAxis = opt.coordSys.getOtherAxis(opt.coordSys.getBaseAxis());\n  var zeroPx = valueAxis.toGlobalCoord(valueAxis.dataToCoord(0));\n  var pxSignIdx = 1 - +(layout[valueDim.wh] <= 0);\n  var boundingLength;\n\n  if (zrUtil.isArray(symbolBoundingData)) {\n    var symbolBoundingExtent = [convertToCoordOnAxis(valueAxis, symbolBoundingData[0]) - zeroPx, convertToCoordOnAxis(valueAxis, symbolBoundingData[1]) - zeroPx];\n    symbolBoundingExtent[1] < symbolBoundingExtent[0] && symbolBoundingExtent.reverse();\n    boundingLength = symbolBoundingExtent[pxSignIdx];\n  } else if (symbolBoundingData != null) {\n    boundingLength = convertToCoordOnAxis(valueAxis, symbolBoundingData) - zeroPx;\n  } else if (symbolRepeat) {\n    boundingLength = opt.coordSysExtent[valueDim.index][pxSignIdx] - zeroPx;\n  } else {\n    boundingLength = layout[valueDim.wh];\n  }\n\n  outputSymbolMeta.boundingLength = boundingLength;\n\n  if (symbolRepeat) {\n    outputSymbolMeta.repeatCutLength = layout[valueDim.wh];\n  }\n\n  outputSymbolMeta.pxSign = boundingLength > 0 ? 1 : boundingLength < 0 ? -1 : 0;\n}\n\nfunction convertToCoordOnAxis(axis, value) {\n  return axis.toGlobalCoord(axis.dataToCoord(axis.scale.parse(value)));\n} // Support ['100%', '100%']\n\n\nfunction prepareSymbolSize(data, dataIndex, layout, symbolRepeat, symbolClip, boundingLength, pxSign, symbolPatternSize, opt, outputSymbolMeta) {\n  var valueDim = opt.valueDim;\n  var categoryDim = opt.categoryDim;\n  var categorySize = Math.abs(layout[categoryDim.wh]);\n  var symbolSize = data.getItemVisual(dataIndex, 'symbolSize');\n  var parsedSymbolSize;\n\n  if (zrUtil.isArray(symbolSize)) {\n    parsedSymbolSize = symbolSize.slice();\n  } else {\n    if (symbolSize == null) {\n      // will parse to number below\n      parsedSymbolSize = ['100%', '100%'];\n    } else {\n      parsedSymbolSize = [symbolSize, symbolSize];\n    }\n  } // Note: percentage symbolSize (like '100%') do not consider lineWidth, because it is\n  // to complicated to calculate real percent value if considering scaled lineWidth.\n  // So the actual size will bigger than layout size if lineWidth is bigger than zero,\n  // which can be tolerated in pictorial chart.\n\n\n  parsedSymbolSize[categoryDim.index] = parsePercent(parsedSymbolSize[categoryDim.index], categorySize);\n  parsedSymbolSize[valueDim.index] = parsePercent(parsedSymbolSize[valueDim.index], symbolRepeat ? categorySize : Math.abs(boundingLength));\n  outputSymbolMeta.symbolSize = parsedSymbolSize; // If x or y is less than zero, show reversed shape.\n\n  var symbolScale = outputSymbolMeta.symbolScale = [parsedSymbolSize[0] / symbolPatternSize, parsedSymbolSize[1] / symbolPatternSize]; // Follow convention, 'right' and 'top' is the normal scale.\n\n  symbolScale[valueDim.index] *= (opt.isHorizontal ? -1 : 1) * pxSign;\n}\n\nfunction prepareLineWidth(itemModel, symbolScale, rotation, opt, outputSymbolMeta) {\n  // In symbols are drawn with scale, so do not need to care about the case that width\n  // or height are too small. But symbol use strokeNoScale, where acture lineWidth should\n  // be calculated.\n  var valueLineWidth = itemModel.get(BAR_BORDER_WIDTH_QUERY) || 0;\n\n  if (valueLineWidth) {\n    pathForLineWidth.attr({\n      scaleX: symbolScale[0],\n      scaleY: symbolScale[1],\n      rotation: rotation\n    });\n    pathForLineWidth.updateTransform();\n    valueLineWidth /= pathForLineWidth.getLineScale();\n    valueLineWidth *= symbolScale[opt.valueDim.index];\n  }\n\n  outputSymbolMeta.valueLineWidth = valueLineWidth;\n}\n\nfunction prepareLayoutInfo(itemModel, symbolSize, layout, symbolRepeat, symbolClip, symbolOffset, symbolPosition, valueLineWidth, boundingLength, repeatCutLength, opt, outputSymbolMeta) {\n  var categoryDim = opt.categoryDim;\n  var valueDim = opt.valueDim;\n  var pxSign = outputSymbolMeta.pxSign;\n  var unitLength = Math.max(symbolSize[valueDim.index] + valueLineWidth, 0);\n  var pathLen = unitLength; // Note: rotation will not effect the layout of symbols, because user may\n  // want symbols to rotate on its center, which should not be translated\n  // when rotating.\n\n  if (symbolRepeat) {\n    var absBoundingLength = Math.abs(boundingLength);\n    var symbolMargin = zrUtil.retrieve(itemModel.get('symbolMargin'), '15%') + '';\n    var hasEndGap = false;\n\n    if (symbolMargin.lastIndexOf('!') === symbolMargin.length - 1) {\n      hasEndGap = true;\n      symbolMargin = symbolMargin.slice(0, symbolMargin.length - 1);\n    }\n\n    var symbolMarginNumeric = parsePercent(symbolMargin, symbolSize[valueDim.index]);\n    var uLenWithMargin = Math.max(unitLength + symbolMarginNumeric * 2, 0); // When symbol margin is less than 0, margin at both ends will be subtracted\n    // to ensure that all of the symbols will not be overflow the given area.\n\n    var endFix = hasEndGap ? 0 : symbolMarginNumeric * 2; // Both final repeatTimes and final symbolMarginNumeric area calculated based on\n    // boundingLength.\n\n    var repeatSpecified = isNumeric(symbolRepeat);\n    var repeatTimes = repeatSpecified ? symbolRepeat : toIntTimes((absBoundingLength + endFix) / uLenWithMargin); // Adjust calculate margin, to ensure each symbol is displayed\n    // entirely in the given layout area.\n\n    var mDiff = absBoundingLength - repeatTimes * unitLength;\n    symbolMarginNumeric = mDiff / 2 / (hasEndGap ? repeatTimes : repeatTimes - 1);\n    uLenWithMargin = unitLength + symbolMarginNumeric * 2;\n    endFix = hasEndGap ? 0 : symbolMarginNumeric * 2; // Update repeatTimes when not all symbol will be shown.\n\n    if (!repeatSpecified && symbolRepeat !== 'fixed') {\n      repeatTimes = repeatCutLength ? toIntTimes((Math.abs(repeatCutLength) + endFix) / uLenWithMargin) : 0;\n    }\n\n    pathLen = repeatTimes * uLenWithMargin - endFix;\n    outputSymbolMeta.repeatTimes = repeatTimes;\n    outputSymbolMeta.symbolMargin = symbolMarginNumeric;\n  }\n\n  var sizeFix = pxSign * (pathLen / 2);\n  var pathPosition = outputSymbolMeta.pathPosition = [];\n  pathPosition[categoryDim.index] = layout[categoryDim.wh] / 2;\n  pathPosition[valueDim.index] = symbolPosition === 'start' ? sizeFix : symbolPosition === 'end' ? boundingLength - sizeFix : boundingLength / 2; // 'center'\n\n  if (symbolOffset) {\n    pathPosition[0] += symbolOffset[0];\n    pathPosition[1] += symbolOffset[1];\n  }\n\n  var bundlePosition = outputSymbolMeta.bundlePosition = [];\n  bundlePosition[categoryDim.index] = layout[categoryDim.xy];\n  bundlePosition[valueDim.index] = layout[valueDim.xy];\n  var barRectShape = outputSymbolMeta.barRectShape = zrUtil.extend({}, layout);\n  barRectShape[valueDim.wh] = pxSign * Math.max(Math.abs(layout[valueDim.wh]), Math.abs(pathPosition[valueDim.index] + sizeFix));\n  barRectShape[categoryDim.wh] = layout[categoryDim.wh];\n  var clipShape = outputSymbolMeta.clipShape = {}; // Consider that symbol may be overflow layout rect.\n\n  clipShape[categoryDim.xy] = -layout[categoryDim.xy];\n  clipShape[categoryDim.wh] = opt.ecSize[categoryDim.wh];\n  clipShape[valueDim.xy] = 0;\n  clipShape[valueDim.wh] = layout[valueDim.wh];\n}\n\nfunction createPath(symbolMeta) {\n  var symbolPatternSize = symbolMeta.symbolPatternSize;\n  var path = createSymbol( // Consider texture img, make a big size.\n  symbolMeta.symbolType, -symbolPatternSize / 2, -symbolPatternSize / 2, symbolPatternSize, symbolPatternSize);\n  path.attr({\n    culling: true\n  });\n  path.type !== 'image' && path.setStyle({\n    strokeNoScale: true\n  });\n  return path;\n}\n\nfunction createOrUpdateRepeatSymbols(bar, opt, symbolMeta, isUpdate) {\n  var bundle = bar.__pictorialBundle;\n  var symbolSize = symbolMeta.symbolSize;\n  var valueLineWidth = symbolMeta.valueLineWidth;\n  var pathPosition = symbolMeta.pathPosition;\n  var valueDim = opt.valueDim;\n  var repeatTimes = symbolMeta.repeatTimes || 0;\n  var index = 0;\n  var unit = symbolSize[opt.valueDim.index] + valueLineWidth + symbolMeta.symbolMargin * 2;\n  eachPath(bar, function (path) {\n    path.__pictorialAnimationIndex = index;\n    path.__pictorialRepeatTimes = repeatTimes;\n\n    if (index < repeatTimes) {\n      updateAttr(path, null, makeTarget(index), symbolMeta, isUpdate);\n    } else {\n      updateAttr(path, null, {\n        scaleX: 0,\n        scaleY: 0\n      }, symbolMeta, isUpdate, function () {\n        bundle.remove(path);\n      });\n    } // updateHoverAnimation(path, symbolMeta);\n\n\n    index++;\n  });\n\n  for (; index < repeatTimes; index++) {\n    var path = createPath(symbolMeta);\n    path.__pictorialAnimationIndex = index;\n    path.__pictorialRepeatTimes = repeatTimes;\n    bundle.add(path);\n    var target = makeTarget(index);\n    updateAttr(path, {\n      x: target.x,\n      y: target.y,\n      scaleX: 0,\n      scaleY: 0\n    }, {\n      scaleX: target.scaleX,\n      scaleY: target.scaleY,\n      rotation: target.rotation\n    }, symbolMeta, isUpdate);\n  }\n\n  function makeTarget(index) {\n    var position = pathPosition.slice(); // (start && pxSign > 0) || (end && pxSign < 0): i = repeatTimes - index\n    // Otherwise: i = index;\n\n    var pxSign = symbolMeta.pxSign;\n    var i = index;\n\n    if (symbolMeta.symbolRepeatDirection === 'start' ? pxSign > 0 : pxSign < 0) {\n      i = repeatTimes - 1 - index;\n    }\n\n    position[valueDim.index] = unit * (i - repeatTimes / 2 + 0.5) + pathPosition[valueDim.index];\n    return {\n      x: position[0],\n      y: position[1],\n      scaleX: symbolMeta.symbolScale[0],\n      scaleY: symbolMeta.symbolScale[1],\n      rotation: symbolMeta.rotation\n    };\n  }\n}\n\nfunction createOrUpdateSingleSymbol(bar, opt, symbolMeta, isUpdate) {\n  var bundle = bar.__pictorialBundle;\n  var mainPath = bar.__pictorialMainPath;\n\n  if (!mainPath) {\n    mainPath = bar.__pictorialMainPath = createPath(symbolMeta);\n    bundle.add(mainPath);\n    updateAttr(mainPath, {\n      x: symbolMeta.pathPosition[0],\n      y: symbolMeta.pathPosition[1],\n      scaleX: 0,\n      scaleY: 0,\n      rotation: symbolMeta.rotation\n    }, {\n      scaleX: symbolMeta.symbolScale[0],\n      scaleY: symbolMeta.symbolScale[1]\n    }, symbolMeta, isUpdate);\n  } else {\n    updateAttr(mainPath, null, {\n      x: symbolMeta.pathPosition[0],\n      y: symbolMeta.pathPosition[1],\n      scaleX: symbolMeta.symbolScale[0],\n      scaleY: symbolMeta.symbolScale[1],\n      rotation: symbolMeta.rotation\n    }, symbolMeta, isUpdate);\n  }\n} // bar rect is used for label.\n\n\nfunction createOrUpdateBarRect(bar, symbolMeta, isUpdate) {\n  var rectShape = zrUtil.extend({}, symbolMeta.barRectShape);\n  var barRect = bar.__pictorialBarRect;\n\n  if (!barRect) {\n    barRect = bar.__pictorialBarRect = new graphic.Rect({\n      z2: 2,\n      shape: rectShape,\n      silent: true,\n      style: {\n        stroke: 'transparent',\n        fill: 'transparent',\n        lineWidth: 0\n      }\n    });\n    bar.add(barRect);\n  } else {\n    updateAttr(barRect, null, {\n      shape: rectShape\n    }, symbolMeta, isUpdate);\n  }\n}\n\nfunction createOrUpdateClip(bar, opt, symbolMeta, isUpdate) {\n  // If not clip, symbol will be remove and rebuilt.\n  if (symbolMeta.symbolClip) {\n    var clipPath = bar.__pictorialClipPath;\n    var clipShape = zrUtil.extend({}, symbolMeta.clipShape);\n    var valueDim = opt.valueDim;\n    var animationModel = symbolMeta.animationModel;\n    var dataIndex = symbolMeta.dataIndex;\n\n    if (clipPath) {\n      graphic.updateProps(clipPath, {\n        shape: clipShape\n      }, animationModel, dataIndex);\n    } else {\n      clipShape[valueDim.wh] = 0;\n      clipPath = new graphic.Rect({\n        shape: clipShape\n      });\n\n      bar.__pictorialBundle.setClipPath(clipPath);\n\n      bar.__pictorialClipPath = clipPath;\n      var target = {};\n      target[valueDim.wh] = symbolMeta.clipShape[valueDim.wh];\n      graphic[isUpdate ? 'updateProps' : 'initProps'](clipPath, {\n        shape: target\n      }, animationModel, dataIndex);\n    }\n  }\n}\n\nfunction getItemModel(data, dataIndex) {\n  var itemModel = data.getItemModel(dataIndex);\n  itemModel.getAnimationDelayParams = getAnimationDelayParams;\n  itemModel.isAnimationEnabled = isAnimationEnabled;\n  return itemModel;\n}\n\nfunction getAnimationDelayParams(path) {\n  // The order is the same as the z-order, see `symbolRepeatDiretion`.\n  return {\n    index: path.__pictorialAnimationIndex,\n    count: path.__pictorialRepeatTimes\n  };\n}\n\nfunction isAnimationEnabled() {\n  // `animation` prop can be set on itemModel in pictorial bar chart.\n  return this.parentModel.isAnimationEnabled() && !!this.getShallow('animation');\n}\n\nfunction createBar(data, opt, symbolMeta, isUpdate) {\n  // bar is the main element for each data.\n  var bar = new graphic.Group(); // bundle is used for location and clip.\n\n  var bundle = new graphic.Group();\n  bar.add(bundle);\n  bar.__pictorialBundle = bundle;\n  bundle.x = symbolMeta.bundlePosition[0];\n  bundle.y = symbolMeta.bundlePosition[1];\n\n  if (symbolMeta.symbolRepeat) {\n    createOrUpdateRepeatSymbols(bar, opt, symbolMeta);\n  } else {\n    createOrUpdateSingleSymbol(bar, opt, symbolMeta);\n  }\n\n  createOrUpdateBarRect(bar, symbolMeta, isUpdate);\n  createOrUpdateClip(bar, opt, symbolMeta, isUpdate);\n  bar.__pictorialShapeStr = getShapeStr(data, symbolMeta);\n  bar.__pictorialSymbolMeta = symbolMeta;\n  return bar;\n}\n\nfunction updateBar(bar, opt, symbolMeta) {\n  var animationModel = symbolMeta.animationModel;\n  var dataIndex = symbolMeta.dataIndex;\n  var bundle = bar.__pictorialBundle;\n  graphic.updateProps(bundle, {\n    x: symbolMeta.bundlePosition[0],\n    y: symbolMeta.bundlePosition[1]\n  }, animationModel, dataIndex);\n\n  if (symbolMeta.symbolRepeat) {\n    createOrUpdateRepeatSymbols(bar, opt, symbolMeta, true);\n  } else {\n    createOrUpdateSingleSymbol(bar, opt, symbolMeta, true);\n  }\n\n  createOrUpdateBarRect(bar, symbolMeta, true);\n  createOrUpdateClip(bar, opt, symbolMeta, true);\n}\n\nfunction removeBar(data, dataIndex, animationModel, bar) {\n  // Not show text when animating\n  var labelRect = bar.__pictorialBarRect;\n  labelRect && labelRect.removeTextContent();\n  var pathes = [];\n  eachPath(bar, function (path) {\n    pathes.push(path);\n  });\n  bar.__pictorialMainPath && pathes.push(bar.__pictorialMainPath); // I do not find proper remove animation for clip yet.\n\n  bar.__pictorialClipPath && (animationModel = null);\n  zrUtil.each(pathes, function (path) {\n    graphic.removeElement(path, {\n      scaleX: 0,\n      scaleY: 0\n    }, animationModel, dataIndex, function () {\n      bar.parent && bar.parent.remove(bar);\n    });\n  });\n  data.setItemGraphicEl(dataIndex, null);\n}\n\nfunction getShapeStr(data, symbolMeta) {\n  return [data.getItemVisual(symbolMeta.dataIndex, 'symbol') || 'none', !!symbolMeta.symbolRepeat, !!symbolMeta.symbolClip].join(':');\n}\n\nfunction eachPath(bar, cb, context) {\n  // Do not use Group#eachChild, because it do not support remove.\n  zrUtil.each(bar.__pictorialBundle.children(), function (el) {\n    el !== bar.__pictorialBarRect && cb.call(context, el);\n  });\n}\n\nfunction updateAttr(el, immediateAttrs, animationAttrs, symbolMeta, isUpdate, cb) {\n  immediateAttrs && el.attr(immediateAttrs); // when symbolCip used, only clip path has init animation, otherwise it would be weird effect.\n\n  if (symbolMeta.symbolClip && !isUpdate) {\n    animationAttrs && el.attr(animationAttrs);\n  } else {\n    animationAttrs && graphic[isUpdate ? 'updateProps' : 'initProps'](el, animationAttrs, symbolMeta.animationModel, symbolMeta.dataIndex, cb);\n  }\n}\n\nfunction updateCommon(bar, opt, symbolMeta) {\n  var dataIndex = symbolMeta.dataIndex;\n  var itemModel = symbolMeta.itemModel; // Color must be excluded.\n  // Because symbol provide setColor individually to set fill and stroke\n\n  var emphasisModel = itemModel.getModel('emphasis');\n  var emphasisStyle = emphasisModel.getModel('itemStyle').getItemStyle();\n  var blurStyle = itemModel.getModel(['blur', 'itemStyle']).getItemStyle();\n  var selectStyle = itemModel.getModel(['select', 'itemStyle']).getItemStyle();\n  var cursorStyle = itemModel.getShallow('cursor');\n  var focus = emphasisModel.get('focus');\n  var blurScope = emphasisModel.get('blurScope');\n  var hoverScale = emphasisModel.get('scale');\n  eachPath(bar, function (path) {\n    if (path instanceof ZRImage) {\n      var pathStyle = path.style;\n      path.useStyle(zrUtil.extend({\n        // TODO other properties like dx, dy ?\n        image: pathStyle.image,\n        x: pathStyle.x,\n        y: pathStyle.y,\n        width: pathStyle.width,\n        height: pathStyle.height\n      }, symbolMeta.style));\n    } else {\n      path.useStyle(symbolMeta.style);\n    }\n\n    var emphasisState = path.ensureState('emphasis');\n    emphasisState.style = emphasisStyle;\n\n    if (hoverScale) {\n      // NOTE: Must after scale is set after updateAttr\n      emphasisState.scaleX = path.scaleX * 1.1;\n      emphasisState.scaleY = path.scaleY * 1.1;\n    }\n\n    path.ensureState('blur').style = blurStyle;\n    path.ensureState('select').style = selectStyle;\n    cursorStyle && (path.cursor = cursorStyle);\n    path.z2 = symbolMeta.z2;\n  });\n  var barPositionOutside = opt.valueDim.posDesc[+(symbolMeta.boundingLength > 0)];\n  var barRect = bar.__pictorialBarRect;\n  setLabelStyle(barRect, getLabelStatesModels(itemModel), {\n    labelFetcher: opt.seriesModel,\n    labelDataIndex: dataIndex,\n    defaultText: getDefaultLabel(opt.seriesModel.getData(), dataIndex),\n    inheritColor: symbolMeta.style.fill,\n    defaultOpacity: symbolMeta.style.opacity,\n    defaultOutsidePosition: barPositionOutside\n  });\n  enableHoverEmphasis(bar, focus, blurScope);\n}\n\nfunction toIntTimes(times) {\n  var roundedTimes = Math.round(times); // Escapse accurate error\n\n  return Math.abs(times - roundedTimes) < 1e-4 ? roundedTimes : Math.ceil(times);\n}\n\nexport default PictorialBarView;", "\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { __extends } from \"tslib\";\nimport BaseBarSeriesModel from './BaseBarSeries';\nimport { inheritDefaultOption } from '../../util/component';\n\nvar PictorialBarSeriesModel =\n/** @class */\nfunction (_super) {\n  __extends(PictorialBarSeriesModel, _super);\n\n  function PictorialBarSeriesModel() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n\n    _this.type = PictorialBarSeriesModel.type;\n    _this.hasSymbolVisual = true;\n    _this.defaultSymbol = 'roundRect';\n    return _this;\n  }\n\n  PictorialBarSeriesModel.prototype.getInitialData = function (option) {\n    // Disable stack.\n    option.stack = null;\n    return _super.prototype.getInitialData.apply(this, arguments);\n  };\n\n  PictorialBarSeriesModel.type = 'series.pictorialBar';\n  PictorialBarSeriesModel.dependencies = ['grid'];\n  PictorialBarSeriesModel.defaultOption = inheritDefaultOption(BaseBarSeriesModel.defaultOption, {\n    symbol: 'circle',\n    symbolSize: null,\n    symbolRotate: null,\n    symbolPosition: null,\n    symbolOffset: null,\n    symbolMargin: null,\n    symbolRepeat: false,\n    symbolRepeatDirection: 'end',\n    symbolClip: false,\n    symbolBoundingData: null,\n    symbolPatternSize: 400,\n    barGap: '-100%',\n    // z can be set in data item, which is z2 actually.\n    // Disable progressive\n    progressive: 0,\n    emphasis: {\n      // By default pictorialBar do not hover scale. Hover scale is not suitable\n      // for the case that both has foreground and background.\n      scale: false\n    },\n    select: {\n      itemStyle: {\n        borderColor: '#212121'\n      }\n    }\n  });\n  return PictorialBarSeriesModel;\n}(BaseBarSeriesModel);\n\nexport default PictorialBarSeriesModel;", "\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport PictorialBarView from './PictorialBarView';\nimport PictorialBarSeriesModel from './PictorialBarSeries';\nimport { layout } from '../../layout/barGrid';\nimport { curry } from 'zrender/lib/core/util';\nexport function install(registers) {\n  registers.registerChartView(PictorialBarView);\n  registers.registerSeriesModel(PictorialBarSeriesModel);\n  registers.registerLayout(curry(layout, 'pictorialBar'));\n}", "\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { __extends } from \"tslib\";\nimport { ECPolygon } from '../line/poly';\nimport * as graphic from '../../util/graphic';\nimport { setStatesStylesFromModel, enableHoverEmphasis } from '../../util/states';\nimport { setLabelStyle, getLabelStatesModels } from '../../label/labelStyle';\nimport { bind } from 'zrender/lib/core/util';\nimport DataDiffer from '../../data/DataDiffer';\nimport ChartView from '../../view/Chart';\n\nvar ThemeRiverView =\n/** @class */\nfunction (_super) {\n  __extends(ThemeRiverView, _super);\n\n  function ThemeRiverView() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n\n    _this.type = ThemeRiverView.type;\n    _this._layers = [];\n    return _this;\n  }\n\n  ThemeRiverView.prototype.render = function (seriesModel, ecModel, api) {\n    var data = seriesModel.getData();\n    var self = this;\n    var group = this.group;\n    var layersSeries = seriesModel.getLayerSeries();\n    var layoutInfo = data.getLayout('layoutInfo');\n    var rect = layoutInfo.rect;\n    var boundaryGap = layoutInfo.boundaryGap;\n    group.x = 0;\n    group.y = rect.y + boundaryGap[0];\n\n    function keyGetter(item) {\n      return item.name;\n    }\n\n    var dataDiffer = new DataDiffer(this._layersSeries || [], layersSeries, keyGetter, keyGetter);\n    var newLayersGroups = [];\n    dataDiffer.add(bind(process, this, 'add')).update(bind(process, this, 'update')).remove(bind(process, this, 'remove')).execute();\n\n    function process(status, idx, oldIdx) {\n      var oldLayersGroups = self._layers;\n\n      if (status === 'remove') {\n        group.remove(oldLayersGroups[idx]);\n        return;\n      }\n\n      var points0 = [];\n      var points1 = [];\n      var style;\n      var indices = layersSeries[idx].indices;\n      var j = 0;\n\n      for (; j < indices.length; j++) {\n        var layout = data.getItemLayout(indices[j]);\n        var x = layout.x;\n        var y0 = layout.y0;\n        var y = layout.y;\n        points0.push(x, y0);\n        points1.push(x, y0 + y);\n        style = data.getItemVisual(indices[j], 'style');\n      }\n\n      var polygon;\n      var textLayout = data.getItemLayout(indices[0]);\n      var labelModel = seriesModel.getModel('label');\n      var margin = labelModel.get('margin');\n      var emphasisModel = seriesModel.getModel('emphasis');\n\n      if (status === 'add') {\n        var layerGroup = newLayersGroups[idx] = new graphic.Group();\n        polygon = new ECPolygon({\n          shape: {\n            points: points0,\n            stackedOnPoints: points1,\n            smooth: 0.4,\n            stackedOnSmooth: 0.4,\n            smoothConstraint: false\n          },\n          z2: 0\n        });\n        layerGroup.add(polygon);\n        group.add(layerGroup);\n\n        if (seriesModel.isAnimationEnabled()) {\n          polygon.setClipPath(createGridClipShape(polygon.getBoundingRect(), seriesModel, function () {\n            polygon.removeClipPath();\n          }));\n        }\n      } else {\n        var layerGroup = oldLayersGroups[oldIdx];\n        polygon = layerGroup.childAt(0);\n        group.add(layerGroup);\n        newLayersGroups[idx] = layerGroup;\n        graphic.updateProps(polygon, {\n          shape: {\n            points: points0,\n            stackedOnPoints: points1\n          }\n        }, seriesModel);\n      }\n\n      setLabelStyle(polygon, getLabelStatesModels(seriesModel), {\n        labelDataIndex: indices[j - 1],\n        defaultText: data.getName(indices[j - 1]),\n        inheritColor: style.fill\n      }, {\n        normal: {\n          verticalAlign: 'middle' // align: 'right'\n\n        }\n      });\n      polygon.setTextConfig({\n        position: null,\n        local: true\n      });\n      var labelEl = polygon.getTextContent(); // TODO More label position options.\n\n      if (labelEl) {\n        labelEl.x = textLayout.x - margin;\n        labelEl.y = textLayout.y0 + textLayout.y / 2;\n      }\n\n      polygon.useStyle(style);\n      data.setItemGraphicEl(idx, polygon);\n      setStatesStylesFromModel(polygon, seriesModel);\n      enableHoverEmphasis(polygon, emphasisModel.get('focus'), emphasisModel.get('blurScope'));\n    }\n\n    this._layersSeries = layersSeries;\n    this._layers = newLayersGroups;\n  };\n\n  ThemeRiverView.type = 'themeRiver';\n  return ThemeRiverView;\n}(ChartView);\n\n; // add animation to the view\n\nfunction createGridClipShape(rect, seriesModel, cb) {\n  var rectEl = new graphic.Rect({\n    shape: {\n      x: rect.x - 10,\n      y: rect.y - 10,\n      width: 0,\n      height: rect.height + 20\n    }\n  });\n  graphic.initProps(rectEl, {\n    shape: {\n      x: rect.x - 50,\n      width: rect.width + 100,\n      height: rect.height + 20\n    }\n  }, seriesModel, cb);\n  return rectEl;\n}\n\nexport default ThemeRiverView;", "\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { __extends } from \"tslib\";\nimport SeriesModel from '../../model/Series';\nimport createDimensions from '../../data/helper/createDimensions';\nimport { getDimensionTypeByAxis } from '../../data/helper/dimensionHelper';\nimport List from '../../data/List';\nimport * as zrUtil from 'zrender/lib/core/util';\nimport { groupData, SINGLE_REFERRING } from '../../util/model';\nimport LegendVisualProvider from '../../visual/LegendVisualProvider';\nimport { createTooltipMarkup } from '../../component/tooltip/tooltipMarkup';\nvar DATA_NAME_INDEX = 2;\n\nvar ThemeRiverSeriesModel =\n/** @class */\nfunction (_super) {\n  __extends(ThemeRiverSeriesModel, _super);\n\n  function ThemeRiverSeriesModel() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n\n    _this.type = ThemeRiverSeriesModel.type;\n    _this.useColorPaletteOnData = true;\n    return _this;\n  }\n  /**\n   * @override\n   */\n\n\n  ThemeRiverSeriesModel.prototype.init = function (option) {\n    // eslint-disable-next-line\n    _super.prototype.init.apply(this, arguments); // Put this function here is for the sake of consistency of code style.\n    // Enable legend selection for each data item\n    // Use a function instead of direct access because data reference may changed\n\n\n    this.legendVisualProvider = new LegendVisualProvider(zrUtil.bind(this.getData, this), zrUtil.bind(this.getRawData, this));\n  };\n  /**\n   * If there is no value of a certain point in the time for some event,set it value to 0.\n   *\n   * @param {Array} data  initial data in the option\n   * @return {Array}\n   */\n\n\n  ThemeRiverSeriesModel.prototype.fixData = function (data) {\n    var rawDataLength = data.length;\n    /**\n     * Make sure every layer data get the same keys.\n     * The value index tells which layer has visited.\n     * {\n     *  2014/01/01: -1\n     * }\n     */\n\n    var timeValueKeys = {}; // grouped data by name\n\n    var groupResult = groupData(data, function (item) {\n      if (!timeValueKeys.hasOwnProperty(item[0] + '')) {\n        timeValueKeys[item[0] + ''] = -1;\n      }\n\n      return item[2];\n    });\n    var layerData = [];\n    groupResult.buckets.each(function (items, key) {\n      layerData.push({\n        name: key,\n        dataList: items\n      });\n    });\n    var layerNum = layerData.length;\n\n    for (var k = 0; k < layerNum; ++k) {\n      var name_1 = layerData[k].name;\n\n      for (var j = 0; j < layerData[k].dataList.length; ++j) {\n        var timeValue = layerData[k].dataList[j][0] + '';\n        timeValueKeys[timeValue] = k;\n      }\n\n      for (var timeValue in timeValueKeys) {\n        if (timeValueKeys.hasOwnProperty(timeValue) && timeValueKeys[timeValue] !== k) {\n          timeValueKeys[timeValue] = k;\n          data[rawDataLength] = [timeValue, 0, name_1];\n          rawDataLength++;\n        }\n      }\n    }\n\n    return data;\n  };\n  /**\n   * @override\n   * @param  option  the initial option that user gived\n   * @param  ecModel  the model object for themeRiver option\n   */\n\n\n  ThemeRiverSeriesModel.prototype.getInitialData = function (option, ecModel) {\n    var singleAxisModel = this.getReferringComponents('singleAxis', SINGLE_REFERRING).models[0];\n    var axisType = singleAxisModel.get('type'); // filter the data item with the value of label is undefined\n\n    var filterData = zrUtil.filter(option.data, function (dataItem) {\n      return dataItem[2] !== undefined;\n    }); // ??? TODO design a stage to transfer data for themeRiver and lines?\n\n    var data = this.fixData(filterData || []);\n    var nameList = [];\n    var nameMap = this.nameMap = zrUtil.createHashMap();\n    var count = 0;\n\n    for (var i = 0; i < data.length; ++i) {\n      nameList.push(data[i][DATA_NAME_INDEX]);\n\n      if (!nameMap.get(data[i][DATA_NAME_INDEX])) {\n        nameMap.set(data[i][DATA_NAME_INDEX], count);\n        count++;\n      }\n    }\n\n    var dimensionsInfo = createDimensions(data, {\n      coordDimensions: ['single'],\n      dimensionsDefine: [{\n        name: 'time',\n        type: getDimensionTypeByAxis(axisType)\n      }, {\n        name: 'value',\n        type: 'float'\n      }, {\n        name: 'name',\n        type: 'ordinal'\n      }],\n      encodeDefine: {\n        single: 0,\n        value: 1,\n        itemName: 2\n      }\n    });\n    var list = new List(dimensionsInfo, this);\n    list.initData(data);\n    return list;\n  };\n  /**\n   * The raw data is divided into multiple layers and each layer\n   *     has same name.\n   */\n\n\n  ThemeRiverSeriesModel.prototype.getLayerSeries = function () {\n    var data = this.getData();\n    var lenCount = data.count();\n    var indexArr = [];\n\n    for (var i = 0; i < lenCount; ++i) {\n      indexArr[i] = i;\n    }\n\n    var timeDim = data.mapDimension('single'); // data group by name\n\n    var groupResult = groupData(indexArr, function (index) {\n      return data.get('name', index);\n    });\n    var layerSeries = [];\n    groupResult.buckets.each(function (items, key) {\n      items.sort(function (index1, index2) {\n        return data.get(timeDim, index1) - data.get(timeDim, index2);\n      });\n      layerSeries.push({\n        name: key,\n        indices: items\n      });\n    });\n    return layerSeries;\n  };\n  /**\n   * Get data indices for show tooltip content\n   */\n\n\n  ThemeRiverSeriesModel.prototype.getAxisTooltipData = function (dim, value, baseAxis) {\n    if (!zrUtil.isArray(dim)) {\n      dim = dim ? [dim] : [];\n    }\n\n    var data = this.getData();\n    var layerSeries = this.getLayerSeries();\n    var indices = [];\n    var layerNum = layerSeries.length;\n    var nestestValue;\n\n    for (var i = 0; i < layerNum; ++i) {\n      var minDist = Number.MAX_VALUE;\n      var nearestIdx = -1;\n      var pointNum = layerSeries[i].indices.length;\n\n      for (var j = 0; j < pointNum; ++j) {\n        var theValue = data.get(dim[0], layerSeries[i].indices[j]);\n        var dist = Math.abs(theValue - value);\n\n        if (dist <= minDist) {\n          nestestValue = theValue;\n          minDist = dist;\n          nearestIdx = layerSeries[i].indices[j];\n        }\n      }\n\n      indices.push(nearestIdx);\n    }\n\n    return {\n      dataIndices: indices,\n      nestestValue: nestestValue\n    };\n  };\n\n  ThemeRiverSeriesModel.prototype.formatTooltip = function (dataIndex, multipleSeries, dataType) {\n    var data = this.getData();\n    var name = data.getName(dataIndex);\n    var value = data.get(data.mapDimension('value'), dataIndex);\n    return createTooltipMarkup('nameValue', {\n      name: name,\n      value: value\n    });\n  };\n\n  ThemeRiverSeriesModel.type = 'series.themeRiver';\n  ThemeRiverSeriesModel.dependencies = ['singleAxis'];\n  ThemeRiverSeriesModel.defaultOption = {\n    zlevel: 0,\n    z: 2,\n    coordinateSystem: 'singleAxis',\n    // gap in axis's orthogonal orientation\n    boundaryGap: ['10%', '10%'],\n    // legendHoverLink: true,\n    singleAxisIndex: 0,\n    animationEasing: 'linear',\n    label: {\n      margin: 4,\n      show: true,\n      position: 'left',\n      fontSize: 11\n    },\n    emphasis: {\n      label: {\n        show: true\n      }\n    }\n  };\n  return ThemeRiverSeriesModel;\n}(SeriesModel);\n\nexport default ThemeRiverSeriesModel;", "\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport * as zrUtil from 'zrender/lib/core/util';\nimport * as numberUtil from '../../util/number';\nexport default function themeRiverLayout(ecModel, api) {\n  ecModel.eachSeriesByType('themeRiver', function (seriesModel) {\n    var data = seriesModel.getData();\n    var single = seriesModel.coordinateSystem;\n    var layoutInfo = {}; // use the axis boundingRect for view\n\n    var rect = single.getRect();\n    layoutInfo.rect = rect;\n    var boundaryGap = seriesModel.get('boundaryGap');\n    var axis = single.getAxis();\n    layoutInfo.boundaryGap = boundaryGap;\n\n    if (axis.orient === 'horizontal') {\n      boundaryGap[0] = numberUtil.parsePercent(boundaryGap[0], rect.height);\n      boundaryGap[1] = numberUtil.parsePercent(boundaryGap[1], rect.height);\n      var height = rect.height - boundaryGap[0] - boundaryGap[1];\n      doThemeRiverLayout(data, seriesModel, height);\n    } else {\n      boundaryGap[0] = numberUtil.parsePercent(boundaryGap[0], rect.width);\n      boundaryGap[1] = numberUtil.parsePercent(boundaryGap[1], rect.width);\n      var width = rect.width - boundaryGap[0] - boundaryGap[1];\n      doThemeRiverLayout(data, seriesModel, width);\n    }\n\n    data.setLayout('layoutInfo', layoutInfo);\n  });\n}\n/**\n * The layout information about themeriver\n *\n * @param data  data in the series\n * @param seriesModel  the model object of themeRiver series\n * @param height  value used to compute every series height\n */\n\nfunction doThemeRiverLayout(data, seriesModel, height) {\n  if (!data.count()) {\n    return;\n  }\n\n  var coordSys = seriesModel.coordinateSystem; // the data in each layer are organized into a series.\n\n  var layerSeries = seriesModel.getLayerSeries(); // the points in each layer.\n\n  var timeDim = data.mapDimension('single');\n  var valueDim = data.mapDimension('value');\n  var layerPoints = zrUtil.map(layerSeries, function (singleLayer) {\n    return zrUtil.map(singleLayer.indices, function (idx) {\n      var pt = coordSys.dataToPoint(data.get(timeDim, idx));\n      pt[1] = data.get(valueDim, idx);\n      return pt;\n    });\n  });\n  var base = computeBaseline(layerPoints);\n  var baseLine = base.y0;\n  var ky = height / base.max; // set layout information for each item.\n\n  var n = layerSeries.length;\n  var m = layerSeries[0].indices.length;\n  var baseY0;\n\n  for (var j = 0; j < m; ++j) {\n    baseY0 = baseLine[j] * ky;\n    data.setItemLayout(layerSeries[0].indices[j], {\n      layerIndex: 0,\n      x: layerPoints[0][j][0],\n      y0: baseY0,\n      y: layerPoints[0][j][1] * ky\n    });\n\n    for (var i = 1; i < n; ++i) {\n      baseY0 += layerPoints[i - 1][j][1] * ky;\n      data.setItemLayout(layerSeries[i].indices[j], {\n        layerIndex: i,\n        x: layerPoints[i][j][0],\n        y0: baseY0,\n        y: layerPoints[i][j][1] * ky\n      });\n    }\n  }\n}\n/**\n * Compute the baseLine of the rawdata\n * Inspired by Lee Byron's paper Stacked Graphs - Geometry & Aesthetics\n *\n * @param  data  the points in each layer\n */\n\n\nfunction computeBaseline(data) {\n  var layerNum = data.length;\n  var pointNum = data[0].length;\n  var sums = [];\n  var y0 = [];\n  var max = 0;\n\n  for (var i = 0; i < pointNum; ++i) {\n    var temp = 0;\n\n    for (var j = 0; j < layerNum; ++j) {\n      temp += data[j][i][1];\n    }\n\n    if (temp > max) {\n      max = temp;\n    }\n\n    sums.push(temp);\n  }\n\n  for (var k = 0; k < pointNum; ++k) {\n    y0[k] = (max - sums[k]) / 2;\n  }\n\n  max = 0;\n\n  for (var l = 0; l < pointNum; ++l) {\n    var sum = sums[l] + y0[l];\n\n    if (sum > max) {\n      max = sum;\n    }\n  }\n\n  return {\n    y0: y0,\n    max: max\n  };\n}", "\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\nimport ThemeRiverView from './ThemeRiverView';\nimport ThemeRiverSeriesModel from './ThemeRiverSeries';\nimport themeRiverLayout from './themeRiverLayout';\nimport dataFilter from '../../processor/dataFilter';\nexport function install(registers) {\n  registers.registerChartView(ThemeRiverView);\n  registers.registerSeriesModel(ThemeRiverSeriesModel);\n  registers.registerLayout(themeRiverLayout);\n  registers.registerProcessor(dataFilter('themeRiver'));\n}", "\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { __extends } from \"tslib\";\nimport * as zrUtil from 'zrender/lib/core/util';\nimport * as graphic from '../../util/graphic';\nimport { enableHoverEmphasis, SPECIAL_STATES, DISPLAY_STATES } from '../../util/states';\nimport { createTextStyle } from '../../label/labelStyle';\nimport { getECData } from '../../util/innerStore';\nimport { getSectorCornerRadius } from '../helper/pieHelper';\nimport { createOrUpdatePatternFromDecal } from '../../util/decal';\nvar DEFAULT_SECTOR_Z = 2;\nvar DEFAULT_TEXT_Z = 4;\n/**\n * Sunburstce of Sunburst including Sector, Label, LabelLine\n */\n\nvar SunburstPiece =\n/** @class */\nfunction (_super) {\n  __extends(SunburstPiece, _super);\n\n  function SunburstPiece(node, seriesModel, ecModel, api) {\n    var _this = _super.call(this) || this;\n\n    _this.z2 = DEFAULT_SECTOR_Z;\n    _this.textConfig = {\n      inside: true\n    };\n    getECData(_this).seriesIndex = seriesModel.seriesIndex;\n    var text = new graphic.Text({\n      z2: DEFAULT_TEXT_Z,\n      silent: node.getModel().get(['label', 'silent'])\n    });\n\n    _this.setTextContent(text);\n\n    _this.updateData(true, node, seriesModel, ecModel, api);\n\n    return _this;\n  }\n\n  SunburstPiece.prototype.updateData = function (firstCreate, node, // state: 'emphasis' | 'normal' | 'highlight' | 'downplay',\n  seriesModel, ecModel, api) {\n    this.node = node;\n    node.piece = this;\n    seriesModel = seriesModel || this._seriesModel;\n    ecModel = ecModel || this._ecModel;\n    var sector = this;\n    getECData(sector).dataIndex = node.dataIndex;\n    var itemModel = node.getModel();\n    var emphasisModel = itemModel.getModel('emphasis');\n    var layout = node.getLayout();\n    var sectorShape = zrUtil.extend({}, layout);\n    sectorShape.label = null;\n    var normalStyle = node.getVisual('style');\n    normalStyle.lineJoin = 'bevel';\n    var decal = node.getVisual('decal');\n\n    if (decal) {\n      normalStyle.decal = createOrUpdatePatternFromDecal(decal, api);\n    }\n\n    var cornerRadius = getSectorCornerRadius(itemModel.getModel('itemStyle'), sectorShape);\n    zrUtil.extend(sectorShape, cornerRadius);\n    zrUtil.each(SPECIAL_STATES, function (stateName) {\n      var state = sector.ensureState(stateName);\n      var itemStyleModel = itemModel.getModel([stateName, 'itemStyle']);\n      state.style = itemStyleModel.getItemStyle(); // border radius\n\n      var cornerRadius = getSectorCornerRadius(itemStyleModel, sectorShape);\n\n      if (cornerRadius) {\n        state.shape = cornerRadius;\n      }\n    });\n\n    if (firstCreate) {\n      sector.setShape(sectorShape);\n      sector.shape.r = layout.r0;\n      graphic.updateProps(sector, {\n        shape: {\n          r: layout.r\n        }\n      }, seriesModel, node.dataIndex);\n    } else {\n      // Disable animation for gradient since no interpolation method\n      // is supported for gradient\n      graphic.updateProps(sector, {\n        shape: sectorShape\n      }, seriesModel);\n    }\n\n    sector.useStyle(normalStyle);\n\n    this._updateLabel(seriesModel);\n\n    var cursorStyle = itemModel.getShallow('cursor');\n    cursorStyle && sector.attr('cursor', cursorStyle);\n    this._seriesModel = seriesModel || this._seriesModel;\n    this._ecModel = ecModel || this._ecModel;\n    var focus = emphasisModel.get('focus');\n    var focusOrIndices = focus === 'ancestor' ? node.getAncestorsIndices() : focus === 'descendant' ? node.getDescendantIndices() : focus;\n    enableHoverEmphasis(this, focusOrIndices, emphasisModel.get('blurScope'));\n  };\n\n  SunburstPiece.prototype._updateLabel = function (seriesModel) {\n    var _this = this;\n\n    var itemModel = this.node.getModel();\n    var normalLabelModel = itemModel.getModel('label');\n    var layout = this.node.getLayout();\n    var angle = layout.endAngle - layout.startAngle;\n    var midAngle = (layout.startAngle + layout.endAngle) / 2;\n    var dx = Math.cos(midAngle);\n    var dy = Math.sin(midAngle);\n    var sector = this;\n    var label = sector.getTextContent();\n    var dataIndex = this.node.dataIndex;\n    var labelMinAngle = normalLabelModel.get('minAngle') / 180 * Math.PI;\n    var isNormalShown = normalLabelModel.get('show') && !(labelMinAngle != null && Math.abs(angle) < labelMinAngle);\n    label.ignore = !isNormalShown; // TODO use setLabelStyle\n\n    zrUtil.each(DISPLAY_STATES, function (stateName) {\n      var labelStateModel = stateName === 'normal' ? itemModel.getModel('label') : itemModel.getModel([stateName, 'label']);\n      var isNormal = stateName === 'normal';\n      var state = isNormal ? label : label.ensureState(stateName);\n      var text = seriesModel.getFormattedLabel(dataIndex, stateName);\n\n      if (isNormal) {\n        text = text || _this.node.name;\n      }\n\n      state.style = createTextStyle(labelStateModel, {}, null, stateName !== 'normal', true);\n\n      if (text) {\n        state.style.text = text;\n      } // Not displaying text when angle is too small\n\n\n      var isShown = labelStateModel.get('show');\n\n      if (isShown != null && !isNormal) {\n        state.ignore = !isShown;\n      }\n\n      var labelPosition = getLabelAttr(labelStateModel, 'position');\n      var sectorState = isNormal ? sector : sector.states[stateName];\n      var labelColor = sectorState.style.fill;\n      sectorState.textConfig = {\n        outsideFill: labelStateModel.get('color') === 'inherit' ? labelColor : null,\n        inside: labelPosition !== 'outside'\n      };\n      var r;\n      var labelPadding = getLabelAttr(labelStateModel, 'distance') || 0;\n      var textAlign = getLabelAttr(labelStateModel, 'align');\n\n      if (labelPosition === 'outside') {\n        r = layout.r + labelPadding;\n        textAlign = midAngle > Math.PI / 2 ? 'right' : 'left';\n      } else {\n        if (!textAlign || textAlign === 'center') {\n          r = (layout.r + layout.r0) / 2;\n          textAlign = 'center';\n        } else if (textAlign === 'left') {\n          r = layout.r0 + labelPadding;\n\n          if (midAngle > Math.PI / 2) {\n            textAlign = 'right';\n          }\n        } else if (textAlign === 'right') {\n          r = layout.r - labelPadding;\n\n          if (midAngle > Math.PI / 2) {\n            textAlign = 'left';\n          }\n        }\n      }\n\n      state.style.align = textAlign;\n      state.style.verticalAlign = getLabelAttr(labelStateModel, 'verticalAlign') || 'middle';\n      state.x = r * dx + layout.cx;\n      state.y = r * dy + layout.cy;\n      var rotateType = getLabelAttr(labelStateModel, 'rotate');\n      var rotate = 0;\n\n      if (rotateType === 'radial') {\n        rotate = -midAngle;\n\n        if (rotate < -Math.PI / 2) {\n          rotate += Math.PI;\n        }\n      } else if (rotateType === 'tangential') {\n        rotate = Math.PI / 2 - midAngle;\n\n        if (rotate > Math.PI / 2) {\n          rotate -= Math.PI;\n        } else if (rotate < -Math.PI / 2) {\n          rotate += Math.PI;\n        }\n      } else if (typeof rotateType === 'number') {\n        rotate = rotateType * Math.PI / 180;\n      }\n\n      state.rotation = rotate;\n    });\n\n    function getLabelAttr(model, name) {\n      var stateAttr = model.get(name);\n\n      if (stateAttr == null) {\n        return normalLabelModel.get(name);\n      }\n\n      return stateAttr;\n    }\n\n    label.dirtyStyle();\n  };\n\n  return SunburstPiece;\n}(graphic.Sector);\n\nexport default SunburstPiece;", "\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { extend } from 'zrender/lib/core/util';\nimport { deprecateReplaceLog } from '../../util/log';\nimport { retrieveTargetInfo, aboveViewRoot } from '../helper/treeHelper';\nexport var ROOT_TO_NODE_ACTION = 'sunburstRootToNode';\nvar HIGHLIGHT_ACTION = 'sunburstHighlight';\nvar UNHIGHLIGHT_ACTION = 'sunburstUnhighlight';\nexport function installSunburstAction(registers) {\n  registers.registerAction({\n    type: ROOT_TO_NODE_ACTION,\n    update: 'updateView'\n  }, function (payload, ecModel) {\n    ecModel.eachComponent({\n      mainType: 'series',\n      subType: 'sunburst',\n      query: payload\n    }, handleRootToNode);\n\n    function handleRootToNode(model, index) {\n      var targetInfo = retrieveTargetInfo(payload, [ROOT_TO_NODE_ACTION], model);\n\n      if (targetInfo) {\n        var originViewRoot = model.getViewRoot();\n\n        if (originViewRoot) {\n          payload.direction = aboveViewRoot(originViewRoot, targetInfo.node) ? 'rollUp' : 'drillDown';\n        }\n\n        model.resetViewRoot(targetInfo.node);\n      }\n    }\n  });\n  registers.registerAction({\n    type: HIGHLIGHT_ACTION,\n    update: 'none'\n  }, function (payload, ecModel, api) {\n    // Clone\n    payload = extend({}, payload);\n    ecModel.eachComponent({\n      mainType: 'series',\n      subType: 'sunburst',\n      query: payload\n    }, handleHighlight);\n\n    function handleHighlight(model) {\n      var targetInfo = retrieveTargetInfo(payload, [HIGHLIGHT_ACTION], model);\n\n      if (targetInfo) {\n        payload.dataIndex = targetInfo.node.dataIndex;\n      }\n    }\n\n    if (process.env.NODE_ENV !== 'production') {\n      deprecateReplaceLog('highlight', 'sunburstHighlight');\n    } // Fast forward action\n\n\n    api.dispatchAction(extend(payload, {\n      type: 'highlight'\n    }));\n  });\n  registers.registerAction({\n    type: UNHIGHLIGHT_ACTION,\n    update: 'updateView'\n  }, function (payload, ecModel, api) {\n    payload = extend({}, payload);\n\n    if (process.env.NODE_ENV !== 'production') {\n      deprecateReplaceLog('downplay', 'sunburstUnhighlight');\n    }\n\n    api.dispatchAction(extend(payload, {\n      type: 'downplay'\n    }));\n  });\n}", "\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { __extends } from \"tslib\";\nimport * as zrUtil from 'zrender/lib/core/util';\nimport ChartView from '../../view/Chart';\nimport SunburstPiece from './SunburstPiece';\nimport DataDiffer from '../../data/DataDiffer';\nimport { ROOT_TO_NODE_ACTION } from './sunburstAction';\nimport { windowOpen } from '../../util/format';\n\nvar SunburstView =\n/** @class */\nfunction (_super) {\n  __extends(SunburstView, _super);\n\n  function SunburstView() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n\n    _this.type = SunburstView.type;\n    return _this;\n  }\n\n  SunburstView.prototype.render = function (seriesModel, ecModel, api, // @ts-ignore\n  payload) {\n    var self = this;\n    this.seriesModel = seriesModel;\n    this.api = api;\n    this.ecModel = ecModel;\n    var data = seriesModel.getData();\n    var virtualRoot = data.tree.root;\n    var newRoot = seriesModel.getViewRoot();\n    var group = this.group;\n    var renderLabelForZeroData = seriesModel.get('renderLabelForZeroData');\n    var newChildren = [];\n    newRoot.eachNode(function (node) {\n      newChildren.push(node);\n    });\n    var oldChildren = this._oldChildren || [];\n    dualTravel(newChildren, oldChildren);\n    renderRollUp(virtualRoot, newRoot);\n\n    this._initEvents();\n\n    this._oldChildren = newChildren;\n\n    function dualTravel(newChildren, oldChildren) {\n      if (newChildren.length === 0 && oldChildren.length === 0) {\n        return;\n      }\n\n      new DataDiffer(oldChildren, newChildren, getKey, getKey).add(processNode).update(processNode).remove(zrUtil.curry(processNode, null)).execute();\n\n      function getKey(node) {\n        return node.getId();\n      }\n\n      function processNode(newIdx, oldIdx) {\n        var newNode = newIdx == null ? null : newChildren[newIdx];\n        var oldNode = oldIdx == null ? null : oldChildren[oldIdx];\n        doRenderNode(newNode, oldNode);\n      }\n    }\n\n    function doRenderNode(newNode, oldNode) {\n      if (!renderLabelForZeroData && newNode && !newNode.getValue()) {\n        // Not render data with value 0\n        newNode = null;\n      }\n\n      if (newNode !== virtualRoot && oldNode !== virtualRoot) {\n        if (oldNode && oldNode.piece) {\n          if (newNode) {\n            // Update\n            oldNode.piece.updateData(false, newNode, seriesModel, ecModel, api); // For tooltip\n\n            data.setItemGraphicEl(newNode.dataIndex, oldNode.piece);\n          } else {\n            // Remove\n            removeNode(oldNode);\n          }\n        } else if (newNode) {\n          // Add\n          var piece = new SunburstPiece(newNode, seriesModel, ecModel, api);\n          group.add(piece); // For tooltip\n\n          data.setItemGraphicEl(newNode.dataIndex, piece);\n        }\n      }\n    }\n\n    function removeNode(node) {\n      if (!node) {\n        return;\n      }\n\n      if (node.piece) {\n        group.remove(node.piece);\n        node.piece = null;\n      }\n    }\n\n    function renderRollUp(virtualRoot, viewRoot) {\n      if (viewRoot.depth > 0) {\n        // Render\n        if (self.virtualPiece) {\n          // Update\n          self.virtualPiece.updateData(false, virtualRoot, seriesModel, ecModel, api);\n        } else {\n          // Add\n          self.virtualPiece = new SunburstPiece(virtualRoot, seriesModel, ecModel, api);\n          group.add(self.virtualPiece);\n        } // TODO event scope\n\n\n        viewRoot.piece.off('click');\n        self.virtualPiece.on('click', function (e) {\n          self._rootToNode(viewRoot.parentNode);\n        });\n      } else if (self.virtualPiece) {\n        // Remove\n        group.remove(self.virtualPiece);\n        self.virtualPiece = null;\n      }\n    }\n  };\n  /**\n   * @private\n   */\n\n\n  SunburstView.prototype._initEvents = function () {\n    var _this = this;\n\n    this.group.off('click');\n    this.group.on('click', function (e) {\n      var targetFound = false;\n\n      var viewRoot = _this.seriesModel.getViewRoot();\n\n      viewRoot.eachNode(function (node) {\n        if (!targetFound && node.piece && node.piece === e.target) {\n          var nodeClick = node.getModel().get('nodeClick');\n\n          if (nodeClick === 'rootToNode') {\n            _this._rootToNode(node);\n          } else if (nodeClick === 'link') {\n            var itemModel = node.getModel();\n            var link = itemModel.get('link');\n\n            if (link) {\n              var linkTarget = itemModel.get('target', true) || '_blank';\n              windowOpen(link, linkTarget);\n            }\n          }\n\n          targetFound = true;\n        }\n      });\n    });\n  };\n  /**\n   * @private\n   */\n\n\n  SunburstView.prototype._rootToNode = function (node) {\n    if (node !== this.seriesModel.getViewRoot()) {\n      this.api.dispatchAction({\n        type: ROOT_TO_NODE_ACTION,\n        from: this.uid,\n        seriesId: this.seriesModel.id,\n        targetNode: node\n      });\n    }\n  };\n  /**\n   * @implement\n   */\n\n\n  SunburstView.prototype.containPoint = function (point, seriesModel) {\n    var treeRoot = seriesModel.getData();\n    var itemLayout = treeRoot.getItemLayout(0);\n\n    if (itemLayout) {\n      var dx = point[0] - itemLayout.cx;\n      var dy = point[1] - itemLayout.cy;\n      var radius = Math.sqrt(dx * dx + dy * dy);\n      return radius <= itemLayout.r && radius >= itemLayout.r0;\n    }\n  };\n\n  SunburstView.type = 'sunburst';\n  return SunburstView;\n}(ChartView);\n\nexport default SunburstView;", "\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { __extends } from \"tslib\";\nimport * as zrUtil from 'zrender/lib/core/util';\nimport SeriesModel from '../../model/Series';\nimport Tree from '../../data/Tree';\nimport { wrapTreePathInfo } from '../helper/treeHelper';\nimport Model from '../../model/Model';\nimport enableAriaDecalForTree from '../helper/enableAriaDecalForTree';\n\nvar SunburstSeriesModel =\n/** @class */\nfunction (_super) {\n  __extends(SunburstSeriesModel, _super);\n\n  function SunburstSeriesModel() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n\n    _this.type = SunburstSeriesModel.type;\n    _this.ignoreStyleOnData = true;\n    return _this;\n  }\n\n  SunburstSeriesModel.prototype.getInitialData = function (option, ecModel) {\n    // Create a virtual root.\n    var root = {\n      name: option.name,\n      children: option.data\n    };\n    completeTreeValue(root);\n    var levelModels = zrUtil.map(option.levels || [], function (levelDefine) {\n      return new Model(levelDefine, this, ecModel);\n    }, this); // Make sure always a new tree is created when setOption,\n    // in TreemapView, we check whether oldTree === newTree\n    // to choose mappings approach among old shapes and new shapes.\n\n    var tree = Tree.createTree(root, this, beforeLink);\n\n    function beforeLink(nodeData) {\n      nodeData.wrapMethod('getItemModel', function (model, idx) {\n        var node = tree.getNodeByDataIndex(idx);\n        var levelModel = levelModels[node.depth];\n        levelModel && (model.parentModel = levelModel);\n        return model;\n      });\n    }\n\n    return tree.data;\n  };\n\n  SunburstSeriesModel.prototype.optionUpdated = function () {\n    this.resetViewRoot();\n  };\n  /*\n   * @override\n   */\n\n\n  SunburstSeriesModel.prototype.getDataParams = function (dataIndex) {\n    var params = _super.prototype.getDataParams.apply(this, arguments);\n\n    var node = this.getData().tree.getNodeByDataIndex(dataIndex);\n    params.treePathInfo = wrapTreePathInfo(node, this);\n    return params;\n  };\n\n  SunburstSeriesModel.prototype.getViewRoot = function () {\n    return this._viewRoot;\n  };\n\n  SunburstSeriesModel.prototype.resetViewRoot = function (viewRoot) {\n    viewRoot ? this._viewRoot = viewRoot : viewRoot = this._viewRoot;\n    var root = this.getRawData().tree.root;\n\n    if (!viewRoot || viewRoot !== root && !root.contains(viewRoot)) {\n      this._viewRoot = root;\n    }\n  };\n\n  SunburstSeriesModel.prototype.enableAriaDecal = function () {\n    enableAriaDecalForTree(this);\n  };\n\n  SunburstSeriesModel.type = 'series.sunburst';\n  SunburstSeriesModel.defaultOption = {\n    zlevel: 0,\n    z: 2,\n    // \u9ED8\u8BA4\u5168\u5C40\u5C45\u4E2D\n    center: ['50%', '50%'],\n    radius: [0, '75%'],\n    // \u9ED8\u8BA4\u987A\u65F6\u9488\n    clockwise: true,\n    startAngle: 90,\n    // \u6700\u5C0F\u89D2\u5EA6\u6539\u4E3A0\n    minAngle: 0,\n    // If still show when all data zero.\n    stillShowZeroSum: true,\n    // 'rootToNode', 'link', or false\n    nodeClick: 'rootToNode',\n    renderLabelForZeroData: false,\n    label: {\n      // could be: 'radial', 'tangential', or 'none'\n      rotate: 'radial',\n      show: true,\n      opacity: 1,\n      // 'left' is for inner side of inside, and 'right' is for outter\n      // side for inside\n      align: 'center',\n      position: 'inside',\n      distance: 5,\n      silent: true\n    },\n    itemStyle: {\n      borderWidth: 1,\n      borderColor: 'white',\n      borderType: 'solid',\n      shadowBlur: 0,\n      shadowColor: 'rgba(0, 0, 0, 0.2)',\n      shadowOffsetX: 0,\n      shadowOffsetY: 0,\n      opacity: 1\n    },\n    emphasis: {\n      focus: 'descendant'\n    },\n    blur: {\n      itemStyle: {\n        opacity: 0.2\n      },\n      label: {\n        opacity: 0.1\n      }\n    },\n    // Animation type canbe expansion, scale\n    animationType: 'expansion',\n    animationDuration: 1000,\n    animationDurationUpdate: 500,\n    data: [],\n    levels: [],\n\n    /**\n     * Sort order.\n     *\n     * Valid values: 'desc', 'asc', null, or callback function.\n     * 'desc' and 'asc' for descend and ascendant order;\n     * null for not sorting;\n     * example of callback function:\n     * function(nodeA, nodeB) {\n     *     return nodeA.getValue() - nodeB.getValue();\n     * }\n     */\n    sort: 'desc'\n  };\n  return SunburstSeriesModel;\n}(SeriesModel);\n\nfunction completeTreeValue(dataNode) {\n  // Postorder travel tree.\n  // If value of none-leaf node is not set,\n  // calculate it by suming up the value of all children.\n  var sum = 0;\n  zrUtil.each(dataNode.children, function (child) {\n    completeTreeValue(child);\n    var childValue = child.value; // TODO First value of array must be a number\n\n    zrUtil.isArray(childValue) && (childValue = childValue[0]);\n    sum += childValue;\n  });\n  var thisValue = dataNode.value;\n\n  if (zrUtil.isArray(thisValue)) {\n    thisValue = thisValue[0];\n  }\n\n  if (thisValue == null || isNaN(thisValue)) {\n    thisValue = sum;\n  } // Value should not less than 0.\n\n\n  if (thisValue < 0) {\n    thisValue = 0;\n  }\n\n  zrUtil.isArray(dataNode.value) ? dataNode.value[0] = thisValue : dataNode.value = thisValue;\n}\n\nexport default SunburstSeriesModel;", "\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { parsePercent } from '../../util/number';\nimport * as zrUtil from 'zrender/lib/core/util'; // let PI2 = Math.PI * 2;\n\nvar RADIAN = Math.PI / 180;\nexport default function sunburstLayout(seriesType, ecModel, api) {\n  ecModel.eachSeriesByType(seriesType, function (seriesModel) {\n    var center = seriesModel.get('center');\n    var radius = seriesModel.get('radius');\n\n    if (!zrUtil.isArray(radius)) {\n      radius = [0, radius];\n    }\n\n    if (!zrUtil.isArray(center)) {\n      center = [center, center];\n    }\n\n    var width = api.getWidth();\n    var height = api.getHeight();\n    var size = Math.min(width, height);\n    var cx = parsePercent(center[0], width);\n    var cy = parsePercent(center[1], height);\n    var r0 = parsePercent(radius[0], size / 2);\n    var r = parsePercent(radius[1], size / 2);\n    var startAngle = -seriesModel.get('startAngle') * RADIAN;\n    var minAngle = seriesModel.get('minAngle') * RADIAN;\n    var virtualRoot = seriesModel.getData().tree.root;\n    var treeRoot = seriesModel.getViewRoot();\n    var rootDepth = treeRoot.depth;\n    var sort = seriesModel.get('sort');\n\n    if (sort != null) {\n      initChildren(treeRoot, sort);\n    }\n\n    var validDataCount = 0;\n    zrUtil.each(treeRoot.children, function (child) {\n      !isNaN(child.getValue()) && validDataCount++;\n    });\n    var sum = treeRoot.getValue(); // Sum may be 0\n\n    var unitRadian = Math.PI / (sum || validDataCount) * 2;\n    var renderRollupNode = treeRoot.depth > 0;\n    var levels = treeRoot.height - (renderRollupNode ? -1 : 1);\n    var rPerLevel = (r - r0) / (levels || 1);\n    var clockwise = seriesModel.get('clockwise');\n    var stillShowZeroSum = seriesModel.get('stillShowZeroSum'); // In the case some sector angle is smaller than minAngle\n    // let restAngle = PI2;\n    // let valueSumLargerThanMinAngle = 0;\n\n    var dir = clockwise ? 1 : -1;\n    /**\n     * Render a tree\n     * @return increased angle\n     */\n\n    var renderNode = function (node, startAngle) {\n      if (!node) {\n        return;\n      }\n\n      var endAngle = startAngle; // Render self\n\n      if (node !== virtualRoot) {\n        // Tree node is virtual, so it doesn't need to be drawn\n        var value = node.getValue();\n        var angle = sum === 0 && stillShowZeroSum ? unitRadian : value * unitRadian;\n\n        if (angle < minAngle) {\n          angle = minAngle; // restAngle -= minAngle;\n        } // else {\n        //     valueSumLargerThanMinAngle += value;\n        // }\n\n\n        endAngle = startAngle + dir * angle;\n        var depth = node.depth - rootDepth - (renderRollupNode ? -1 : 1);\n        var rStart = r0 + rPerLevel * depth;\n        var rEnd = r0 + rPerLevel * (depth + 1);\n        var itemModel = node.getModel(); // @ts-ignore. TODO this is not provided to developer yet. Rename it.\n\n        if (itemModel.get('r0') != null) {\n          // @ts-ignore\n          rStart = parsePercent(itemModel.get('r0'), size / 2);\n        } // @ts-ignore\n\n\n        if (itemModel.get('r') != null) {\n          // @ts-ignore\n          rEnd = parsePercent(itemModel.get('r'), size / 2);\n        }\n\n        node.setLayout({\n          angle: angle,\n          startAngle: startAngle,\n          endAngle: endAngle,\n          clockwise: clockwise,\n          cx: cx,\n          cy: cy,\n          r0: rStart,\n          r: rEnd\n        });\n      } // Render children\n\n\n      if (node.children && node.children.length) {\n        // currentAngle = startAngle;\n        var siblingAngle_1 = 0;\n        zrUtil.each(node.children, function (node) {\n          siblingAngle_1 += renderNode(node, startAngle + siblingAngle_1);\n        });\n      }\n\n      return endAngle - startAngle;\n    }; // Virtual root node for roll up\n\n\n    if (renderRollupNode) {\n      var rStart = r0;\n      var rEnd = r0 + rPerLevel;\n      var angle = Math.PI * 2;\n      virtualRoot.setLayout({\n        angle: angle,\n        startAngle: startAngle,\n        endAngle: startAngle + angle,\n        clockwise: clockwise,\n        cx: cx,\n        cy: cy,\n        r0: rStart,\n        r: rEnd\n      });\n    }\n\n    renderNode(treeRoot, startAngle);\n  });\n}\n/**\n * Init node children by order and update visual\n */\n\nfunction initChildren(node, sortOrder) {\n  var children = node.children || [];\n  node.children = sort(children, sortOrder); // Init children recursively\n\n  if (children.length) {\n    zrUtil.each(node.children, function (child) {\n      initChildren(child, sortOrder);\n    });\n  }\n}\n/**\n * Sort children nodes\n *\n * @param {TreeNode[]}               children children of node to be sorted\n * @param {string | function | null} sort sort method\n *                                   See SunburstSeries.js for details.\n */\n\n\nfunction sort(children, sortOrder) {\n  if (typeof sortOrder === 'function') {\n    var sortTargets = zrUtil.map(children, function (child, idx) {\n      var value = child.getValue();\n      return {\n        params: {\n          depth: child.depth,\n          height: child.height,\n          dataIndex: child.dataIndex,\n          getValue: function () {\n            return value;\n          }\n        },\n        index: idx\n      };\n    });\n    sortTargets.sort(function (a, b) {\n      return sortOrder(a.params, b.params);\n    });\n    return zrUtil.map(sortTargets, function (target) {\n      return children[target.index];\n    });\n  } else {\n    var isAsc_1 = sortOrder === 'asc';\n    return children.sort(function (a, b) {\n      var diff = (a.getValue() - b.getValue()) * (isAsc_1 ? 1 : -1);\n      return diff === 0 ? (a.dataIndex - b.dataIndex) * (isAsc_1 ? -1 : 1) : diff;\n    });\n  }\n}", "\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { extend } from 'zrender/lib/core/util';\nimport { lift } from 'zrender/lib/tool/color';\nexport default function sunburstVisual(ecModel) {\n  var paletteScope = {}; // Default color strategy\n\n  function pickColor(node, seriesModel, treeHeight) {\n    // Choose color from palette based on the first level.\n    var current = node;\n\n    while (current && current.depth > 1) {\n      current = current.parentNode;\n    }\n\n    var color = seriesModel.getColorFromPalette(current.name || current.dataIndex + '', paletteScope);\n\n    if (node.depth > 1 && typeof color === 'string') {\n      // Lighter on the deeper level.\n      color = lift(color, (node.depth - 1) / (treeHeight - 1) * 0.5);\n    }\n\n    return color;\n  }\n\n  ecModel.eachSeriesByType('sunburst', function (seriesModel) {\n    var data = seriesModel.getData();\n    var tree = data.tree;\n    tree.eachNode(function (node) {\n      var model = node.getModel();\n      var style = model.getModel('itemStyle').getItemStyle();\n\n      if (!style.fill) {\n        style.fill = pickColor(node, seriesModel, tree.root.height);\n      }\n\n      var existsStyle = data.ensureUniqueItemVisual(node.dataIndex, 'style');\n      extend(existsStyle, style);\n    });\n  });\n}", "\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport SunburstView from './SunburstView';\nimport SunburstSeriesModel from './SunburstSeries';\nimport sunburstLayout from './sunburstLayout';\nimport sunburstVisual from './sunburstVisual';\nimport dataFilter from '../../processor/dataFilter';\nimport { curry } from 'zrender/lib/core/util';\nimport { installSunburstAction } from './sunburstAction';\nexport function install(registers) {\n  registers.registerChartView(SunburstView);\n  registers.registerSeriesModel(SunburstSeriesModel);\n  registers.registerLayout(curry(sunburstLayout, 'sunburst'));\n  registers.registerProcessor(curry(dataFilter, 'sunburst'));\n  registers.registerVisual(sunburstVisual);\n  installSunburstAction(registers);\n}", "\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport * as zrUtil from 'zrender/lib/core/util';\n\nfunction dataToCoordSize(dataSize, dataItem) {\n  // dataItem is necessary in log axis.\n  dataItem = dataItem || [0, 0];\n  return zrUtil.map(['x', 'y'], function (dim, dimIdx) {\n    var axis = this.getAxis(dim);\n    var val = dataItem[dimIdx];\n    var halfSize = dataSize[dimIdx] / 2;\n    return axis.type === 'category' ? axis.getBandWidth() : Math.abs(axis.dataToCoord(val - halfSize) - axis.dataToCoord(val + halfSize));\n  }, this);\n}\n\nexport default function cartesianPrepareCustom(coordSys) {\n  var rect = coordSys.master.getRect();\n  return {\n    coordSys: {\n      // The name exposed to user is always 'cartesian2d' but not 'grid'.\n      type: 'cartesian2d',\n      x: rect.x,\n      y: rect.y,\n      width: rect.width,\n      height: rect.height\n    },\n    api: {\n      coord: function (data) {\n        // do not provide \"out\" param\n        return coordSys.dataToPoint(data);\n      },\n      size: zrUtil.bind(dataToCoordSize, coordSys)\n    }\n  };\n}", "\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport * as zrUtil from 'zrender/lib/core/util';\n\nfunction dataToCoordSize(dataSize, dataItem) {\n  dataItem = dataItem || [0, 0];\n  return zrUtil.map([0, 1], function (dimIdx) {\n    var val = dataItem[dimIdx];\n    var halfSize = dataSize[dimIdx] / 2;\n    var p1 = [];\n    var p2 = [];\n    p1[dimIdx] = val - halfSize;\n    p2[dimIdx] = val + halfSize;\n    p1[1 - dimIdx] = p2[1 - dimIdx] = dataItem[1 - dimIdx];\n    return Math.abs(this.dataToPoint(p1)[dimIdx] - this.dataToPoint(p2)[dimIdx]);\n  }, this);\n}\n\nexport default function geoPrepareCustom(coordSys) {\n  var rect = coordSys.getBoundingRect();\n  return {\n    coordSys: {\n      type: 'geo',\n      x: rect.x,\n      y: rect.y,\n      width: rect.width,\n      height: rect.height,\n      zoom: coordSys.getZoom()\n    },\n    api: {\n      coord: function (data) {\n        // do not provide \"out\" and noRoam param,\n        // Compatible with this usage:\n        // echarts.util.map(item.points, api.coord)\n        return coordSys.dataToPoint(data);\n      },\n      size: zrUtil.bind(dataToCoordSize, coordSys)\n    }\n  };\n}", "\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { bind } from 'zrender/lib/core/util';\n\nfunction dataToCoordSize(dataSize, dataItem) {\n  // dataItem is necessary in log axis.\n  var axis = this.getAxis();\n  var val = dataItem instanceof Array ? dataItem[0] : dataItem;\n  var halfSize = (dataSize instanceof Array ? dataSize[0] : dataSize) / 2;\n  return axis.type === 'category' ? axis.getBandWidth() : Math.abs(axis.dataToCoord(val - halfSize) - axis.dataToCoord(val + halfSize));\n}\n\nexport default function singlePrepareCustom(coordSys) {\n  var rect = coordSys.getRect();\n  return {\n    coordSys: {\n      type: 'singleAxis',\n      x: rect.x,\n      y: rect.y,\n      width: rect.width,\n      height: rect.height\n    },\n    api: {\n      coord: function (val) {\n        // do not provide \"out\" param\n        return coordSys.dataToPoint(val);\n      },\n      size: bind(dataToCoordSize, coordSys)\n    }\n  };\n}", "\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport * as zrUtil from 'zrender/lib/core/util'; // import AngleAxis from './AngleAxis';\n\nfunction dataToCoordSize(dataSize, dataItem) {\n  // dataItem is necessary in log axis.\n  dataItem = dataItem || [0, 0];\n  return zrUtil.map(['Radius', 'Angle'], function (dim, dimIdx) {\n    var getterName = 'get' + dim + 'Axis'; // TODO: TYPE Check Angle Axis\n\n    var axis = this[getterName]();\n    var val = dataItem[dimIdx];\n    var halfSize = dataSize[dimIdx] / 2;\n    var result = axis.type === 'category' ? axis.getBandWidth() : Math.abs(axis.dataToCoord(val - halfSize) - axis.dataToCoord(val + halfSize));\n\n    if (dim === 'Angle') {\n      result = result * Math.PI / 180;\n    }\n\n    return result;\n  }, this);\n}\n\nexport default function polarPrepareCustom(coordSys) {\n  var radiusAxis = coordSys.getRadiusAxis();\n  var angleAxis = coordSys.getAngleAxis();\n  var radius = radiusAxis.getExtent();\n  radius[0] > radius[1] && radius.reverse();\n  return {\n    coordSys: {\n      type: 'polar',\n      cx: coordSys.cx,\n      cy: coordSys.cy,\n      r: radius[1],\n      r0: radius[0]\n    },\n    api: {\n      coord: function (data) {\n        var radius = radiusAxis.dataToRadius(data[0]);\n        var angle = angleAxis.dataToAngle(data[1]);\n        var coord = coordSys.coordToPoint([radius, angle]);\n        coord.push(radius, angle * Math.PI / 180);\n        return coord;\n      },\n      size: zrUtil.bind(dataToCoordSize, coordSys)\n    }\n  };\n}", "\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nexport default function calendarPrepareCustom(coordSys) {\n  var rect = coordSys.getRect();\n  var rangeInfo = coordSys.getRangeInfo();\n  return {\n    coordSys: {\n      type: 'calendar',\n      x: rect.x,\n      y: rect.y,\n      width: rect.width,\n      height: rect.height,\n      cellWidth: coordSys.getCellWidth(),\n      cellHeight: coordSys.getCellHeight(),\n      rangeInfo: {\n        start: rangeInfo.start,\n        end: rangeInfo.end,\n        weeks: rangeInfo.weeks,\n        dayCount: rangeInfo.allDay\n      }\n    },\n    api: {\n      coord: function (data, clamp) {\n        return coordSys.dataToPoint(data, clamp);\n      }\n    }\n  };\n}", "import PathProxy from '../core/PathProxy';\nimport { cubicSubdivide } from '../core/curve';\nimport { defaults, assert, noop, clone } from '../core/util';\nimport { lerp } from '../core/vector';\nimport Rect from '../graphic/shape/Rect';\nimport Sector from '../graphic/shape/Sector';\nvar CMD = PathProxy.CMD;\nvar PI2 = Math.PI * 2;\nvar PROP_XY = ['x', 'y'];\nvar PROP_WH = ['width', 'height'];\nvar tmpArr = [];\nfunction aroundEqual(a, b) {\n    return Math.abs(a - b) < 1e-5;\n}\nexport function pathToBezierCurves(path) {\n    var data = path.data;\n    var len = path.len();\n    var bezierArray = [];\n    var currentSubpath;\n    var xi = 0;\n    var yi = 0;\n    var x0 = 0;\n    var y0 = 0;\n    function createNewSubpath(x, y) {\n        if (currentSubpath && currentSubpath.length > 2) {\n            bezierArray.push(currentSubpath);\n        }\n        currentSubpath = [x, y];\n    }\n    function addLine(x0, y0, x1, y1) {\n        if (!(aroundEqual(x0, x1) && aroundEqual(y0, y1))) {\n            currentSubpath.push(x0, y0, x1, y1, x1, y1);\n        }\n    }\n    function addArc(startAngle, endAngle, cx, cy, rx, ry) {\n        var delta = Math.abs(endAngle - startAngle);\n        var len = Math.tan(delta / 4) * 4 / 3;\n        var dir = endAngle < startAngle ? -1 : 1;\n        var c1 = Math.cos(startAngle);\n        var s1 = Math.sin(startAngle);\n        var c2 = Math.cos(endAngle);\n        var s2 = Math.sin(endAngle);\n        var x1 = c1 * rx + cx;\n        var y1 = s1 * ry + cy;\n        var x4 = c2 * rx + cx;\n        var y4 = s2 * ry + cy;\n        var hx = rx * len * dir;\n        var hy = ry * len * dir;\n        currentSubpath.push(x1 - hx * s1, y1 + hy * c1, x4 + hx * s2, y4 - hy * c2, x4, y4);\n    }\n    var x1;\n    var y1;\n    var x2;\n    var y2;\n    for (var i = 0; i < len;) {\n        var cmd = data[i++];\n        var isFirst = i === 1;\n        if (isFirst) {\n            xi = data[i];\n            yi = data[i + 1];\n            x0 = xi;\n            y0 = yi;\n            if (cmd === CMD.L || cmd === CMD.C || cmd === CMD.Q) {\n                currentSubpath = [x0, y0];\n            }\n        }\n        switch (cmd) {\n            case CMD.M:\n                xi = x0 = data[i++];\n                yi = y0 = data[i++];\n                createNewSubpath(x0, y0);\n                break;\n            case CMD.L:\n                x1 = data[i++];\n                y1 = data[i++];\n                addLine(xi, yi, x1, y1);\n                xi = x1;\n                yi = y1;\n                break;\n            case CMD.C:\n                currentSubpath.push(data[i++], data[i++], data[i++], data[i++], xi = data[i++], yi = data[i++]);\n                break;\n            case CMD.Q:\n                x1 = data[i++];\n                y1 = data[i++];\n                x2 = data[i++];\n                y2 = data[i++];\n                currentSubpath.push(xi + 2 / 3 * (x1 - xi), yi + 2 / 3 * (y1 - yi), x2 + 2 / 3 * (x1 - x2), y2 + 2 / 3 * (y1 - y2), x2, y2);\n                xi = x2;\n                yi = y2;\n                break;\n            case CMD.A:\n                var cx = data[i++];\n                var cy = data[i++];\n                var rx = data[i++];\n                var ry = data[i++];\n                var startAngle = data[i++];\n                var endAngle = data[i++] + startAngle;\n                i += 1;\n                var anticlockwise = !data[i++];\n                x1 = Math.cos(startAngle) * rx + cx;\n                y1 = Math.sin(startAngle) * ry + cy;\n                if (isFirst) {\n                    x0 = x1;\n                    y0 = y1;\n                    createNewSubpath(x0, y0);\n                }\n                else {\n                    addLine(xi, yi, x1, y1);\n                }\n                xi = Math.cos(endAngle) * rx + cx;\n                yi = Math.sin(endAngle) * ry + cy;\n                var step = (anticlockwise ? -1 : 1) * Math.PI / 2;\n                for (var angle = startAngle; anticlockwise ? angle > endAngle : angle < endAngle; angle += step) {\n                    var nextAngle = anticlockwise ? Math.max(angle + step, endAngle)\n                        : Math.min(angle + step, endAngle);\n                    addArc(angle, nextAngle, cx, cy, rx, ry);\n                }\n                break;\n            case CMD.R:\n                x0 = xi = data[i++];\n                y0 = yi = data[i++];\n                x1 = x0 + data[i++];\n                y1 = y0 + data[i++];\n                createNewSubpath(x1, y0);\n                addLine(x1, y0, x1, y1);\n                addLine(x1, y1, x0, y1);\n                addLine(x0, y1, x0, y0);\n                addLine(x0, y0, x1, y0);\n                break;\n            case CMD.Z:\n                currentSubpath && addLine(xi, yi, x0, y0);\n                xi = x0;\n                yi = y0;\n                break;\n        }\n    }\n    if (currentSubpath && currentSubpath.length > 2) {\n        bezierArray.push(currentSubpath);\n    }\n    return bezierArray;\n}\nfunction alignSubpath(subpath1, subpath2) {\n    var len1 = subpath1.length;\n    var len2 = subpath2.length;\n    if (len1 === len2) {\n        return [subpath1, subpath2];\n    }\n    var shorterPath = len1 < len2 ? subpath1 : subpath2;\n    var shorterLen = Math.min(len1, len2);\n    var diff = Math.abs(len2 - len1) / 6;\n    var shorterBezierCount = (shorterLen - 2) / 6;\n    var eachCurveSubDivCount = Math.ceil(diff / shorterBezierCount) + 1;\n    var newSubpath = [shorterPath[0], shorterPath[1]];\n    var remained = diff;\n    var tmpSegX = [];\n    var tmpSegY = [];\n    for (var i = 2; i < shorterLen;) {\n        var x0 = shorterPath[i - 2];\n        var y0 = shorterPath[i - 1];\n        var x1 = shorterPath[i++];\n        var y1 = shorterPath[i++];\n        var x2 = shorterPath[i++];\n        var y2 = shorterPath[i++];\n        var x3 = shorterPath[i++];\n        var y3 = shorterPath[i++];\n        if (remained <= 0) {\n            newSubpath.push(x1, y1, x2, y2, x3, y3);\n            continue;\n        }\n        var actualSubDivCount = Math.min(remained, eachCurveSubDivCount - 1) + 1;\n        for (var k = 1; k <= actualSubDivCount; k++) {\n            var p = k / actualSubDivCount;\n            cubicSubdivide(x0, x1, x2, x3, p, tmpSegX);\n            cubicSubdivide(y0, y1, y2, y3, p, tmpSegY);\n            x0 = tmpSegX[3];\n            y0 = tmpSegY[3];\n            newSubpath.push(tmpSegX[1], tmpSegY[1], tmpSegX[2], tmpSegY[2], x0, y0);\n            x1 = tmpSegX[5];\n            y1 = tmpSegY[5];\n            x2 = tmpSegX[6];\n            y2 = tmpSegY[6];\n        }\n        remained -= actualSubDivCount - 1;\n    }\n    return shorterPath === subpath1 ? [newSubpath, subpath2] : [subpath1, newSubpath];\n}\nfunction createSubpath(lastSubpathSubpath, otherSubpath) {\n    var len = lastSubpathSubpath.length;\n    var lastX = lastSubpathSubpath[len - 2];\n    var lastY = lastSubpathSubpath[len - 1];\n    var newSubpath = [];\n    for (var i = 0; i < otherSubpath.length;) {\n        newSubpath[i++] = lastX;\n        newSubpath[i++] = lastY;\n    }\n    return newSubpath;\n}\nexport function alignBezierCurves(array1, array2) {\n    var _a;\n    var lastSubpath1;\n    var lastSubpath2;\n    var newArray1 = [];\n    var newArray2 = [];\n    for (var i = 0; i < Math.max(array1.length, array2.length); i++) {\n        var subpath1 = array1[i];\n        var subpath2 = array2[i];\n        var newSubpath1 = void 0;\n        var newSubpath2 = void 0;\n        if (!subpath1) {\n            newSubpath1 = createSubpath(lastSubpath1 || subpath2, subpath2);\n            newSubpath2 = subpath2;\n        }\n        else if (!subpath2) {\n            newSubpath2 = createSubpath(lastSubpath2 || subpath1, subpath1);\n            newSubpath1 = subpath1;\n        }\n        else {\n            _a = alignSubpath(subpath1, subpath2), newSubpath1 = _a[0], newSubpath2 = _a[1];\n            lastSubpath1 = newSubpath1;\n            lastSubpath2 = newSubpath2;\n        }\n        newArray1.push(newSubpath1);\n        newArray2.push(newSubpath2);\n    }\n    return [newArray1, newArray2];\n}\nexport function centroid(array) {\n    var signedArea = 0;\n    var cx = 0;\n    var cy = 0;\n    var len = array.length;\n    for (var i = 0, j = len - 2; i < len; j = i, i += 2) {\n        var x0 = array[j];\n        var y0 = array[j + 1];\n        var x1 = array[i];\n        var y1 = array[i + 1];\n        var a = x0 * y1 - x1 * y0;\n        signedArea += a;\n        cx += (x0 + x1) * a;\n        cy += (y0 + y1) * a;\n    }\n    if (signedArea === 0) {\n        return [array[0] || 0, array[1] || 0];\n    }\n    return [cx / signedArea / 3, cy / signedArea / 3, signedArea];\n}\nfunction findBestRingOffset(fromSubBeziers, toSubBeziers, fromCp, toCp) {\n    var bezierCount = (fromSubBeziers.length - 2) / 6;\n    var bestScore = Infinity;\n    var bestOffset = 0;\n    var len = fromSubBeziers.length;\n    var len2 = len - 2;\n    for (var offset = 0; offset < bezierCount; offset++) {\n        var cursorOffset = offset * 6;\n        var score = 0;\n        for (var k = 0; k < len; k += 2) {\n            var idx = k === 0 ? cursorOffset : ((cursorOffset + k - 2) % len2 + 2);\n            var x0 = fromSubBeziers[idx] - fromCp[0];\n            var y0 = fromSubBeziers[idx + 1] - fromCp[1];\n            var x1 = toSubBeziers[k] - toCp[0];\n            var y1 = toSubBeziers[k + 1] - toCp[1];\n            var dx = x1 - x0;\n            var dy = y1 - y0;\n            score += dx * dx + dy * dy;\n        }\n        if (score < bestScore) {\n            bestScore = score;\n            bestOffset = offset;\n        }\n    }\n    return bestOffset;\n}\nfunction reverse(array) {\n    var newArr = [];\n    var len = array.length;\n    for (var i = 0; i < len; i += 2) {\n        newArr[i] = array[len - i - 2];\n        newArr[i + 1] = array[len - i - 1];\n    }\n    return newArr;\n}\nfunction findBestMorphingRotation(fromArr, toArr, searchAngleIteration, searchAngleRange) {\n    var result = [];\n    var fromNeedsReverse;\n    for (var i = 0; i < fromArr.length; i++) {\n        var fromSubpathBezier = fromArr[i];\n        var toSubpathBezier = toArr[i];\n        var fromCp = centroid(fromSubpathBezier);\n        var toCp = centroid(toSubpathBezier);\n        if (fromNeedsReverse == null) {\n            fromNeedsReverse = fromCp[2] < 0 !== toCp[2] < 0;\n        }\n        var newFromSubpathBezier = [];\n        var newToSubpathBezier = [];\n        var bestAngle = 0;\n        var bestScore = Infinity;\n        var tmpArr_1 = [];\n        var len = fromSubpathBezier.length;\n        if (fromNeedsReverse) {\n            fromSubpathBezier = reverse(fromSubpathBezier);\n        }\n        var offset = findBestRingOffset(fromSubpathBezier, toSubpathBezier, fromCp, toCp) * 6;\n        var len2 = len - 2;\n        for (var k = 0; k < len2; k += 2) {\n            var idx = (offset + k) % len2 + 2;\n            newFromSubpathBezier[k + 2] = fromSubpathBezier[idx] - fromCp[0];\n            newFromSubpathBezier[k + 3] = fromSubpathBezier[idx + 1] - fromCp[1];\n        }\n        newFromSubpathBezier[0] = fromSubpathBezier[offset] - fromCp[0];\n        newFromSubpathBezier[1] = fromSubpathBezier[offset + 1] - fromCp[1];\n        if (searchAngleIteration > 0) {\n            var step = searchAngleRange / searchAngleIteration;\n            for (var angle = -searchAngleRange / 2; angle <= searchAngleRange / 2; angle += step) {\n                var sa = Math.sin(angle);\n                var ca = Math.cos(angle);\n                var score = 0;\n                for (var k = 0; k < fromSubpathBezier.length; k += 2) {\n                    var x0 = newFromSubpathBezier[k];\n                    var y0 = newFromSubpathBezier[k + 1];\n                    var x1 = toSubpathBezier[k] - toCp[0];\n                    var y1 = toSubpathBezier[k + 1] - toCp[1];\n                    var newX1 = x1 * ca - y1 * sa;\n                    var newY1 = x1 * sa + y1 * ca;\n                    tmpArr_1[k] = newX1;\n                    tmpArr_1[k + 1] = newY1;\n                    var dx = newX1 - x0;\n                    var dy = newY1 - y0;\n                    score += dx * dx + dy * dy;\n                }\n                if (score < bestScore) {\n                    bestScore = score;\n                    bestAngle = angle;\n                    for (var m = 0; m < tmpArr_1.length; m++) {\n                        newToSubpathBezier[m] = tmpArr_1[m];\n                    }\n                }\n            }\n        }\n        else {\n            for (var i_1 = 0; i_1 < len; i_1 += 2) {\n                newToSubpathBezier[i_1] = toSubpathBezier[i_1] - toCp[0];\n                newToSubpathBezier[i_1 + 1] = toSubpathBezier[i_1 + 1] - toCp[1];\n            }\n        }\n        result.push({\n            from: newFromSubpathBezier,\n            to: newToSubpathBezier,\n            fromCp: fromCp,\n            toCp: toCp,\n            rotation: -bestAngle\n        });\n    }\n    return result;\n}\nexport function morphPath(fromPath, toPath, animationOpts) {\n    var fromPathProxy;\n    var toPathProxy;\n    if (!fromPath || !toPath) {\n        return toPath;\n    }\n    !fromPath.path && fromPath.createPathProxy();\n    fromPathProxy = fromPath.path;\n    fromPathProxy.beginPath();\n    fromPath.buildPath(fromPathProxy, fromPath.shape);\n    !toPath.path && toPath.createPathProxy();\n    toPathProxy = toPath.path;\n    toPathProxy === fromPathProxy && (toPathProxy = new PathProxy(false));\n    toPathProxy.beginPath();\n    if (isIndividualMorphingPath(toPath)) {\n        toPath.__oldBuildPath(toPathProxy, toPath.shape);\n    }\n    else {\n        toPath.buildPath(toPathProxy, toPath.shape);\n    }\n    var _a = alignBezierCurves(pathToBezierCurves(fromPathProxy), pathToBezierCurves(toPathProxy)), fromBezierCurves = _a[0], toBezierCurves = _a[1];\n    var morphingData = findBestMorphingRotation(fromBezierCurves, toBezierCurves, 10, Math.PI);\n    becomeIndividualMorphingPath(toPath, morphingData, 0);\n    var oldDone = animationOpts && animationOpts.done;\n    var oldAborted = animationOpts && animationOpts.aborted;\n    var oldDuring = animationOpts && animationOpts.during;\n    toPath.animateTo({\n        __morphT: 1\n    }, defaults({\n        during: function (p) {\n            toPath.dirtyShape();\n            oldDuring && oldDuring(p);\n        },\n        done: function () {\n            restoreIndividualMorphingPath(toPath);\n            toPath.createPathProxy();\n            toPath.dirtyShape();\n            oldDone && oldDone();\n        },\n        aborted: function () {\n            oldAborted && oldAborted();\n        }\n    }, animationOpts));\n    return toPath;\n}\nfunction morphingPathBuildPath(path) {\n    var morphingData = this.__morphingData;\n    var t = this.__morphT;\n    var onet = 1 - t;\n    var newCp = [];\n    for (var i = 0; i < morphingData.length; i++) {\n        var item = morphingData[i];\n        var from = item.from;\n        var to = item.to;\n        var angle = item.rotation * t;\n        var fromCp = item.fromCp;\n        var toCp = item.toCp;\n        var sa = Math.sin(angle);\n        var ca = Math.cos(angle);\n        lerp(newCp, fromCp, toCp, t);\n        for (var m = 0; m < from.length; m += 2) {\n            var x0 = from[m];\n            var y0 = from[m + 1];\n            var x1 = to[m];\n            var y1 = to[m + 1];\n            var x = x0 * onet + x1 * t;\n            var y = y0 * onet + y1 * t;\n            tmpArr[m] = (x * ca - y * sa) + newCp[0];\n            tmpArr[m + 1] = (x * sa + y * ca) + newCp[1];\n        }\n        for (var m = 0; m < from.length;) {\n            if (m === 0) {\n                path.moveTo(tmpArr[m++], tmpArr[m++]);\n            }\n            path.bezierCurveTo(tmpArr[m++], tmpArr[m++], tmpArr[m++], tmpArr[m++], tmpArr[m++], tmpArr[m++]);\n        }\n    }\n}\n;\nfunction becomeIndividualMorphingPath(path, morphingData, morphT) {\n    if (isIndividualMorphingPath(path)) {\n        updateIndividualMorphingPath(path, morphingData, morphT);\n        return;\n    }\n    var morphingPath = path;\n    morphingPath.__oldBuildPath = morphingPath.buildPath;\n    morphingPath.buildPath = morphingPathBuildPath;\n    updateIndividualMorphingPath(morphingPath, morphingData, morphT);\n}\nfunction updateIndividualMorphingPath(morphingPath, morphingData, morphT) {\n    morphingPath.__morphingData = morphingData;\n    morphingPath.__morphT = morphT;\n}\nfunction restoreIndividualMorphingPath(path) {\n    if (isIndividualMorphingPath(path)) {\n        path.buildPath = path.__oldBuildPath;\n        path.__oldBuildPath = path.__morphingData = null;\n    }\n}\nfunction isIndividualMorphingPath(path) {\n    return path.__oldBuildPath != null;\n}\nexport function isCombiningPath(path) {\n    return !!path.__combiningSubList;\n}\nexport function isInAnyMorphing(path) {\n    return isIndividualMorphingPath(path) || isCombiningPath(path);\n}\nexport function combine(fromPathList, toPath, animationOpts, copyPropsIfDivided) {\n    var fromIndividuals = [];\n    var separateCount = 0;\n    for (var i = 0; i < fromPathList.length; i++) {\n        var fromPath = fromPathList[i];\n        if (isCombiningPath(fromPath)) {\n            var fromCombiningSubList = fromPath.__combiningSubList;\n            for (var j = 0; j < fromCombiningSubList.length; j++) {\n                fromIndividuals.push(fromCombiningSubList[j]);\n            }\n            separateCount += fromCombiningSubList.length;\n        }\n        else {\n            fromIndividuals.push(fromPath);\n            separateCount++;\n        }\n    }\n    if (!separateCount) {\n        return;\n    }\n    var dividingMethod = animationOpts ? animationOpts.dividingMethod : null;\n    var toPathSplittedList = divideShape(toPath, separateCount, dividingMethod);\n    assert(toPathSplittedList.length === separateCount);\n    var oldDone = animationOpts && animationOpts.done;\n    var oldAborted = animationOpts && animationOpts.aborted;\n    var oldDuring = animationOpts && animationOpts.during;\n    var doneCount = 0;\n    var abortedCalled = false;\n    var morphAnimationOpts = defaults({\n        during: function (p) {\n            oldDuring && oldDuring(p);\n        },\n        done: function () {\n            doneCount++;\n            if (doneCount === toPathSplittedList.length) {\n                restoreCombiningPath(toPath);\n                oldDone && oldDone();\n            }\n        },\n        aborted: function () {\n            if (!abortedCalled) {\n                abortedCalled = true;\n                oldAborted && oldAborted();\n            }\n        }\n    }, animationOpts);\n    for (var i = 0; i < separateCount; i++) {\n        var from = fromIndividuals[i];\n        var to = toPathSplittedList[i];\n        copyPropsIfDivided && copyPropsIfDivided(toPath, to, true);\n        morphPath(from, to, morphAnimationOpts);\n    }\n    becomeCombiningPath(toPath, toPathSplittedList);\n    return {\n        fromIndividuals: fromIndividuals,\n        toIndividuals: toPathSplittedList,\n        count: separateCount\n    };\n}\nfunction becomeCombiningPath(path, combiningSubList) {\n    if (isCombiningPath(path)) {\n        updateCombiningPathSubList(path, combiningSubList);\n        return;\n    }\n    var combiningPath = path;\n    updateCombiningPathSubList(combiningPath, combiningSubList);\n    combiningPath.__oldAddSelfToZr = path.addSelfToZr;\n    combiningPath.__oldRemoveSelfFromZr = path.removeSelfFromZr;\n    combiningPath.addSelfToZr = combiningAddSelfToZr;\n    combiningPath.removeSelfFromZr = combiningRemoveSelfFromZr;\n    combiningPath.__oldBuildPath = combiningPath.buildPath;\n    combiningPath.buildPath = noop;\n    combiningPath.childrenRef = combiningChildrenRef;\n}\nfunction restoreCombiningPath(path) {\n    if (!isCombiningPath(path)) {\n        return;\n    }\n    var combiningPath = path;\n    updateCombiningPathSubList(combiningPath, null);\n    combiningPath.addSelfToZr = combiningPath.__oldAddSelfToZr;\n    combiningPath.removeSelfFromZr = combiningPath.__oldRemoveSelfFromZr;\n    combiningPath.buildPath = combiningPath.__oldBuildPath;\n    combiningPath.childrenRef =\n        combiningPath.__combiningSubList =\n            combiningPath.__oldAddSelfToZr =\n                combiningPath.__oldRemoveSelfFromZr =\n                    combiningPath.__oldBuildPath = null;\n}\nfunction updateCombiningPathSubList(combiningPath, combiningSubList) {\n    if (combiningPath.__combiningSubList !== combiningSubList) {\n        combiningPathSubListAddRemoveWithZr(combiningPath, 'removeSelfFromZr');\n        combiningPath.__combiningSubList = combiningSubList;\n        if (combiningSubList) {\n            for (var i = 0; i < combiningSubList.length; i++) {\n                combiningSubList[i].parent = combiningPath;\n            }\n        }\n        combiningPathSubListAddRemoveWithZr(combiningPath, 'addSelfToZr');\n    }\n}\nfunction combiningAddSelfToZr(zr) {\n    this.__oldAddSelfToZr(zr);\n    combiningPathSubListAddRemoveWithZr(this, 'addSelfToZr');\n}\nfunction combiningPathSubListAddRemoveWithZr(path, method) {\n    var combiningSubList = path.__combiningSubList;\n    var zr = path.__zr;\n    if (combiningSubList && zr) {\n        for (var i = 0; i < combiningSubList.length; i++) {\n            var child = combiningSubList[i];\n            child[method](zr);\n        }\n    }\n}\nfunction combiningRemoveSelfFromZr(zr) {\n    this.__oldRemoveSelfFromZr(zr);\n    var combiningSubList = this.__combiningSubList;\n    for (var i = 0; i < combiningSubList.length; i++) {\n        var child = combiningSubList[i];\n        child.removeSelfFromZr(zr);\n    }\n}\nfunction combiningChildrenRef() {\n    return this.__combiningSubList;\n}\nexport function separate(fromPath, toPathList, animationOpts, copyPropsIfDivided) {\n    var toPathListLen = toPathList.length;\n    var fromPathList;\n    var dividingMethod = animationOpts ? animationOpts.dividingMethod : null;\n    var copyProps = false;\n    if (isCombiningPath(fromPath)) {\n        var fromCombiningSubList = fromPath.__combiningSubList;\n        if (fromCombiningSubList.length === toPathListLen) {\n            fromPathList = fromCombiningSubList;\n        }\n        else {\n            fromPathList = divideShape(fromPath, toPathListLen, dividingMethod);\n            copyProps = true;\n        }\n    }\n    else {\n        fromPathList = divideShape(fromPath, toPathListLen, dividingMethod);\n        copyProps = true;\n    }\n    assert(fromPathList.length === toPathListLen);\n    for (var i = 0; i < toPathListLen; i++) {\n        if (copyProps && copyPropsIfDivided) {\n            copyPropsIfDivided(fromPath, fromPathList[i], false);\n        }\n        morphPath(fromPathList[i], toPathList[i], animationOpts);\n    }\n    return {\n        fromIndividuals: fromPathList,\n        toIndividuals: toPathList,\n        count: toPathListLen\n    };\n}\nfunction divideShape(path, separateCount, dividingMethod) {\n    return dividingMethod === 'duplicate'\n        ? duplicateShape(path, separateCount)\n        : splitShape(path, separateCount);\n}\nfunction splitShape(path, separateCount) {\n    var resultPaths = [];\n    if (separateCount <= 0) {\n        return resultPaths;\n    }\n    if (separateCount === 1) {\n        return duplicateShape(path, separateCount);\n    }\n    if (path instanceof Rect) {\n        var toPathShape = path.shape;\n        var splitPropIdx = toPathShape.height > toPathShape.width ? 1 : 0;\n        var propWH = PROP_WH[splitPropIdx];\n        var propXY = PROP_XY[splitPropIdx];\n        var subWH = toPathShape[propWH] / separateCount;\n        var xyCurr = toPathShape[propXY];\n        for (var i = 0; i < separateCount; i++, xyCurr += subWH) {\n            var subShape = {\n                x: toPathShape.x,\n                y: toPathShape.y,\n                width: toPathShape.width,\n                height: toPathShape.height\n            };\n            subShape[propXY] = xyCurr;\n            subShape[propWH] = i < separateCount - 1\n                ? subWH\n                : toPathShape[propXY] + toPathShape[propWH] - xyCurr;\n            var splitted = new Rect({ shape: subShape });\n            resultPaths.push(splitted);\n        }\n    }\n    else if (path instanceof Sector) {\n        var toPathShape = path.shape;\n        var clockwise = toPathShape.clockwise;\n        var startAngle = toPathShape.startAngle;\n        var endAngle = toPathShape.endAngle;\n        var endAngleNormalized = normalizeRadian(startAngle, toPathShape.endAngle, clockwise);\n        var step = (endAngleNormalized - startAngle) / separateCount;\n        var angleCurr = startAngle;\n        for (var i = 0; i < separateCount; i++, angleCurr += step) {\n            var splitted = new Sector({\n                shape: {\n                    cx: toPathShape.cx,\n                    cy: toPathShape.cy,\n                    r: toPathShape.r,\n                    r0: toPathShape.r0,\n                    clockwise: clockwise,\n                    startAngle: angleCurr,\n                    endAngle: i === separateCount - 1 ? endAngle : angleCurr + step\n                }\n            });\n            resultPaths.push(splitted);\n        }\n    }\n    else {\n        return duplicateShape(path, separateCount);\n    }\n    return resultPaths;\n}\nfunction duplicateShape(path, separateCount) {\n    var resultPaths = [];\n    if (separateCount <= 0) {\n        return resultPaths;\n    }\n    var ctor = path.constructor;\n    for (var i = 0; i < separateCount; i++) {\n        var sub = new ctor({\n            shape: clone(path.shape)\n        });\n        resultPaths.push(sub);\n    }\n    return resultPaths;\n}\nfunction normalizeRadian(start, end, clockwise) {\n    return end + PI2 * (Math[clockwise ? 'ceil' : 'floor']((start - end) / PI2));\n}\n", "\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { __extends } from \"tslib\";\nimport { hasOwn, assert, isString, retrieve2, retrieve3, defaults, each, keys, isArrayLike, bind, isFunction, eqNaN, indexOf, clone } from 'zrender/lib/core/util';\nimport * as graphicUtil from '../../util/graphic';\nimport { setDefaultStateProxy, enableHoverEmphasis } from '../../util/states';\nimport * as labelStyleHelper from '../../label/labelStyle';\nimport { getDefaultLabel } from '../helper/labelHelper';\nimport createListFromArray from '../helper/createListFromArray';\nimport { getLayoutOnAxis } from '../../layout/barGrid';\nimport DataDiffer from '../../data/DataDiffer';\nimport SeriesModel from '../../model/Series';\nimport ChartView from '../../view/Chart';\nimport { createClipPath } from '../helper/createClipPathFromCoordSys';\nimport prepareCartesian2d from '../../coord/cartesian/prepareCustom';\nimport prepareGeo from '../../coord/geo/prepareCustom';\nimport prepareSingleAxis from '../../coord/single/prepareCustom';\nimport preparePolar from '../../coord/polar/prepareCustom';\nimport prepareCalendar from '../../coord/calendar/prepareCustom';\nimport { makeInner, normalizeToArray } from '../../util/model';\nimport { convertToEC4StyleForCustomSerise, isEC4CompatibleStyle, convertFromEC4CompatibleStyle, warnDeprecated } from '../../util/styleCompat';\nimport Transformable from 'zrender/lib/core/Transformable';\nimport { cloneValue } from 'zrender/lib/animation/Animator';\nimport { warn, throwError } from '../../util/log';\nimport { combine, isInAnyMorphing, morphPath, isCombiningPath, separate } from 'zrender/lib/tool/morphPath';\nimport * as matrix from 'zrender/lib/core/matrix';\nimport { createOrUpdatePatternFromDecal } from '../../util/decal';\nvar inner = makeInner();\nvar TRANSFORM_PROPS = {\n  x: 1,\n  y: 1,\n  scaleX: 1,\n  scaleY: 1,\n  originX: 1,\n  originY: 1,\n  rotation: 1\n};\nvar transformPropNamesStr = keys(TRANSFORM_PROPS).join(', ');\n; // Also compat with ec4, where\n// `visual('color') visual('borderColor')` is supported.\n\nvar STYLE_VISUAL_TYPE = {\n  color: 'fill',\n  borderColor: 'stroke'\n};\nvar NON_STYLE_VISUAL_PROPS = {\n  symbol: 1,\n  symbolSize: 1,\n  symbolKeepAspect: 1,\n  legendIcon: 1,\n  visualMeta: 1,\n  liftZ: 1,\n  decal: 1\n};\nvar EMPHASIS = 'emphasis';\nvar NORMAL = 'normal';\nvar BLUR = 'blur';\nvar SELECT = 'select';\nvar STATES = [NORMAL, EMPHASIS, BLUR, SELECT];\nvar PATH_ITEM_STYLE = {\n  normal: ['itemStyle'],\n  emphasis: [EMPHASIS, 'itemStyle'],\n  blur: [BLUR, 'itemStyle'],\n  select: [SELECT, 'itemStyle']\n};\nvar PATH_LABEL = {\n  normal: ['label'],\n  emphasis: [EMPHASIS, 'label'],\n  blur: [BLUR, 'label'],\n  select: [SELECT, 'label']\n}; // Use prefix to avoid index to be the same as el.name,\n// which will cause weird update animation.\n\nvar GROUP_DIFF_PREFIX = 'e\\0\\0';\nvar attachedTxInfoTmp = {\n  normal: {},\n  emphasis: {},\n  blur: {},\n  select: {}\n};\nvar LEGACY_TRANSFORM_PROPS = {\n  position: ['x', 'y'],\n  scale: ['scaleX', 'scaleY'],\n  origin: ['originX', 'originY']\n};\nvar tmpTransformable = new Transformable();\n/**\n * To reduce total package size of each coordinate systems, the modules `prepareCustom`\n * of each coordinate systems are not required by each coordinate systems directly, but\n * required by the module `custom`.\n *\n * prepareInfoForCustomSeries {Function}: optional\n *     @return {Object} {coordSys: {...}, api: {\n *         coord: function (data, clamp) {}, // return point in global.\n *         size: function (dataSize, dataItem) {} // return size of each axis in coordSys.\n *     }}\n */\n\nvar prepareCustoms = {\n  cartesian2d: prepareCartesian2d,\n  geo: prepareGeo,\n  singleAxis: prepareSingleAxis,\n  polar: preparePolar,\n  calendar: prepareCalendar\n};\n\nvar CustomSeriesModel =\n/** @class */\nfunction (_super) {\n  __extends(CustomSeriesModel, _super);\n\n  function CustomSeriesModel() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n\n    _this.type = CustomSeriesModel.type;\n    return _this;\n  }\n\n  CustomSeriesModel.prototype.optionUpdated = function () {\n    this.currentZLevel = this.get('zlevel', true);\n    this.currentZ = this.get('z', true);\n  };\n\n  CustomSeriesModel.prototype.getInitialData = function (option, ecModel) {\n    return createListFromArray(this.getSource(), this);\n  };\n\n  CustomSeriesModel.prototype.getDataParams = function (dataIndex, dataType, el) {\n    var params = _super.prototype.getDataParams.call(this, dataIndex, dataType);\n\n    el && (params.info = inner(el).info);\n    return params;\n  };\n\n  CustomSeriesModel.type = 'series.custom';\n  CustomSeriesModel.dependencies = ['grid', 'polar', 'geo', 'singleAxis', 'calendar'];\n  CustomSeriesModel.defaultOption = {\n    coordinateSystem: 'cartesian2d',\n    zlevel: 0,\n    z: 2,\n    legendHoverLink: true,\n    // Custom series will not clip by default.\n    // Some case will use custom series to draw label\n    // For example https://echarts.apache.org/examples/en/editor.html?c=custom-gantt-flight\n    clip: false // Cartesian coordinate system\n    // xAxisIndex: 0,\n    // yAxisIndex: 0,\n    // Polar coordinate system\n    // polarIndex: 0,\n    // Geo coordinate system\n    // geoIndex: 0,\n\n  };\n  return CustomSeriesModel;\n}(SeriesModel);\n\nvar CustomSeriesView =\n/** @class */\nfunction (_super) {\n  __extends(CustomSeriesView, _super);\n\n  function CustomSeriesView() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n\n    _this.type = CustomSeriesView.type;\n    return _this;\n  }\n\n  CustomSeriesView.prototype.render = function (customSeries, ecModel, api, payload) {\n    var oldData = this._data;\n    var data = customSeries.getData();\n    var group = this.group;\n    var renderItem = makeRenderItem(customSeries, data, ecModel, api);\n\n    if (!oldData) {\n      // Previous render is incremental render or first render.\n      // Needs remove the incremental rendered elements.\n      group.removeAll();\n    } // By default, merge mode is applied. In most cases, custom series is\n    // used in the scenario that data amount is not large but graphic elements\n    // is complicated, where merge mode is probably necessary for optimization.\n    // For example, reuse graphic elements and only update the transform when\n    // roam or data zoom according to `actionType`.\n\n\n    var transOpt = customSeries.__transientTransitionOpt; // Enable user to disable transition animation by both set\n    // `from` and `to` dimension as `null`/`undefined`.\n\n    if (transOpt && (transOpt.from == null || transOpt.to == null)) {\n      oldData && oldData.each(function (oldIdx) {\n        doRemoveEl(oldData.getItemGraphicEl(oldIdx), customSeries, group);\n      });\n      data.each(function (newIdx) {\n        createOrUpdateItem(api, null, newIdx, renderItem(newIdx, payload), customSeries, group, data, null);\n      });\n    } else {\n      var morphPreparation_1 = new MorphPreparation(customSeries, transOpt);\n      var diffMode = transOpt ? 'multiple' : 'oneToOne';\n      new DataDiffer(oldData ? oldData.getIndices() : [], data.getIndices(), createGetKey(oldData, diffMode, transOpt && transOpt.from), createGetKey(data, diffMode, transOpt && transOpt.to), null, diffMode).add(function (newIdx) {\n        createOrUpdateItem(api, null, newIdx, renderItem(newIdx, payload), customSeries, group, data, null);\n      }).remove(function (oldIdx) {\n        doRemoveEl(oldData.getItemGraphicEl(oldIdx), customSeries, group);\n      }).update(function (newIdx, oldIdx) {\n        morphPreparation_1.reset('oneToOne');\n        var oldEl = oldData.getItemGraphicEl(oldIdx);\n        morphPreparation_1.findAndAddFrom(oldEl); // PENDING:\n        // if may morph, currently we alway recreate the whole el.\n        // because if reuse some of the el in the group tree, the old el has to\n        // be removed from the group, and consequently we can not calculate\n        // the \"global transition\" of the old element.\n        // But is there performance issue?\n\n        if (morphPreparation_1.hasFrom()) {\n          removeElementDirectly(oldEl, group);\n          oldEl = null;\n        }\n\n        createOrUpdateItem(api, oldEl, newIdx, renderItem(newIdx, payload), customSeries, group, data, morphPreparation_1);\n        morphPreparation_1.applyMorphing();\n      }).updateManyToOne(function (newIdx, oldIndices) {\n        morphPreparation_1.reset('manyToOne');\n\n        for (var i = 0; i < oldIndices.length; i++) {\n          var oldEl = oldData.getItemGraphicEl(oldIndices[i]);\n          morphPreparation_1.findAndAddFrom(oldEl);\n          removeElementDirectly(oldEl, group);\n        }\n\n        createOrUpdateItem(api, null, newIdx, renderItem(newIdx, payload), customSeries, group, data, morphPreparation_1);\n        morphPreparation_1.applyMorphing();\n      }).updateOneToMany(function (newIndices, oldIdx) {\n        morphPreparation_1.reset('oneToMany');\n        var newLen = newIndices.length;\n        var oldEl = oldData.getItemGraphicEl(oldIdx);\n        morphPreparation_1.findAndAddFrom(oldEl);\n        removeElementDirectly(oldEl, group);\n\n        for (var i = 0; i < newLen; i++) {\n          createOrUpdateItem(api, null, newIndices[i], renderItem(newIndices[i], payload), customSeries, group, data, morphPreparation_1);\n        }\n\n        morphPreparation_1.applyMorphing();\n      }).execute();\n    } // Do clipping\n\n\n    var clipPath = customSeries.get('clip', true) ? createClipPath(customSeries.coordinateSystem, false, customSeries) : null;\n\n    if (clipPath) {\n      group.setClipPath(clipPath);\n    } else {\n      group.removeClipPath();\n    }\n\n    this._data = data;\n  };\n\n  CustomSeriesView.prototype.incrementalPrepareRender = function (customSeries, ecModel, api) {\n    this.group.removeAll();\n    this._data = null;\n  };\n\n  CustomSeriesView.prototype.incrementalRender = function (params, customSeries, ecModel, api, payload) {\n    var data = customSeries.getData();\n    var renderItem = makeRenderItem(customSeries, data, ecModel, api);\n\n    function setIncrementalAndHoverLayer(el) {\n      if (!el.isGroup) {\n        el.incremental = true;\n        el.ensureState('emphasis').hoverLayer = true;\n      }\n    }\n\n    for (var idx = params.start; idx < params.end; idx++) {\n      var el = createOrUpdateItem(null, null, idx, renderItem(idx, payload), customSeries, this.group, data, null);\n      el && el.traverse(setIncrementalAndHoverLayer);\n    }\n  };\n\n  CustomSeriesView.prototype.filterForExposedEvent = function (eventType, query, targetEl, packedEvent) {\n    var elementName = query.element;\n\n    if (elementName == null || targetEl.name === elementName) {\n      return true;\n    } // Enable to give a name on a group made by `renderItem`, and listen\n    // events that triggerd by its descendents.\n\n\n    while ((targetEl = targetEl.__hostTarget || targetEl.parent) && targetEl !== this.group) {\n      if (targetEl.name === elementName) {\n        return true;\n      }\n    }\n\n    return false;\n  };\n\n  CustomSeriesView.type = 'custom';\n  return CustomSeriesView;\n}(ChartView);\n\nfunction createGetKey(data, diffMode, dimension) {\n  if (!data) {\n    return;\n  }\n\n  if (diffMode === 'oneToOne') {\n    return function (rawIdx, dataIndex) {\n      return data.getId(dataIndex);\n    };\n  }\n\n  var diffByDimName = data.getDimension(dimension);\n  var dimInfo = data.getDimensionInfo(diffByDimName);\n\n  if (!dimInfo) {\n    var errMsg = '';\n\n    if (process.env.NODE_ENV !== 'production') {\n      errMsg = dimension + \" is not a valid dimension.\";\n    }\n\n    throwError(errMsg);\n  }\n\n  var ordinalMeta = dimInfo.ordinalMeta;\n  return function (rawIdx, dataIndex) {\n    var key = data.get(diffByDimName, dataIndex);\n\n    if (ordinalMeta) {\n      key = ordinalMeta.categories[key];\n    }\n\n    return key == null || eqNaN(key) ? rawIdx + '' : '_ec_' + key;\n  };\n}\n\nfunction createEl(elOption) {\n  var graphicType = elOption.type;\n  var el; // Those graphic elements are not shapes. They should not be\n  // overwritten by users, so do them first.\n\n  if (graphicType === 'path') {\n    var shape = elOption.shape; // Using pathRect brings convenience to users sacle svg path.\n\n    var pathRect = shape.width != null && shape.height != null ? {\n      x: shape.x || 0,\n      y: shape.y || 0,\n      width: shape.width,\n      height: shape.height\n    } : null;\n    var pathData = getPathData(shape); // Path is also used for icon, so layout 'center' by default.\n\n    el = graphicUtil.makePath(pathData, null, pathRect, shape.layout || 'center');\n    inner(el).customPathData = pathData;\n  } else if (graphicType === 'image') {\n    el = new graphicUtil.Image({});\n    inner(el).customImagePath = elOption.style.image;\n  } else if (graphicType === 'text') {\n    el = new graphicUtil.Text({}); // inner(el).customText = (elOption.style as TextStyleProps).text;\n  } else if (graphicType === 'group') {\n    el = new graphicUtil.Group();\n  } else if (graphicType === 'compoundPath') {\n    throw new Error('\"compoundPath\" is not supported yet.');\n  } else {\n    var Clz = graphicUtil.getShapeClass(graphicType);\n\n    if (!Clz) {\n      var errMsg = '';\n\n      if (process.env.NODE_ENV !== 'production') {\n        errMsg = 'graphic type \"' + graphicType + '\" can not be found.';\n      }\n\n      throwError(errMsg);\n    }\n\n    el = new Clz();\n  }\n\n  inner(el).customGraphicType = graphicType;\n  el.name = elOption.name; // Compat ec4: the default z2 lift is 1. If changing the number,\n  // some cases probably be broken: hierarchy layout along z, like circle packing,\n  // where emphasis only intending to modify color/border rather than lift z2.\n\n  el.z2EmphasisLift = 1;\n  el.z2SelectLift = 1;\n  return el;\n}\n/**\n * ----------------------------------------------------------\n * [STRATEGY_MERGE] Merge properties or erase all properties:\n *\n * Based on the fact that the existing zr element probably be reused, we now consider whether\n * merge or erase all properties to the exsiting elements.\n * That is, if a certain props is not specified in the lastest return of `renderItem`:\n * + \"Merge\" means that do not modify the value on the existing element.\n * + \"Erase all\" means that use a default value to the existing element.\n *\n * \"Merge\" might bring some unexpected state retaining for users and \"erase all\" seams to be\n * more safe. \"erase all\" force users to specify all of the props each time, which is recommanded\n * in most cases.\n * But \"erase all\" theoretically disables the chance of performance optimization (e.g., just\n * generete shape and style at the first time rather than always do that).\n * So we still use \"merge\" rather than \"erase all\". If users need \"erase all\", they can\n * simple always set all of the props each time.\n * Some \"object-like\" config like `textConfig`, `textContent`, `style` which are not needed for\n * every elment, so we replace them only when user specify them. And the that is a total replace.\n *\n * TODO: there is no hint of 'isFirst' to users. So the performance enhancement can not be\n * performed yet. Consider the case:\n * (1) setOption to \"mergeChildren\" with a smaller children count\n * (2) Use dataZoom to make an item disappear.\n * (3) User dataZoom to make the item display again. At that time, renderItem need to return the\n * full option rather than partial option to recreate the element.\n *\n * ----------------------------------------------\n * [STRATEGY_NULL] `hasOwnProperty` or `== null`:\n *\n * Ditinguishing \"own property\" probably bring little trouble to user when make el options.\n * So we  trade a {xx: null} or {xx: undefined} as \"not specified\" if possible rather than\n * \"set them to null/undefined\". In most cases, props can not be cleared. Some typicall\n * clearable props like `style`/`textConfig`/`textContent` we enable `false` to means\n * \"clear\". In some othere special cases that the prop is able to set as null/undefined,\n * but not suitable to use `false`, `hasOwnProperty` is checked.\n *\n * ---------------------------------------------\n * [STRATEGY_TRANSITION] The rule of transition:\n * + For props on the root level of a element:\n *      If there is no `transition` specified, tansform props will be transitioned by default,\n *      which is the same as the previous setting in echarts4 and suitable for the scenario\n *      of dataZoom change.\n *      If `transition` specified, only the specified props will be transitioned.\n * + For props in `shape` and `style`:\n *      Only props specified in `transition` will be transitioned.\n * + Break:\n *      Since ec5, do not make transition to shape by default, because it might result in\n *      performance issue (especially `points` of polygon) and do not necessary in most cases.\n *\n * @return if `isMorphTo`, return `allPropsFinal`.\n */\n\n\nfunction updateElNormal( // Can be null/undefined\napi, el, // Whether be a morph target.\nisMorphTo, dataIndex, elOption, styleOpt, attachedTxInfo, seriesModel, isInit, isTextContent) {\n  var transFromProps = {};\n  var allPropsFinal = {};\n  var elDisplayable = el.isGroup ? null : el; // If be \"morph to\", delay the `updateElNormal` when all of the els in\n  // this data item processed. Because at that time we can get all of the\n  // \"morph from\" and make correct separate/combine.\n\n  !isMorphTo && prepareShapeOrExtraTransitionFrom('shape', el, null, elOption, transFromProps, isInit);\n  prepareShapeOrExtraAllPropsFinal('shape', elOption, allPropsFinal);\n  !isMorphTo && prepareShapeOrExtraTransitionFrom('extra', el, null, elOption, transFromProps, isInit);\n  prepareShapeOrExtraAllPropsFinal('extra', elOption, allPropsFinal);\n  !isMorphTo && prepareTransformTransitionFrom(el, null, elOption, transFromProps, isInit);\n  prepareTransformAllPropsFinal(elOption, allPropsFinal);\n  var txCfgOpt = attachedTxInfo && attachedTxInfo.normal.cfg;\n\n  if (txCfgOpt) {\n    // PENDING: whether use user object directly rather than clone?\n    // TODO:5.0 textConfig transition animation?\n    el.setTextConfig(txCfgOpt);\n  }\n\n  if (el.type === 'text' && styleOpt) {\n    var textOptionStyle = styleOpt; // Compatible with ec4: if `textFill` or `textStroke` exists use them.\n\n    hasOwn(textOptionStyle, 'textFill') && (textOptionStyle.fill = textOptionStyle.textFill);\n    hasOwn(textOptionStyle, 'textStroke') && (textOptionStyle.stroke = textOptionStyle.textStroke);\n  }\n\n  if (styleOpt) {\n    var decalPattern = void 0;\n    var decalObj = isPath(el) ? styleOpt.decal : null;\n\n    if (api && decalObj) {\n      decalObj.dirty = true;\n      decalPattern = createOrUpdatePatternFromDecal(decalObj, api);\n    } // Always overwrite in case user specify this prop.\n\n\n    styleOpt.__decalPattern = decalPattern;\n  }\n\n  !isMorphTo && prepareStyleTransitionFrom(el, null, elOption, styleOpt, transFromProps, isInit);\n\n  if (elDisplayable) {\n    hasOwn(elOption, 'invisible') && (elDisplayable.invisible = elOption.invisible);\n  } // If `isMorphTo`, we should not update these props to el directly, otherwise,\n  // when applying morph finally, the original prop are missing for making \"animation from\".\n\n\n  if (!isMorphTo) {\n    applyPropsFinal(el, allPropsFinal, styleOpt);\n    applyTransitionFrom(el, dataIndex, elOption, seriesModel, transFromProps, isInit);\n  } // Merge by default.\n\n\n  hasOwn(elOption, 'silent') && (el.silent = elOption.silent);\n  hasOwn(elOption, 'ignore') && (el.ignore = elOption.ignore);\n\n  if (!isTextContent) {\n    // `elOption.info` enables user to mount some info on\n    // elements and use them in event handlers.\n    // Update them only when user specified, otherwise, remain.\n    hasOwn(elOption, 'info') && (inner(el).info = elOption.info);\n  }\n\n  styleOpt ? el.dirty() : el.markRedraw();\n  return isMorphTo ? allPropsFinal : null;\n}\n\nfunction applyPropsFinal(el, // Can be null/undefined\nallPropsFinal, styleOpt) {\n  var elDisplayable = el.isGroup ? null : el;\n\n  if (elDisplayable && styleOpt) {\n    var decalPattern = styleOpt.__decalPattern;\n    var originalDecalObj = void 0;\n\n    if (decalPattern) {\n      originalDecalObj = styleOpt.decal;\n      styleOpt.decal = decalPattern;\n    } // PENDING: here the input style object is used directly.\n    // Good for performance but bad for compatibility control.\n\n\n    elDisplayable.useStyle(styleOpt);\n\n    if (decalPattern) {\n      styleOpt.decal = originalDecalObj;\n    } // When style object changed, how to trade the existing animation?\n    // It is probably conplicated and not needed to cover all the cases.\n    // But still need consider the case:\n    // (1) When using init animation on `style.opacity`, and before the animation\n    //     ended users triggers an update by mousewhell. At that time the init\n    //     animation should better be continued rather than terminated.\n    //     So after `useStyle` called, we should change the animation target manually\n    //     to continue the effect of the init animation.\n    // (2) PENDING: If the previous animation targeted at a `val1`, and currently we need\n    //     to update the value to `val2` and no animation declared, should be terminate\n    //     the previous animation or just modify the target of the animation?\n    //     Therotically That will happen not only on `style` but also on `shape` and\n    //     `transfrom` props. But we haven't handle this case at present yet.\n    // (3) PENDING: Is it proper to visit `animators` and `targetName`?\n\n\n    var animators = elDisplayable.animators;\n\n    for (var i = 0; i < animators.length; i++) {\n      var animator = animators[i]; // targetName is the \"topKey\".\n\n      if (animator.targetName === 'style') {\n        animator.changeTarget(elDisplayable.style);\n      }\n    }\n  } // Set el to the final state firstly.\n\n\n  allPropsFinal && el.attr(allPropsFinal);\n}\n\nfunction applyTransitionFrom(el, dataIndex, elOption, seriesModel, // Can be null/undefined\ntransFromProps, isInit) {\n  if (transFromProps) {\n    // Do not use `el.updateDuringAnimation` here becuase `el.updateDuringAnimation` will\n    // be called mutiple time in each animation frame. For example, if both \"transform\" props\n    // and shape props and style props changed, it will generate three animator and called\n    // one-by-one in each animation frame.\n    // We use the during in `animateTo/From` params.\n    var userDuring = elOption.during; // For simplicity, if during not specified, the previous during will not work any more.\n\n    inner(el).userDuring = userDuring;\n    var cfgDuringCall = userDuring ? bind(duringCall, {\n      el: el,\n      userDuring: userDuring\n    }) : null;\n    var cfg = {\n      dataIndex: dataIndex,\n      isFrom: true,\n      during: cfgDuringCall\n    };\n    isInit ? graphicUtil.initProps(el, transFromProps, seriesModel, cfg) : graphicUtil.updateProps(el, transFromProps, seriesModel, cfg);\n  }\n} // See [STRATEGY_TRANSITION]\n\n\nfunction prepareShapeOrExtraTransitionFrom(mainAttr, el, morphFromEl, elOption, transFromProps, isInit) {\n  var attrOpt = elOption[mainAttr];\n\n  if (!attrOpt) {\n    return;\n  }\n\n  var elPropsInAttr = el[mainAttr];\n  var transFromPropsInAttr;\n  var enterFrom = attrOpt.enterFrom;\n\n  if (isInit && enterFrom) {\n    !transFromPropsInAttr && (transFromPropsInAttr = transFromProps[mainAttr] = {});\n    var enterFromKeys = keys(enterFrom);\n\n    for (var i = 0; i < enterFromKeys.length; i++) {\n      // `enterFrom` props are not necessarily also declared in `shape`/`style`/...,\n      // for example, `opacity` can only declared in `enterFrom` but not in `style`.\n      var key = enterFromKeys[i]; // Do not clone, animator will perform that clone.\n\n      transFromPropsInAttr[key] = enterFrom[key];\n    }\n  }\n\n  if (!isInit && elPropsInAttr // Just ignore shape animation in morphing.\n  && !(morphFromEl != null && mainAttr === 'shape')) {\n    if (attrOpt.transition) {\n      !transFromPropsInAttr && (transFromPropsInAttr = transFromProps[mainAttr] = {});\n      var transitionKeys = normalizeToArray(attrOpt.transition);\n\n      for (var i = 0; i < transitionKeys.length; i++) {\n        var key = transitionKeys[i];\n        var elVal = elPropsInAttr[key];\n\n        if (process.env.NODE_ENV !== 'production') {\n          checkNonStyleTansitionRefer(key, attrOpt[key], elVal);\n        } // Do not clone, see `checkNonStyleTansitionRefer`.\n\n\n        transFromPropsInAttr[key] = elVal;\n      }\n    } else if (indexOf(elOption.transition, mainAttr) >= 0) {\n      !transFromPropsInAttr && (transFromPropsInAttr = transFromProps[mainAttr] = {});\n      var elPropsInAttrKeys = keys(elPropsInAttr);\n\n      for (var i = 0; i < elPropsInAttrKeys.length; i++) {\n        var key = elPropsInAttrKeys[i];\n        var elVal = elPropsInAttr[key];\n\n        if (isNonStyleTransitionEnabled(attrOpt[key], elVal)) {\n          transFromPropsInAttr[key] = elVal;\n        }\n      }\n    }\n  }\n\n  var leaveTo = attrOpt.leaveTo;\n\n  if (leaveTo) {\n    var leaveToProps = getOrCreateLeaveToPropsFromEl(el);\n    var leaveToPropsInAttr = leaveToProps[mainAttr] || (leaveToProps[mainAttr] = {});\n    var leaveToKeys = keys(leaveTo);\n\n    for (var i = 0; i < leaveToKeys.length; i++) {\n      var key = leaveToKeys[i];\n      leaveToPropsInAttr[key] = leaveTo[key];\n    }\n  }\n}\n\nfunction prepareShapeOrExtraAllPropsFinal(mainAttr, elOption, allProps) {\n  var attrOpt = elOption[mainAttr];\n\n  if (!attrOpt) {\n    return;\n  }\n\n  var allPropsInAttr = allProps[mainAttr] = {};\n  var keysInAttr = keys(attrOpt);\n\n  for (var i = 0; i < keysInAttr.length; i++) {\n    var key = keysInAttr[i]; // To avoid share one object with different element, and\n    // to avoid user modify the object inexpectedly, have to clone.\n\n    allPropsInAttr[key] = cloneValue(attrOpt[key]);\n  }\n} // See [STRATEGY_TRANSITION].\n\n\nfunction prepareTransformTransitionFrom(el, morphFromEl, elOption, transFromProps, isInit) {\n  var enterFrom = elOption.enterFrom;\n\n  if (isInit && enterFrom) {\n    var enterFromKeys = keys(enterFrom);\n\n    for (var i = 0; i < enterFromKeys.length; i++) {\n      var key = enterFromKeys[i];\n\n      if (process.env.NODE_ENV !== 'production') {\n        checkTransformPropRefer(key, 'el.enterFrom');\n      } // Do not clone, animator will perform that clone.\n\n\n      transFromProps[key] = enterFrom[key];\n    }\n  }\n\n  if (!isInit) {\n    // If morphing, force transition all transform props.\n    // otherwise might have incorrect morphing animation.\n    if (morphFromEl) {\n      var fromTransformable = calcOldElLocalTransformBasedOnNewElParent(morphFromEl, el);\n      setTransformPropToTransitionFrom(transFromProps, 'x', fromTransformable);\n      setTransformPropToTransitionFrom(transFromProps, 'y', fromTransformable);\n      setTransformPropToTransitionFrom(transFromProps, 'scaleX', fromTransformable);\n      setTransformPropToTransitionFrom(transFromProps, 'scaleY', fromTransformable);\n      setTransformPropToTransitionFrom(transFromProps, 'originX', fromTransformable);\n      setTransformPropToTransitionFrom(transFromProps, 'originY', fromTransformable);\n      setTransformPropToTransitionFrom(transFromProps, 'rotation', fromTransformable);\n    } else if (elOption.transition) {\n      var transitionKeys = normalizeToArray(elOption.transition);\n\n      for (var i = 0; i < transitionKeys.length; i++) {\n        var key = transitionKeys[i];\n\n        if (key === 'style' || key === 'shape' || key === 'extra') {\n          continue;\n        }\n\n        var elVal = el[key];\n\n        if (process.env.NODE_ENV !== 'production') {\n          checkTransformPropRefer(key, 'el.transition');\n          checkNonStyleTansitionRefer(key, elOption[key], elVal);\n        } // Do not clone, see `checkNonStyleTansitionRefer`.\n\n\n        transFromProps[key] = elVal;\n      }\n    } // This default transition see [STRATEGY_TRANSITION]\n    else {\n        setTransformPropToTransitionFrom(transFromProps, 'x', el);\n        setTransformPropToTransitionFrom(transFromProps, 'y', el);\n      }\n  }\n\n  var leaveTo = elOption.leaveTo;\n\n  if (leaveTo) {\n    var leaveToProps = getOrCreateLeaveToPropsFromEl(el);\n    var leaveToKeys = keys(leaveTo);\n\n    for (var i = 0; i < leaveToKeys.length; i++) {\n      var key = leaveToKeys[i];\n\n      if (process.env.NODE_ENV !== 'production') {\n        checkTransformPropRefer(key, 'el.leaveTo');\n      }\n\n      leaveToProps[key] = leaveTo[key];\n    }\n  }\n}\n\nfunction prepareTransformAllPropsFinal(elOption, allProps) {\n  setLagecyTransformProp(elOption, allProps, 'position');\n  setLagecyTransformProp(elOption, allProps, 'scale');\n  setLagecyTransformProp(elOption, allProps, 'origin');\n  setTransformProp(elOption, allProps, 'x');\n  setTransformProp(elOption, allProps, 'y');\n  setTransformProp(elOption, allProps, 'scaleX');\n  setTransformProp(elOption, allProps, 'scaleY');\n  setTransformProp(elOption, allProps, 'originX');\n  setTransformProp(elOption, allProps, 'originY');\n  setTransformProp(elOption, allProps, 'rotation');\n} // See [STRATEGY_TRANSITION].\n\n\nfunction prepareStyleTransitionFrom(el, morphFromEl, elOption, styleOpt, transFromProps, isInit) {\n  if (!styleOpt) {\n    return;\n  } // At present in \"many-to-one\"/\"one-to-many\" case, to not support \"many\" have\n  // different styles and make style transitions. That might be a rare case.\n\n\n  var fromEl = morphFromEl || el;\n  var fromElStyle = fromEl.style;\n  var transFromStyleProps;\n  var enterFrom = styleOpt.enterFrom;\n\n  if (isInit && enterFrom) {\n    var enterFromKeys = keys(enterFrom);\n    !transFromStyleProps && (transFromStyleProps = transFromProps.style = {});\n\n    for (var i = 0; i < enterFromKeys.length; i++) {\n      var key = enterFromKeys[i]; // Do not clone, animator will perform that clone.\n\n      transFromStyleProps[key] = enterFrom[key];\n    }\n  }\n\n  if (!isInit && fromElStyle) {\n    if (styleOpt.transition) {\n      var transitionKeys = normalizeToArray(styleOpt.transition);\n      !transFromStyleProps && (transFromStyleProps = transFromProps.style = {});\n\n      for (var i = 0; i < transitionKeys.length; i++) {\n        var key = transitionKeys[i];\n        var elVal = fromElStyle[key]; // Do not clone, see `checkNonStyleTansitionRefer`.\n\n        transFromStyleProps[key] = elVal;\n      }\n    } else if (el.getAnimationStyleProps && indexOf(elOption.transition, 'style') >= 0) {\n      var animationProps = el.getAnimationStyleProps();\n      var animationStyleProps = animationProps ? animationProps.style : null;\n\n      if (animationStyleProps) {\n        !transFromStyleProps && (transFromStyleProps = transFromProps.style = {});\n        var styleKeys = keys(styleOpt);\n\n        for (var i = 0; i < styleKeys.length; i++) {\n          var key = styleKeys[i];\n\n          if (animationStyleProps[key]) {\n            var elVal = fromElStyle[key];\n            transFromStyleProps[key] = elVal;\n          }\n        }\n      }\n    }\n  }\n\n  var leaveTo = styleOpt.leaveTo;\n\n  if (leaveTo) {\n    var leaveToKeys = keys(leaveTo);\n    var leaveToProps = getOrCreateLeaveToPropsFromEl(el);\n    var leaveToStyleProps = leaveToProps.style || (leaveToProps.style = {});\n\n    for (var i = 0; i < leaveToKeys.length; i++) {\n      var key = leaveToKeys[i];\n      leaveToStyleProps[key] = leaveTo[key];\n    }\n  }\n}\n/**\n * If make \"transform\"(x/y/scaleX/scaleY/orient/originX/originY) transition between\n * two path elements that have different hierarchy, before we retrieve the \"from\" props,\n * we have to calculate the local transition of the \"oldPath\" based on the parent of\n * the \"newPath\".\n * At present, the case only happend in \"morphing\". Without morphing, the transform\n * transition are all between elements in the same hierarchy, where this kind of process\n * is not needed.\n *\n * [CAVEAT]:\n * This method makes sense only if: (very tricky)\n * (1) \"newEl\" has been added to its final parent.\n * (2) Local transform props of \"newPath.parent\" are not at their final value but already\n * have been at the \"from value\".\n *     This is currently ensured by:\n *     (2.1) \"graphicUtil.animationFrom\", which will set the element to the \"from value\"\n *     immediately.\n *     (2.2) \"morph\" option is not allowed to be set on Group, so all of the groups have\n *     been finished their \"updateElNormal\" when calling this method in morphing process.\n */\n\n\nfunction calcOldElLocalTransformBasedOnNewElParent(oldEl, newEl) {\n  if (!oldEl || oldEl === newEl || oldEl.parent === newEl.parent) {\n    return oldEl;\n  } // Not sure oldEl is rendered (may have \"lazyUpdate\"),\n  // so always call `getComputedTransform`.\n\n\n  var tmpM = tmpTransformable.transform || (tmpTransformable.transform = matrix.identity([]));\n  var oldGlobalTransform = oldEl.getComputedTransform();\n  oldGlobalTransform ? matrix.copy(tmpM, oldGlobalTransform) : matrix.identity(tmpM);\n  var newParent = newEl.parent;\n\n  if (newParent) {\n    newParent.getComputedTransform();\n  }\n\n  tmpTransformable.originX = oldEl.originX;\n  tmpTransformable.originY = oldEl.originY;\n  tmpTransformable.parent = newParent;\n  tmpTransformable.decomposeTransform();\n  return tmpTransformable;\n}\n\nvar checkNonStyleTansitionRefer;\n\nif (process.env.NODE_ENV !== 'production') {\n  checkNonStyleTansitionRefer = function (propName, optVal, elVal) {\n    if (!isArrayLike(optVal)) {\n      assert(optVal != null && isFinite(optVal), 'Prop `' + propName + '` must refer to a finite number or ArrayLike for transition.');\n    } else {\n      // Try not to copy array for performance, but if user use the same object in different\n      // call of `renderItem`, it will casue animation transition fail.\n      assert(optVal !== elVal, 'Prop `' + propName + '` must use different Array object each time for transition.');\n    }\n  };\n}\n\nfunction isNonStyleTransitionEnabled(optVal, elVal) {\n  // The same as `checkNonStyleTansitionRefer`.\n  return !isArrayLike(optVal) ? optVal != null && isFinite(optVal) : optVal !== elVal;\n}\n\nvar checkTransformPropRefer;\n\nif (process.env.NODE_ENV !== 'production') {\n  checkTransformPropRefer = function (key, usedIn) {\n    assert(hasOwn(TRANSFORM_PROPS, key), 'Prop `' + key + '` is not a permitted in `' + usedIn + '`. ' + 'Only `' + keys(TRANSFORM_PROPS).join('`, `') + '` are permitted.');\n  };\n}\n\nfunction getOrCreateLeaveToPropsFromEl(el) {\n  var innerEl = inner(el);\n  return innerEl.leaveToProps || (innerEl.leaveToProps = {});\n} // Use it to avoid it be exposed to user.\n\n\nvar tmpDuringScope = {};\nvar customDuringAPI = {\n  // Usually other props do not need to be changed in animation during.\n  setTransform: function (key, val) {\n    if (process.env.NODE_ENV !== 'production') {\n      assert(hasOwn(TRANSFORM_PROPS, key), 'Only ' + transformPropNamesStr + ' available in `setTransform`.');\n    }\n\n    tmpDuringScope.el[key] = val;\n    return this;\n  },\n  getTransform: function (key) {\n    if (process.env.NODE_ENV !== 'production') {\n      assert(hasOwn(TRANSFORM_PROPS, key), 'Only ' + transformPropNamesStr + ' available in `getTransform`.');\n    }\n\n    return tmpDuringScope.el[key];\n  },\n  setShape: function (key, val) {\n    if (process.env.NODE_ENV !== 'production') {\n      assertNotReserved(key);\n    }\n\n    var shape = tmpDuringScope.el.shape || (tmpDuringScope.el.shape = {});\n    shape[key] = val;\n    tmpDuringScope.isShapeDirty = true;\n    return this;\n  },\n  getShape: function (key) {\n    if (process.env.NODE_ENV !== 'production') {\n      assertNotReserved(key);\n    }\n\n    var shape = tmpDuringScope.el.shape;\n\n    if (shape) {\n      return shape[key];\n    }\n  },\n  setStyle: function (key, val) {\n    if (process.env.NODE_ENV !== 'production') {\n      assertNotReserved(key);\n    }\n\n    var style = tmpDuringScope.el.style;\n\n    if (style) {\n      if (process.env.NODE_ENV !== 'production') {\n        if (eqNaN(val)) {\n          warn('style.' + key + ' must not be assigned with NaN.');\n        }\n      }\n\n      style[key] = val;\n      tmpDuringScope.isStyleDirty = true;\n    }\n\n    return this;\n  },\n  getStyle: function (key) {\n    if (process.env.NODE_ENV !== 'production') {\n      assertNotReserved(key);\n    }\n\n    var style = tmpDuringScope.el.style;\n\n    if (style) {\n      return style[key];\n    }\n  },\n  setExtra: function (key, val) {\n    if (process.env.NODE_ENV !== 'production') {\n      assertNotReserved(key);\n    }\n\n    var extra = tmpDuringScope.el.extra || (tmpDuringScope.el.extra = {});\n    extra[key] = val;\n    return this;\n  },\n  getExtra: function (key) {\n    if (process.env.NODE_ENV !== 'production') {\n      assertNotReserved(key);\n    }\n\n    var extra = tmpDuringScope.el.extra;\n\n    if (extra) {\n      return extra[key];\n    }\n  }\n};\n\nfunction assertNotReserved(key) {\n  if (process.env.NODE_ENV !== 'production') {\n    if (key === 'transition' || key === 'enterFrom' || key === 'leaveTo') {\n      throw new Error('key must not be \"' + key + '\"');\n    }\n  }\n}\n\nfunction duringCall() {\n  // Do not provide \"percent\" until some requirements come.\n  // Because consider thies case:\n  // enterFrom: {x: 100, y: 30}, transition: 'x'.\n  // And enter duration is different from update duration.\n  // Thus it might be confused about the meaning of \"percent\" in during callback.\n  var scope = this;\n  var el = scope.el;\n\n  if (!el) {\n    return;\n  } // If el is remove from zr by reason like legend, during still need to called,\n  // becuase el will be added back to zr and the prop value should not be incorrect.\n\n\n  var newstUserDuring = inner(el).userDuring;\n  var scopeUserDuring = scope.userDuring; // Ensured a during is only called once in each animation frame.\n  // If a during is called multiple times in one frame, maybe some users' calulation logic\n  // might be wrong (not sure whether this usage exists).\n  // The case of a during might be called twice can be: by default there is a animator for\n  // 'x', 'y' when init. Before the init animation finished, call `setOption` to start\n  // another animators for 'style'/'shape'/'extra'.\n\n  if (newstUserDuring !== scopeUserDuring) {\n    // release\n    scope.el = scope.userDuring = null;\n    return;\n  }\n\n  tmpDuringScope.el = el;\n  tmpDuringScope.isShapeDirty = false;\n  tmpDuringScope.isStyleDirty = false; // Give no `this` to user in \"during\" calling.\n\n  scopeUserDuring(customDuringAPI);\n\n  if (tmpDuringScope.isShapeDirty && el.dirtyShape) {\n    el.dirtyShape();\n  }\n\n  if (tmpDuringScope.isStyleDirty && el.dirtyStyle) {\n    el.dirtyStyle();\n  } // markRedraw() will be called by default in during.\n  // FIXME `this.markRedraw();` directly ?\n  // FIXME: if in future meet the case that some prop will be both modified in `during` and `state`,\n  // consider the issue that the prop might be incorrect when return to \"normal\" state.\n\n}\n\nfunction updateElOnState(state, el, elStateOpt, styleOpt, attachedTxInfo, isRoot, isTextContent) {\n  var elDisplayable = el.isGroup ? null : el;\n  var txCfgOpt = attachedTxInfo && attachedTxInfo[state].cfg; // PENDING:5.0 support customize scale change and transition animation?\n\n  if (elDisplayable) {\n    // By default support auto lift color when hover whether `emphasis` specified.\n    var stateObj = elDisplayable.ensureState(state);\n\n    if (styleOpt === false) {\n      var existingEmphasisState = elDisplayable.getState(state);\n\n      if (existingEmphasisState) {\n        existingEmphasisState.style = null;\n      }\n    } else {\n      // style is needed to enable defaut emphasis.\n      stateObj.style = styleOpt || null;\n    } // If `elOption.styleEmphasis` or `elOption.emphasis.style` is `false`,\n    // remove hover style.\n    // If `elOption.textConfig` or `elOption.emphasis.textConfig` is null/undefined, it does not\n    // make sense. So for simplicity, we do not ditinguish `hasOwnProperty` and null/undefined.\n\n\n    if (txCfgOpt) {\n      stateObj.textConfig = txCfgOpt;\n    }\n\n    setDefaultStateProxy(elDisplayable);\n  }\n}\n\nfunction updateZ(el, elOption, seriesModel, attachedTxInfo) {\n  // Group not support textContent and not support z yet.\n  if (el.isGroup) {\n    return;\n  }\n\n  var elDisplayable = el;\n  var currentZ = seriesModel.currentZ;\n  var currentZLevel = seriesModel.currentZLevel; // Always erase.\n\n  elDisplayable.z = currentZ;\n  elDisplayable.zlevel = currentZLevel; // z2 must not be null/undefined, otherwise sort error may occur.\n\n  var optZ2 = elOption.z2;\n  optZ2 != null && (elDisplayable.z2 = optZ2 || 0);\n\n  for (var i = 0; i < STATES.length; i++) {\n    updateZForEachState(elDisplayable, elOption, STATES[i]);\n  }\n}\n\nfunction updateZForEachState(elDisplayable, elOption, state) {\n  var isNormal = state === NORMAL;\n  var elStateOpt = isNormal ? elOption : retrieveStateOption(elOption, state);\n  var optZ2 = elStateOpt ? elStateOpt.z2 : null;\n  var stateObj;\n\n  if (optZ2 != null) {\n    // Do not `ensureState` until required.\n    stateObj = isNormal ? elDisplayable : elDisplayable.ensureState(state);\n    stateObj.z2 = optZ2 || 0;\n  }\n}\n\nfunction setLagecyTransformProp(elOption, targetProps, legacyName, fromTransformable // If provided, retrieve from the element.\n) {\n  var legacyArr = elOption[legacyName];\n  var xyName = LEGACY_TRANSFORM_PROPS[legacyName];\n\n  if (legacyArr) {\n    if (fromTransformable) {\n      targetProps[xyName[0]] = fromTransformable[xyName[0]];\n      targetProps[xyName[1]] = fromTransformable[xyName[1]];\n    } else {\n      targetProps[xyName[0]] = legacyArr[0];\n      targetProps[xyName[1]] = legacyArr[1];\n    }\n  }\n}\n\nfunction setTransformProp(elOption, allProps, name, fromTransformable // If provided, retrieve from the element.\n) {\n  if (elOption[name] != null) {\n    allProps[name] = fromTransformable ? fromTransformable[name] : elOption[name];\n  }\n}\n\nfunction setTransformPropToTransitionFrom(transitionFrom, name, fromTransformable // If provided, retrieve from the element.\n) {\n  if (fromTransformable) {\n    transitionFrom[name] = fromTransformable[name];\n  }\n}\n\nfunction makeRenderItem(customSeries, data, ecModel, api) {\n  var renderItem = customSeries.get('renderItem');\n  var coordSys = customSeries.coordinateSystem;\n  var prepareResult = {};\n\n  if (coordSys) {\n    if (process.env.NODE_ENV !== 'production') {\n      assert(renderItem, 'series.render is required.');\n      assert(coordSys.prepareCustoms || prepareCustoms[coordSys.type], 'This coordSys does not support custom series.');\n    } // `coordSys.prepareCustoms` is used for external coord sys like bmap.\n\n\n    prepareResult = coordSys.prepareCustoms ? coordSys.prepareCustoms(coordSys) : prepareCustoms[coordSys.type](coordSys);\n  }\n\n  var userAPI = defaults({\n    getWidth: api.getWidth,\n    getHeight: api.getHeight,\n    getZr: api.getZr,\n    getDevicePixelRatio: api.getDevicePixelRatio,\n    value: value,\n    style: style,\n    ordinalRawValue: ordinalRawValue,\n    styleEmphasis: styleEmphasis,\n    visual: visual,\n    barLayout: barLayout,\n    currentSeriesIndices: currentSeriesIndices,\n    font: font\n  }, prepareResult.api || {});\n  var userParams = {\n    // The life cycle of context: current round of rendering.\n    // The global life cycle is probably not necessary, because\n    // user can store global status by themselves.\n    context: {},\n    seriesId: customSeries.id,\n    seriesName: customSeries.name,\n    seriesIndex: customSeries.seriesIndex,\n    coordSys: prepareResult.coordSys,\n    dataInsideLength: data.count(),\n    encode: wrapEncodeDef(customSeries.getData())\n  }; // If someday intending to refactor them to a class, should consider do not\n  // break change: currently these attribute member are encapsulated in a closure\n  // so that do not need to force user to call these method with a scope.\n  // Do not support call `api` asynchronously without dataIndexInside input.\n\n  var currDataIndexInside;\n  var currItemModel;\n  var currItemStyleModels = {};\n  var currLabelModels = {};\n  var seriesItemStyleModels = {};\n  var seriesLabelModels = {};\n\n  for (var i = 0; i < STATES.length; i++) {\n    var stateName = STATES[i];\n    seriesItemStyleModels[stateName] = customSeries.getModel(PATH_ITEM_STYLE[stateName]);\n    seriesLabelModels[stateName] = customSeries.getModel(PATH_LABEL[stateName]);\n  }\n\n  function getItemModel(dataIndexInside) {\n    return dataIndexInside === currDataIndexInside ? currItemModel || (currItemModel = data.getItemModel(dataIndexInside)) : data.getItemModel(dataIndexInside);\n  }\n\n  function getItemStyleModel(dataIndexInside, state) {\n    return !data.hasItemOption ? seriesItemStyleModels[state] : dataIndexInside === currDataIndexInside ? currItemStyleModels[state] || (currItemStyleModels[state] = getItemModel(dataIndexInside).getModel(PATH_ITEM_STYLE[state])) : getItemModel(dataIndexInside).getModel(PATH_ITEM_STYLE[state]);\n  }\n\n  function getLabelModel(dataIndexInside, state) {\n    return !data.hasItemOption ? seriesLabelModels[state] : dataIndexInside === currDataIndexInside ? currLabelModels[state] || (currLabelModels[state] = getItemModel(dataIndexInside).getModel(PATH_LABEL[state])) : getItemModel(dataIndexInside).getModel(PATH_LABEL[state]);\n  }\n\n  return function (dataIndexInside, payload) {\n    currDataIndexInside = dataIndexInside;\n    currItemModel = null;\n    currItemStyleModels = {};\n    currLabelModels = {};\n    return renderItem && renderItem(defaults({\n      dataIndexInside: dataIndexInside,\n      dataIndex: data.getRawIndex(dataIndexInside),\n      // Can be used for optimization when zoom or roam.\n      actionType: payload ? payload.type : null\n    }, userParams), userAPI);\n  };\n  /**\n   * @public\n   * @param dim by default 0.\n   * @param dataIndexInside by default `currDataIndexInside`.\n   */\n\n  function value(dim, dataIndexInside) {\n    dataIndexInside == null && (dataIndexInside = currDataIndexInside);\n    return data.get(data.getDimension(dim || 0), dataIndexInside);\n  }\n  /**\n   * @public\n   * @param dim by default 0.\n   * @param dataIndexInside by default `currDataIndexInside`.\n   */\n\n\n  function ordinalRawValue(dim, dataIndexInside) {\n    dataIndexInside == null && (dataIndexInside = currDataIndexInside);\n    var dimInfo = data.getDimensionInfo(dim || 0);\n\n    if (!dimInfo) {\n      return;\n    }\n\n    var val = data.get(dimInfo.name, dataIndexInside);\n    var ordinalMeta = dimInfo && dimInfo.ordinalMeta;\n    return ordinalMeta ? ordinalMeta.categories[val] : val;\n  }\n  /**\n   * @deprecated The orgininal intention of `api.style` is enable to set itemStyle\n   * like other series. But it not necessary and not easy to give a strict definition\n   * of what it return. And since echarts5 it needs to be make compat work. So\n   * deprecates it since echarts5.\n   *\n   * By default, `visual` is applied to style (to support visualMap).\n   * `visual.color` is applied at `fill`. If user want apply visual.color on `stroke`,\n   * it can be implemented as:\n   * `api.style({stroke: api.visual('color'), fill: null})`;\n   *\n   * [Compat]: since ec5, RectText has been separated from its hosts el.\n   * so `api.style()` will only return the style from `itemStyle` but not handle `label`\n   * any more. But `series.label` config is never published in doc.\n   * We still compat it in `api.style()`. But not encourage to use it and will still not\n   * to pulish it to doc.\n   * @public\n   * @param dataIndexInside by default `currDataIndexInside`.\n   */\n\n\n  function style(userProps, dataIndexInside) {\n    if (process.env.NODE_ENV !== 'production') {\n      warnDeprecated('api.style', 'Please write literal style directly instead.');\n    }\n\n    dataIndexInside == null && (dataIndexInside = currDataIndexInside);\n    var style = data.getItemVisual(dataIndexInside, 'style');\n    var visualColor = style && style.fill;\n    var opacity = style && style.opacity;\n    var itemStyle = getItemStyleModel(dataIndexInside, NORMAL).getItemStyle();\n    visualColor != null && (itemStyle.fill = visualColor);\n    opacity != null && (itemStyle.opacity = opacity);\n    var opt = {\n      inheritColor: isString(visualColor) ? visualColor : '#000'\n    };\n    var labelModel = getLabelModel(dataIndexInside, NORMAL); // Now that the feture of \"auto adjust text fill/stroke\" has been migrated to zrender\n    // since ec5, we should set `isAttached` as `false` here and make compat in\n    // `convertToEC4StyleForCustomSerise`.\n\n    var textStyle = labelStyleHelper.createTextStyle(labelModel, null, opt, false, true);\n    textStyle.text = labelModel.getShallow('show') ? retrieve2(customSeries.getFormattedLabel(dataIndexInside, NORMAL), getDefaultLabel(data, dataIndexInside)) : null;\n    var textConfig = labelStyleHelper.createTextConfig(labelModel, opt, false);\n    preFetchFromExtra(userProps, itemStyle);\n    itemStyle = convertToEC4StyleForCustomSerise(itemStyle, textStyle, textConfig);\n    userProps && applyUserPropsAfter(itemStyle, userProps);\n    itemStyle.legacy = true;\n    return itemStyle;\n  }\n  /**\n   * @deprecated The reason see `api.style()`\n   * @public\n   * @param dataIndexInside by default `currDataIndexInside`.\n   */\n\n\n  function styleEmphasis(userProps, dataIndexInside) {\n    if (process.env.NODE_ENV !== 'production') {\n      warnDeprecated('api.styleEmphasis', 'Please write literal style directly instead.');\n    }\n\n    dataIndexInside == null && (dataIndexInside = currDataIndexInside);\n    var itemStyle = getItemStyleModel(dataIndexInside, EMPHASIS).getItemStyle();\n    var labelModel = getLabelModel(dataIndexInside, EMPHASIS);\n    var textStyle = labelStyleHelper.createTextStyle(labelModel, null, null, true, true);\n    textStyle.text = labelModel.getShallow('show') ? retrieve3(customSeries.getFormattedLabel(dataIndexInside, EMPHASIS), customSeries.getFormattedLabel(dataIndexInside, NORMAL), getDefaultLabel(data, dataIndexInside)) : null;\n    var textConfig = labelStyleHelper.createTextConfig(labelModel, null, true);\n    preFetchFromExtra(userProps, itemStyle);\n    itemStyle = convertToEC4StyleForCustomSerise(itemStyle, textStyle, textConfig);\n    userProps && applyUserPropsAfter(itemStyle, userProps);\n    itemStyle.legacy = true;\n    return itemStyle;\n  }\n\n  function applyUserPropsAfter(itemStyle, extra) {\n    for (var key in extra) {\n      if (hasOwn(extra, key)) {\n        itemStyle[key] = extra[key];\n      }\n    }\n  }\n\n  function preFetchFromExtra(extra, itemStyle) {\n    // A trick to retrieve those props firstly, which are used to\n    // apply auto inside fill/stroke in `convertToEC4StyleForCustomSerise`.\n    // (It's not reasonable but only for a degree of compat)\n    if (extra) {\n      extra.textFill && (itemStyle.textFill = extra.textFill);\n      extra.textPosition && (itemStyle.textPosition = extra.textPosition);\n    }\n  }\n  /**\n   * @public\n   * @param dataIndexInside by default `currDataIndexInside`.\n   */\n\n\n  function visual(visualType, dataIndexInside) {\n    dataIndexInside == null && (dataIndexInside = currDataIndexInside);\n\n    if (hasOwn(STYLE_VISUAL_TYPE, visualType)) {\n      var style_1 = data.getItemVisual(dataIndexInside, 'style');\n      return style_1 ? style_1[STYLE_VISUAL_TYPE[visualType]] : null;\n    } // Only support these visuals. Other visual might be inner tricky\n    // for performance (like `style`), do not expose to users.\n\n\n    if (hasOwn(NON_STYLE_VISUAL_PROPS, visualType)) {\n      return data.getItemVisual(dataIndexInside, visualType);\n    }\n  }\n  /**\n   * @public\n   * @return If not support, return undefined.\n   */\n\n\n  function barLayout(opt) {\n    if (coordSys.type === 'cartesian2d') {\n      var baseAxis = coordSys.getBaseAxis();\n      return getLayoutOnAxis(defaults({\n        axis: baseAxis\n      }, opt));\n    }\n  }\n  /**\n   * @public\n   */\n\n\n  function currentSeriesIndices() {\n    return ecModel.getCurrentSeriesIndices();\n  }\n  /**\n   * @public\n   * @return font string\n   */\n\n\n  function font(opt) {\n    return labelStyleHelper.getFont(opt, ecModel);\n  }\n}\n\nfunction wrapEncodeDef(data) {\n  var encodeDef = {};\n  each(data.dimensions, function (dimName, dataDimIndex) {\n    var dimInfo = data.getDimensionInfo(dimName);\n\n    if (!dimInfo.isExtraCoord) {\n      var coordDim = dimInfo.coordDim;\n      var dataDims = encodeDef[coordDim] = encodeDef[coordDim] || [];\n      dataDims[dimInfo.coordDimIndex] = dataDimIndex;\n    }\n  });\n  return encodeDef;\n}\n\nfunction createOrUpdateItem(api, el, dataIndex, elOption, seriesModel, group, data, morphPreparation) {\n  // [Rule]\n  // If `renderItem` returns `null`/`undefined`/`false`, remove the previous el if existing.\n  //     (It seems that violate the \"merge\" principle, but most of users probably intuitively\n  //     regard \"return;\" as \"show nothing element whatever\", so make a exception to meet the\n  //     most cases.)\n  // The rule or \"merge\" see [STRATEGY_MERGE].\n  // If `elOption` is `null`/`undefined`/`false` (when `renderItem` returns nothing).\n  if (!elOption) {\n    removeElementDirectly(el, group);\n    return;\n  }\n\n  el = doCreateOrUpdateEl(api, el, dataIndex, elOption, seriesModel, group, true, morphPreparation);\n  el && data.setItemGraphicEl(dataIndex, el);\n  el && enableHoverEmphasis(el, elOption.focus, elOption.blurScope);\n  return el;\n}\n\nfunction doCreateOrUpdateEl(api, el, dataIndex, elOption, seriesModel, group, isRoot, morphPreparation) {\n  if (process.env.NODE_ENV !== 'production') {\n    assert(elOption, 'should not have an null/undefined element setting');\n  }\n\n  var toBeReplacedIdx = -1;\n\n  if (el && doesElNeedRecreate(el, elOption) // || (\n  //     // PENDING: even in one-to-one mapping case, if el is marked as morph,\n  //     // do not sure whether the el will be mapped to another el with different\n  //     // hierarchy in Group tree. So always recreate el rather than reuse the el.\n  //     morphPreparation && morphPreparation.isOneToOneFrom(el)\n  // )\n  ) {\n    // Should keep at the original index, otherwise \"merge by index\" will be incorrect.\n    toBeReplacedIdx = group.childrenRef().indexOf(el);\n    el = null;\n  }\n\n  var elIsNewCreated = !el;\n\n  if (!el) {\n    el = createEl(elOption);\n  } else {\n    // FIMXE:NEXT unified clearState?\n    // If in some case the performance issue arised, consider\n    // do not clearState but update cached normal state directly.\n    el.clearStates();\n  }\n\n  var canMorph = inner(el).canMorph = elOption.morph && isPath(el);\n  var thisElIsMorphTo = canMorph && morphPreparation && morphPreparation.hasFrom(); // Use update animation when morph is enabled.\n\n  var isInit = elIsNewCreated && !thisElIsMorphTo;\n  attachedTxInfoTmp.normal.cfg = attachedTxInfoTmp.normal.conOpt = attachedTxInfoTmp.emphasis.cfg = attachedTxInfoTmp.emphasis.conOpt = attachedTxInfoTmp.blur.cfg = attachedTxInfoTmp.blur.conOpt = attachedTxInfoTmp.select.cfg = attachedTxInfoTmp.select.conOpt = null;\n  attachedTxInfoTmp.isLegacy = false;\n  doCreateOrUpdateAttachedTx(el, dataIndex, elOption, seriesModel, isInit, attachedTxInfoTmp);\n  doCreateOrUpdateClipPath(el, dataIndex, elOption, seriesModel, isInit);\n  var pendingAllPropsFinal = updateElNormal(api, el, thisElIsMorphTo, dataIndex, elOption, elOption.style, attachedTxInfoTmp, seriesModel, isInit, false);\n\n  if (thisElIsMorphTo) {\n    morphPreparation.addTo(el, elOption, dataIndex, pendingAllPropsFinal);\n  }\n\n  for (var i = 0; i < STATES.length; i++) {\n    var stateName = STATES[i];\n\n    if (stateName !== NORMAL) {\n      var otherStateOpt = retrieveStateOption(elOption, stateName);\n      var otherStyleOpt = retrieveStyleOptionOnState(elOption, otherStateOpt, stateName);\n      updateElOnState(stateName, el, otherStateOpt, otherStyleOpt, attachedTxInfoTmp, isRoot, false);\n    }\n  }\n\n  updateZ(el, elOption, seriesModel, attachedTxInfoTmp);\n\n  if (elOption.type === 'group') {\n    mergeChildren(api, el, dataIndex, elOption, seriesModel, morphPreparation);\n  }\n\n  if (toBeReplacedIdx >= 0) {\n    group.replaceAt(el, toBeReplacedIdx);\n  } else {\n    group.add(el);\n  }\n\n  return el;\n} // `el` must not be null/undefined.\n\n\nfunction doesElNeedRecreate(el, elOption) {\n  var elInner = inner(el);\n  var elOptionType = elOption.type;\n  var elOptionShape = elOption.shape;\n  var elOptionStyle = elOption.style;\n  return (// If `elOptionType` is `null`, follow the merge principle.\n    elOptionType != null && elOptionType !== elInner.customGraphicType || elOptionType === 'path' && hasOwnPathData(elOptionShape) && getPathData(elOptionShape) !== elInner.customPathData || elOptionType === 'image' && hasOwn(elOptionStyle, 'image') && elOptionStyle.image !== elInner.customImagePath // // FIXME test and remove this restriction?\n    // || (elOptionType === 'text'\n    //     && hasOwn(elOptionStyle, 'text')\n    //     && (elOptionStyle as TextStyleProps).text !== elInner.customText\n    // )\n\n  );\n}\n\nfunction doCreateOrUpdateClipPath(el, dataIndex, elOption, seriesModel, isInit) {\n  // Based on the \"merge\" principle, if no clipPath provided,\n  // do nothing. The exists clip will be totally removed only if\n  // `el.clipPath` is `false`. Otherwise it will be merged/replaced.\n  var clipPathOpt = elOption.clipPath;\n\n  if (clipPathOpt === false) {\n    if (el && el.getClipPath()) {\n      el.removeClipPath();\n    }\n  } else if (clipPathOpt) {\n    var clipPath = el.getClipPath();\n\n    if (clipPath && doesElNeedRecreate(clipPath, clipPathOpt)) {\n      clipPath = null;\n    }\n\n    if (!clipPath) {\n      clipPath = createEl(clipPathOpt);\n\n      if (process.env.NODE_ENV !== 'production') {\n        assert(clipPath instanceof graphicUtil.Path, 'Only any type of `path` can be used in `clipPath`, rather than ' + clipPath.type + '.');\n      }\n\n      el.setClipPath(clipPath);\n    }\n\n    updateElNormal(null, clipPath, null, dataIndex, clipPathOpt, null, null, seriesModel, isInit, false);\n  } // If not define `clipPath` in option, do nothing unnecessary.\n\n}\n\nfunction doCreateOrUpdateAttachedTx(el, dataIndex, elOption, seriesModel, isInit, attachedTxInfo) {\n  // group do not support textContent temporarily untill necessary.\n  if (el.isGroup) {\n    return;\n  } // Normal must be called before emphasis, for `isLegacy` detection.\n\n\n  processTxInfo(elOption, null, attachedTxInfo);\n  processTxInfo(elOption, EMPHASIS, attachedTxInfo); // If `elOption.textConfig` or `elOption.textContent` is null/undefined, it does not make sence.\n  // So for simplicity, if \"elOption hasOwnProperty of them but be null/undefined\", we do not\n  // trade them as set to null to el.\n  // Especially:\n  // `elOption.textContent: false` means remove textContent.\n  // `elOption.textContent.emphasis.style: false` means remove the style from emphasis state.\n\n  var txConOptNormal = attachedTxInfo.normal.conOpt;\n  var txConOptEmphasis = attachedTxInfo.emphasis.conOpt;\n  var txConOptBlur = attachedTxInfo.blur.conOpt;\n  var txConOptSelect = attachedTxInfo.select.conOpt;\n\n  if (txConOptNormal != null || txConOptEmphasis != null || txConOptSelect != null || txConOptBlur != null) {\n    var textContent = el.getTextContent();\n\n    if (txConOptNormal === false) {\n      textContent && el.removeTextContent();\n    } else {\n      txConOptNormal = attachedTxInfo.normal.conOpt = txConOptNormal || {\n        type: 'text'\n      };\n\n      if (!textContent) {\n        textContent = createEl(txConOptNormal);\n        el.setTextContent(textContent);\n      } else {\n        // If in some case the performance issue arised, consider\n        // do not clearState but update cached normal state directly.\n        textContent.clearStates();\n      }\n\n      var txConStlOptNormal = txConOptNormal && txConOptNormal.style;\n      updateElNormal(null, textContent, null, dataIndex, txConOptNormal, txConStlOptNormal, null, seriesModel, isInit, true);\n\n      for (var i = 0; i < STATES.length; i++) {\n        var stateName = STATES[i];\n\n        if (stateName !== NORMAL) {\n          var txConOptOtherState = attachedTxInfo[stateName].conOpt;\n          updateElOnState(stateName, textContent, txConOptOtherState, retrieveStyleOptionOnState(txConOptNormal, txConOptOtherState, stateName), null, false, true);\n        }\n      }\n\n      txConStlOptNormal ? textContent.dirty() : textContent.markRedraw();\n    }\n  }\n}\n\nfunction processTxInfo(elOption, state, attachedTxInfo) {\n  var stateOpt = !state ? elOption : retrieveStateOption(elOption, state);\n  var styleOpt = !state ? elOption.style : retrieveStyleOptionOnState(elOption, stateOpt, EMPHASIS);\n  var elType = elOption.type;\n  var txCfg = stateOpt ? stateOpt.textConfig : null;\n  var txConOptNormal = elOption.textContent;\n  var txConOpt = !txConOptNormal ? null : !state ? txConOptNormal : retrieveStateOption(txConOptNormal, state);\n\n  if (styleOpt && ( // Because emphasis style has little info to detect legacy,\n  // if normal is legacy, emphasis is trade as legacy.\n  attachedTxInfo.isLegacy || isEC4CompatibleStyle(styleOpt, elType, !!txCfg, !!txConOpt))) {\n    attachedTxInfo.isLegacy = true;\n    var convertResult = convertFromEC4CompatibleStyle(styleOpt, elType, !state); // Explicitly specified `textConfig` and `textContent` has higher priority than\n    // the ones generated by legacy style. Otherwise if users use them and `api.style`\n    // at the same time, they not both work and hardly to known why.\n\n    if (!txCfg && convertResult.textConfig) {\n      txCfg = convertResult.textConfig;\n    }\n\n    if (!txConOpt && convertResult.textContent) {\n      txConOpt = convertResult.textContent;\n    }\n  }\n\n  if (!state && txConOpt) {\n    var txConOptNormal_1 = txConOpt; // `textContent: {type: 'text'}`, the \"type\" is easy to be missing. So we tolerate it.\n\n    !txConOptNormal_1.type && (txConOptNormal_1.type = 'text');\n\n    if (process.env.NODE_ENV !== 'production') {\n      // Do not tolerate incorret type for forward compat.\n      txConOptNormal_1.type !== 'text' && assert(txConOptNormal_1.type === 'text', 'textContent.type must be \"text\"');\n    }\n  }\n\n  var info = !state ? attachedTxInfo.normal : attachedTxInfo[state];\n  info.cfg = txCfg;\n  info.conOpt = txConOpt;\n}\n\nfunction retrieveStateOption(elOption, state) {\n  return !state ? elOption : elOption ? elOption[state] : null;\n}\n\nfunction retrieveStyleOptionOnState(stateOptionNormal, stateOption, state) {\n  var style = stateOption && stateOption.style;\n\n  if (style == null && state === EMPHASIS && stateOptionNormal) {\n    style = stateOptionNormal.styleEmphasis;\n  }\n\n  return style;\n} // Usage:\n// (1) By default, `elOption.$mergeChildren` is `'byIndex'`, which indicates that\n//     the existing children will not be removed, and enables the feature that\n//     update some of the props of some of the children simply by construct\n//     the returned children of `renderItem` like:\n//     `var children = group.children = []; children[3] = {opacity: 0.5};`\n// (2) If `elOption.$mergeChildren` is `'byName'`, add/update/remove children\n//     by child.name. But that might be lower performance.\n// (3) If `elOption.$mergeChildren` is `false`, the existing children will be\n//     replaced totally.\n// (4) If `!elOption.children`, following the \"merge\" principle, nothing will happen.\n//\n// For implementation simpleness, do not provide a direct way to remove sinlge\n// child (otherwise the total indicies of the children array have to be modified).\n// User can remove a single child by set its `ignore` as `true`.\n\n\nfunction mergeChildren(api, el, dataIndex, elOption, seriesModel, morphPreparation) {\n  var newChildren = elOption.children;\n  var newLen = newChildren ? newChildren.length : 0;\n  var mergeChildren = elOption.$mergeChildren; // `diffChildrenByName` has been deprecated.\n\n  var byName = mergeChildren === 'byName' || elOption.diffChildrenByName;\n  var notMerge = mergeChildren === false; // For better performance on roam update, only enter if necessary.\n\n  if (!newLen && !byName && !notMerge) {\n    return;\n  }\n\n  if (byName) {\n    diffGroupChildren({\n      api: api,\n      oldChildren: el.children() || [],\n      newChildren: newChildren || [],\n      dataIndex: dataIndex,\n      seriesModel: seriesModel,\n      group: el,\n      morphPreparation: morphPreparation\n    });\n    return;\n  }\n\n  notMerge && el.removeAll(); // Mapping children of a group simply by index, which\n  // might be better performance.\n\n  var index = 0;\n\n  for (; index < newLen; index++) {\n    newChildren[index] && doCreateOrUpdateEl(api, el.childAt(index), dataIndex, newChildren[index], seriesModel, el, false, morphPreparation);\n  }\n\n  for (var i = el.childCount() - 1; i >= index; i--) {\n    // Do not supprot leave elements that are not mentioned in the latest\n    // `renderItem` return. Otherwise users may not have a clear and simple\n    // concept that how to contorl all of the elements.\n    doRemoveEl(el.childAt(i), seriesModel, el);\n  }\n}\n\nfunction diffGroupChildren(context) {\n  new DataDiffer(context.oldChildren, context.newChildren, getKey, getKey, context).add(processAddUpdate).update(processAddUpdate).remove(processRemove).execute();\n}\n\nfunction getKey(item, idx) {\n  var name = item && item.name;\n  return name != null ? name : GROUP_DIFF_PREFIX + idx;\n}\n\nfunction processAddUpdate(newIndex, oldIndex) {\n  var context = this.context;\n  var childOption = newIndex != null ? context.newChildren[newIndex] : null;\n  var child = oldIndex != null ? context.oldChildren[oldIndex] : null;\n  doCreateOrUpdateEl(context.api, child, context.dataIndex, childOption, context.seriesModel, context.group, false, context.morphPreparation);\n}\n\nfunction processRemove(oldIndex) {\n  var context = this.context;\n  var child = context.oldChildren[oldIndex];\n  doRemoveEl(child, context.seriesModel, context.group);\n}\n\nfunction doRemoveEl(el, seriesModel, group) {\n  if (el) {\n    var leaveToProps = inner(el).leaveToProps;\n    leaveToProps ? graphicUtil.updateProps(el, leaveToProps, seriesModel, {\n      cb: function () {\n        group.remove(el);\n      }\n    }) : group.remove(el);\n  }\n}\n/**\n * @return SVG Path data.\n */\n\n\nfunction getPathData(shape) {\n  // \"d\" follows the SVG convention.\n  return shape && (shape.pathData || shape.d);\n}\n\nfunction hasOwnPathData(shape) {\n  return shape && (hasOwn(shape, 'pathData') || hasOwn(shape, 'd'));\n}\n\nfunction isPath(el) {\n  return el && el instanceof graphicUtil.Path;\n}\n\nfunction removeElementDirectly(el, group) {\n  el && group.remove(el);\n}\n/**\n * Any morph-potential el should added by `morphPreparation.addTo(el)`.\n * And they may apply morph or not when `morphPreparation.applyMorphing()`.\n * But at least, all of the \"to\" elements will apply all of the updates\n * as `doCreateOrUpdateItem` did.\n */\n\n\nvar MorphPreparation =\n/** @class */\nfunction () {\n  function MorphPreparation(seriesModel, transOpt) {\n    this._fromList = [];\n    this._toList = [];\n    this._toElOptionList = [];\n    this._allPropsFinalList = [];\n    this._toDataIndices = []; // Key: `toDataIndex`, not `toIdx`\n\n    this._morphConfigList = [];\n    this._seriesModel = seriesModel;\n    this._transOpt = transOpt;\n  }\n\n  MorphPreparation.prototype.hasFrom = function () {\n    return !!this._fromList.length;\n  }; // isOneToOneFrom(el: Element): boolean {\n  //     if (el && inner(el).canMorph) {\n  //         const fromList = this._fromList;\n  //         for (let i = 0; i < fromList.length; i++) {\n  //             if (fromList[i] === el) {\n  //                 return true;\n  //             }\n  //         }\n  //     }\n  // }\n\n\n  MorphPreparation.prototype.findAndAddFrom = function (el) {\n    if (!el) {\n      return;\n    }\n\n    if (inner(el).canMorph) {\n      this._fromList.push(el);\n    }\n\n    if (el.isGroup) {\n      var children = el.childrenRef();\n\n      for (var i = 0; i < children.length; i++) {\n        this.findAndAddFrom(children[i]);\n      }\n    }\n  };\n\n  MorphPreparation.prototype.addTo = function (path, elOption, dataIndex, allPropsFinal) {\n    if (path) {\n      this._toList.push(path);\n\n      this._toElOptionList.push(elOption);\n\n      this._toDataIndices.push(dataIndex);\n\n      this._allPropsFinalList.push(allPropsFinal);\n    }\n  };\n\n  MorphPreparation.prototype.applyMorphing = function () {\n    // [MORPHING_LOGIC_HINT]\n    // Pay attention to the order:\n    // (A) Apply `allPropsFinal` and `styleOption` to \"to\".\n    //     (Then \"to\" becomes to the final state.)\n    // (B) Apply `morphPath`/`combine`/`separate`.\n    //     (Based on the current state of \"from\" and the final state of \"to\".)\n    //     (Then we may get \"from.subList\" or \"to.subList\".)\n    // (C) Copy the related props from \"from\" to \"from.subList\", from \"to\" to \"to.subList\".\n    // (D) Collect `transitionFromProps` for \"to\" and \"to.subList\"\n    //     (Based on \"from\" or \"from.subList\".)\n    // (E) Apply `transitionFromProps` to \"to\" and \"to.subList\"\n    //     (It might change the prop values to the first frame value.)\n    // Case_I:\n    //     If (D) should be after (C), we use sequence: A - B - C - D - E\n    // Case_II:\n    //     If (A) should be after (D), we use sequence: D - A - B - C - E\n    // [MORPHING_LOGIC_HINT]\n    // zrender `morphPath`/`combine`/`separate` only manages the shape animation.\n    // Other props (like transfrom, style transition) will handled in echarts).\n    // [MORPHING_LOGIC_HINT]\n    // Make sure `applyPropsFinal` always be called for \"to\".\n    var type = this._type;\n    var fromList = this._fromList;\n    var toList = this._toList;\n    var toListLen = toList.length;\n    var fromListLen = fromList.length;\n\n    if (!fromListLen || !toListLen) {\n      return;\n    }\n\n    if (type === 'oneToOne') {\n      // In one-to-one case, we by default apply a simple rule:\n      // map \"from\" and \"to\" one by one.\n      // For this case: old_data_item_el and new_data_item_el\n      // has the same hierarchy of group tree but only some path type changed.\n      for (var toIdx = 0; toIdx < toListLen; toIdx++) {\n        this._oneToOneForSingleTo(toIdx, toIdx);\n      }\n    } else if (type === 'manyToOne') {\n      // A rough strategy: if there are more than one \"to\", we simply divide \"fromList\" equally.\n      var fromSingleSegLen = Math.max(1, Math.floor(fromListLen / toListLen));\n\n      for (var toIdx = 0, fromIdxStart = 0; toIdx < toListLen; toIdx++, fromIdxStart += fromSingleSegLen) {\n        var fromCount = toIdx + 1 >= toListLen ? fromListLen - fromIdxStart : fromSingleSegLen;\n\n        this._manyToOneForSingleTo(toIdx, fromIdxStart >= fromListLen ? null : fromIdxStart, fromCount);\n      }\n    } else if (type === 'oneToMany') {\n      // A rough strategy: if there are more than one \"from\", we simply divide \"toList\" equally.\n      var toSingleSegLen = Math.max(1, Math.floor(toListLen / fromListLen));\n\n      for (var toIdxStart = 0, fromIdx = 0; toIdxStart < toListLen; toIdxStart += toSingleSegLen, fromIdx++) {\n        var toCount = toIdxStart + toSingleSegLen >= toListLen ? toListLen - toIdxStart : toSingleSegLen;\n\n        this._oneToManyForSingleFrom(toIdxStart, toCount, fromIdx >= fromListLen ? null : fromIdx);\n      }\n    }\n  };\n\n  MorphPreparation.prototype._oneToOneForSingleTo = function ( // \"to\" must NOT be null/undefined.\n  toIdx, // May `fromIdx >= this._fromList.length`\n  fromIdx) {\n    var to = this._toList[toIdx];\n    var toElOption = this._toElOptionList[toIdx];\n    var toDataIndex = this._toDataIndices[toIdx];\n    var allPropsFinal = this._allPropsFinalList[toIdx];\n    var from = this._fromList[fromIdx];\n\n    var elAnimationConfig = this._getOrCreateMorphConfig(toDataIndex);\n\n    var morphDuration = elAnimationConfig.duration;\n\n    if (from && isCombiningPath(from)) {\n      applyPropsFinal(to, allPropsFinal, toElOption.style);\n\n      if (morphDuration) {\n        var combineResult = combine([from], to, elAnimationConfig, copyPropsWhenDivided);\n\n        this._processResultIndividuals(combineResult, toIdx, null);\n      } // The target el will not be displayed and transition from multiple path.\n      // transition on the target el does not make sense.\n\n    } else {\n      var morphFrom = morphDuration // from === to usually happen in scenarios where internal update like\n      // \"dataZoom\", \"legendToggle\" happen. If from is not in any morphing,\n      // we do not need to call `morphPath`.\n      && from && (from !== to || isInAnyMorphing(from)) ? from : null; // See [Case_II] above.\n      // In this case, there is probably `from === to`. And the `transitionFromProps` collecting\n      // does not depends on morphing. So we collect `transitionFromProps` first.\n\n      var transFromProps = {};\n      prepareShapeOrExtraTransitionFrom('shape', to, morphFrom, toElOption, transFromProps, false);\n      prepareShapeOrExtraTransitionFrom('extra', to, morphFrom, toElOption, transFromProps, false);\n      prepareTransformTransitionFrom(to, morphFrom, toElOption, transFromProps, false);\n      prepareStyleTransitionFrom(to, morphFrom, toElOption, toElOption.style, transFromProps, false);\n      applyPropsFinal(to, allPropsFinal, toElOption.style);\n\n      if (morphFrom) {\n        morphPath(morphFrom, to, elAnimationConfig);\n      }\n\n      applyTransitionFrom(to, toDataIndex, toElOption, this._seriesModel, transFromProps, false);\n    }\n  };\n\n  MorphPreparation.prototype._manyToOneForSingleTo = function ( // \"to\" must NOT be null/undefined.\n  toIdx, // May be null.\n  fromIdxStart, fromCount) {\n    var to = this._toList[toIdx];\n    var toElOption = this._toElOptionList[toIdx];\n    var allPropsFinal = this._allPropsFinalList[toIdx];\n    applyPropsFinal(to, allPropsFinal, toElOption.style);\n\n    var elAnimationConfig = this._getOrCreateMorphConfig(this._toDataIndices[toIdx]);\n\n    if (elAnimationConfig.duration && fromIdxStart != null) {\n      var combineFromList = [];\n\n      for (var fromIdx = fromIdxStart; fromIdx < fromCount; fromIdx++) {\n        combineFromList.push(this._fromList[fromIdx]);\n      }\n\n      var combineResult = combine(combineFromList, to, elAnimationConfig, copyPropsWhenDivided);\n\n      this._processResultIndividuals(combineResult, toIdx, null);\n    }\n  };\n\n  MorphPreparation.prototype._oneToManyForSingleFrom = function ( // \"to\" must NOT be null/undefined.\n  toIdxStart, toCount, // May be null\n  fromIdx) {\n    var from = fromIdx == null ? null : this._fromList[fromIdx];\n    var toList = this._toList;\n    var separateToList = [];\n\n    for (var toIdx = toIdxStart; toIdx < toCount; toIdx++) {\n      var to = toList[toIdx];\n      applyPropsFinal(to, this._allPropsFinalList[toIdx], this._toElOptionList[toIdx].style);\n      separateToList.push(to);\n    }\n\n    var elAnimationConfig = this._getOrCreateMorphConfig(this._toDataIndices[toIdxStart]);\n\n    if (elAnimationConfig.duration && from) {\n      var separateResult = separate(from, separateToList, elAnimationConfig, copyPropsWhenDivided);\n\n      this._processResultIndividuals(separateResult, toIdxStart, toCount);\n    }\n  };\n\n  MorphPreparation.prototype._processResultIndividuals = function (combineSeparateResult, toIdxStart, toCount) {\n    var isSeparate = toCount != null;\n\n    for (var i = 0; i < combineSeparateResult.count; i++) {\n      var fromIndividual = combineSeparateResult.fromIndividuals[i];\n      var toIndividual = combineSeparateResult.toIndividuals[i]; // Here it's a trick:\n      // For \"combine\" case, all of the `toIndividuals` map to the same `toIdx`.\n      // For \"separate\" case, the `toIndividuals` map to some certain segment of `_toList` accurately.\n\n      var toIdx = toIdxStart + (isSeparate ? i : 0);\n      var toElOption = this._toElOptionList[toIdx];\n      var dataIndex = this._toDataIndices[toIdx];\n      var transFromProps = {};\n      prepareTransformTransitionFrom(toIndividual, fromIndividual, toElOption, transFromProps, false);\n      prepareStyleTransitionFrom(toIndividual, fromIndividual, toElOption, toElOption.style, transFromProps, false);\n      applyTransitionFrom(toIndividual, dataIndex, toElOption, this._seriesModel, transFromProps, false);\n    }\n  };\n\n  MorphPreparation.prototype._getOrCreateMorphConfig = function (dataIndex) {\n    var morphConfigList = this._morphConfigList;\n    var config = morphConfigList[dataIndex];\n\n    if (config) {\n      return config;\n    }\n\n    var duration;\n    var easing;\n    var delay;\n    var seriesModel = this._seriesModel;\n    var transOpt = this._transOpt;\n\n    if (seriesModel.isAnimationEnabled()) {\n      // PENDING: refactor? this is the same logic as `src/util/graphic.ts#animateOrSetProps`.\n      var animationPayload = void 0;\n\n      if (seriesModel && seriesModel.ecModel) {\n        var updatePayload = seriesModel.ecModel.getUpdatePayload();\n        animationPayload = updatePayload && updatePayload.animation;\n      }\n\n      if (animationPayload) {\n        duration = animationPayload.duration || 0;\n        easing = animationPayload.easing || 'cubicOut';\n        delay = animationPayload.delay || 0;\n      } else {\n        easing = seriesModel.get('animationEasingUpdate');\n        var delayOption = seriesModel.get('animationDelayUpdate');\n        delay = isFunction(delayOption) ? delayOption(dataIndex) : delayOption;\n        var durationOption = seriesModel.get('animationDurationUpdate');\n        duration = isFunction(durationOption) ? durationOption(dataIndex) : durationOption;\n      }\n    }\n\n    config = {\n      duration: duration || 0,\n      delay: delay,\n      easing: easing,\n      dividingMethod: transOpt ? transOpt.dividingMethod : null\n    };\n    morphConfigList[dataIndex] = config;\n    return config;\n  };\n\n  MorphPreparation.prototype.reset = function (type) {\n    // `this._morphConfigList` can be kept. It only related to `dataIndex`.\n    this._type = type;\n    this._fromList.length = this._toList.length = this._toElOptionList.length = this._allPropsFinalList.length = this._toDataIndices.length = 0;\n  };\n\n  return MorphPreparation;\n}();\n\nfunction copyPropsWhenDivided(srcPath, tarPath, willClone) {\n  // Do not copy transform props.\n  // Sub paths are transfrom based on their host path.\n  // tarPath.x = srcPath.x;\n  // tarPath.y = srcPath.y;\n  // tarPath.scaleX = srcPath.scaleX;\n  // tarPath.scaleY = srcPath.scaleY;\n  // tarPath.originX = srcPath.originX;\n  // tarPath.originY = srcPath.originY;\n  // If just carry the style, will not be modifed, so do not copy.\n  tarPath.style = willClone ? clone(srcPath.style) : srcPath.style;\n  tarPath.zlevel = srcPath.zlevel;\n  tarPath.z = srcPath.z;\n  tarPath.z2 = srcPath.z2;\n}\n\nexport function install(registers) {\n  registers.registerChartView(CustomSeriesView);\n  registers.registerSeriesModel(CustomSeriesModel);\n}"],
  "mappings": "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",
  "names": []
}
